var WS=Object.create;var Vi=Object.defineProperty;var zS=Object.getOwnPropertyDescriptor;var GS=Object.getOwnPropertyNames;var HS=Object.getPrototypeOf,QS=Object.prototype.hasOwnProperty;var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pe=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},KS=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of GS(t))!QS.call(e,n)&&n!==r&&Vi(e,n,{get:()=>t[n],enumerable:!(s=zS(t,n))||s.enumerable});return e};var I=(e,t,r)=>(r=e!=null?WS(HS(e)):{},KS(t||!e||!e.__esModule?Vi(r,"default",{value:e,enumerable:!0}):r,e));var Lc=g((oP,Ui)=>{var K=String,Mc=function(){return{isColorSupported:!1,reset:K,bold:K,dim:K,italic:K,underline:K,inverse:K,hidden:K,strikethrough:K,black:K,red:K,green:K,yellow:K,blue:K,magenta:K,cyan:K,white:K,gray:K,bgBlack:K,bgRed:K,bgGreen:K,bgYellow:K,bgBlue:K,bgMagenta:K,bgCyan:K,bgWhite:K}};Ui.exports=Mc();Ui.exports.createColors=Mc});var $i=g(()=>{});var Cn=g((lP,Uc)=>{"use strict";var Fc=Lc(),Vc=$i(),ns=class e extends Error{constructor(t,r,s,n,o,i){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),n&&(this.source=n),i&&(this.plugin=i),typeof r<"u"&&typeof s<"u"&&(typeof r=="number"?(this.line=r,this.column=s):(this.line=r.line,this.column=r.column,this.endLine=s.line,this.endColumn=s.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let r=this.source;t==null&&(t=Fc.isColorSupported),Vc&&t&&(r=Vc(r));let s=r.split(/\r?\n/),n=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),i=String(o).length,a,l;if(t){let{bold:u,gray:c,red:f}=Fc.createColors(!0);a=p=>u(f(p)),l=p=>c(p)}else a=l=u=>u;return s.slice(n,o).map((u,c)=>{let f=n+1+c,p=" "+(" "+f).slice(-i)+" | ";if(f===this.line){let d=l(p.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+l(p)+u+`
 `+d+a("^")}return" "+l(p)+u}).join(`
`)}toString(){let t=this.showSourceCode();return t&&(t=`

`+t+`
`),this.name+": "+this.message+t}};Uc.exports=ns;ns.default=ns});var En=g((uP,qi)=>{"use strict";qi.exports.isClean=Symbol("isClean");qi.exports.my=Symbol("my")});var ji=g((cP,qc)=>{"use strict";var $c={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function YS(e){return e[0].toUpperCase()+e.slice(1)}var os=class{constructor(t){this.builder=t}atrule(t,r){let s="@"+t.name,n=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?s+=t.raws.afterName:n&&(s+=" "),t.nodes)this.block(t,s+n);else{let o=(t.raws.between||"")+(r?";":"");this.builder(s+n+o,t)}}beforeAfter(t,r){let s;t.type==="decl"?s=this.raw(t,null,"beforeDecl"):t.type==="comment"?s=this.raw(t,null,"beforeComment"):r==="before"?s=this.raw(t,null,"beforeRule"):s=this.raw(t,null,"beforeClose");let n=t.parent,o=0;for(;n&&n.type!=="root";)o+=1,n=n.parent;if(s.includes(`
`)){let i=this.raw(t,null,"indent");if(i.length)for(let a=0;a<o;a++)s+=i}return s}block(t,r){let s=this.raw(t,"between","beforeOpen");this.builder(r+s+"{",t,"start");let n;t.nodes&&t.nodes.length?(this.body(t),n=this.raw(t,"after")):n=this.raw(t,"after","emptyBody"),n&&this.builder(n),this.builder("}",t,"end")}body(t){let r=t.nodes.length-1;for(;r>0&&t.nodes[r].type==="comment";)r-=1;let s=this.raw(t,"semicolon");for(let n=0;n<t.nodes.length;n++){let o=t.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,r!==n||s)}}comment(t){let r=this.raw(t,"left","commentLeft"),s=this.raw(t,"right","commentRight");this.builder("/*"+r+t.text+s+"*/",t)}decl(t,r){let s=this.raw(t,"between","colon"),n=t.prop+s+this.rawValue(t,"value");t.important&&(n+=t.raws.important||" !important"),r&&(n+=";"),this.builder(n,t)}document(t){this.body(t)}raw(t,r,s){let n;if(s||(s=r),r&&(n=t.raws[r],typeof n<"u"))return n;let o=t.parent;if(s==="before"&&(!o||o.type==="root"&&o.first===t||o&&o.type==="document"))return"";if(!o)return $c[s];let i=t.root();if(i.rawCache||(i.rawCache={}),typeof i.rawCache[s]<"u")return i.rawCache[s];if(s==="before"||s==="after")return this.beforeAfter(t,s);{let a="raw"+YS(s);this[a]?n=this[a](i,t):i.walk(l=>{if(n=l.raws[r],typeof n<"u")return!1})}return typeof n>"u"&&(n=$c[s]),i.rawCache[s]=n,n}rawBeforeClose(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length>0&&typeof s.raws.after<"u")return r=s.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawBeforeComment(t,r){let s;return t.walkComments(n=>{if(typeof n.raws.before<"u")return s=n.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(r,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeDecl(t,r){let s;return t.walkDecls(n=>{if(typeof n.raws.before<"u")return s=n.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(r,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeOpen(t){let r;return t.walk(s=>{if(s.type!=="decl"&&(r=s.raws.between,typeof r<"u"))return!1}),r}rawBeforeRule(t){let r;return t.walk(s=>{if(s.nodes&&(s.parent!==t||t.first!==s)&&typeof s.raws.before<"u")return r=s.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawColon(t){let r;return t.walkDecls(s=>{if(typeof s.raws.between<"u")return r=s.raws.between.replace(/[^\s:]/g,""),!1}),r}rawEmptyBody(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length===0&&(r=s.raws.after,typeof r<"u"))return!1}),r}rawIndent(t){if(t.raws.indent)return t.raws.indent;let r;return t.walk(s=>{let n=s.parent;if(n&&n!==t&&n.parent&&n.parent===t&&typeof s.raws.before<"u"){let o=s.raws.before.split(`
`);return r=o[o.length-1],r=r.replace(/\S/g,""),!1}}),r}rawSemicolon(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length&&s.last.type==="decl"&&(r=s.raws.semicolon,typeof r<"u"))return!1}),r}rawValue(t,r){let s=t[r],n=t.raws[r];return n&&n.value===s?n.raw:s}root(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}rule(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}stringify(t,r){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,r)}};qc.exports=os;os.default=os});var is=g((fP,jc)=>{"use strict";var JS=ji();function Bi(e,t){new JS(t).stringify(e)}jc.exports=Bi;Bi.default=Bi});var ls=g((pP,Bc)=>{"use strict";var{isClean:Tn,my:XS}=En(),ZS=Cn(),ev=ji(),tv=is();function Wi(e,t){let r=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s)||s==="proxyCache")continue;let n=e[s],o=typeof n;s==="parent"&&o==="object"?t&&(r[s]=t):s==="source"?r[s]=n:Array.isArray(n)?r[s]=n.map(i=>Wi(i,r)):(o==="object"&&n!==null&&(n=Wi(n)),r[s]=n)}return r}var as=class{constructor(t={}){this.raws={},this[Tn]=!1,this[XS]=!0;for(let r in t)if(r==="nodes"){this.nodes=[];for(let s of t[r])typeof s.clone=="function"?this.append(s.clone()):this.append(s)}else this[r]=t[r]}addToError(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){let r=this.source;t.stack=t.stack.replace(/\n\s{4}at /,`$&${r.input.from}:${r.start.line}:${r.start.column}$&`)}return t}after(t){return this.parent.insertAfter(this,t),this}assign(t={}){for(let r in t)this[r]=t[r];return this}before(t){return this.parent.insertBefore(this,t),this}cleanRaws(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}clone(t={}){let r=Wi(this);for(let s in t)r[s]=t[s];return r}cloneAfter(t={}){let r=this.clone(t);return this.parent.insertAfter(this,r),r}cloneBefore(t={}){let r=this.clone(t);return this.parent.insertBefore(this,r),r}error(t,r={}){if(this.source){let{end:s,start:n}=this.rangeBy(r);return this.source.input.error(t,{column:n.column,line:n.line},{column:s.column,line:s.line},r)}return new ZS(t)}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:r==="root"?()=>t.root().toProxy():t[r]},set(t,r,s){return t[r]===s||(t[r]=s,(r==="prop"||r==="value"||r==="name"||r==="params"||r==="important"||r==="text")&&t.markDirty()),!0}}}markDirty(){if(this[Tn]){this[Tn]=!1;let t=this;for(;t=t.parent;)t[Tn]=!1}}next(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t+1]}positionBy(t,r){let s=this.source.start;if(t.index)s=this.positionInside(t.index,r);else if(t.word){r=this.toString();let n=r.indexOf(t.word);n!==-1&&(s=this.positionInside(n,r))}return s}positionInside(t,r){let s=r||this.toString(),n=this.source.start.column,o=this.source.start.line;for(let i=0;i<t;i++)s[i]===`
`?(n=1,o+=1):n+=1;return{column:n,line:o}}prev(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t-1]}rangeBy(t){let r={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:r.column+1,line:r.line};if(t.word){let n=this.toString(),o=n.indexOf(t.word);o!==-1&&(r=this.positionInside(o,n),s=this.positionInside(o+t.word.length,n))}else t.start?r={column:t.start.column,line:t.start.line}:t.index&&(r=this.positionInside(t.index)),t.end?s={column:t.end.column,line:t.end.line}:t.endIndex?s=this.positionInside(t.endIndex):t.index&&(s=this.positionInside(t.index+1));return(s.line<r.line||s.line===r.line&&s.column<=r.column)&&(s={column:r.column+1,line:r.line}),{end:s,start:r}}raw(t,r){return new ev().raw(this,t,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...t){if(this.parent){let r=this,s=!1;for(let n of t)n===this?s=!0:s?(this.parent.insertAfter(r,n),r=n):this.parent.insertBefore(r,n);s||this.remove()}return this}root(){let t=this;for(;t.parent&&t.parent.type!=="document";)t=t.parent;return t}toJSON(t,r){let s={},n=r==null;r=r||new Map;let o=0;for(let i in this){if(!Object.prototype.hasOwnProperty.call(this,i)||i==="parent"||i==="proxyCache")continue;let a=this[i];if(Array.isArray(a))s[i]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,r):l);else if(typeof a=="object"&&a.toJSON)s[i]=a.toJSON(null,r);else if(i==="source"){let l=r.get(a.input);l==null&&(l=o,r.set(a.input,o),o++),s[i]={end:a.end,inputId:l,start:a.start}}else s[i]=a}return n&&(s.inputs=[...r.keys()].map(i=>i.toJSON())),s}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(t=tv){t.stringify&&(t=t.stringify);let r="";return t(this,s=>{r+=s}),r}warn(t,r,s){let n={node:this};for(let o in s)n[o]=s[o];return t.warn(r,n)}get proxyOf(){return this}};Bc.exports=as;as.default=as});var cs=g((dP,Wc)=>{"use strict";var rv=ls(),us=class extends rv{constructor(t){t&&typeof t.value<"u"&&typeof t.value!="string"&&(t={...t,value:String(t.value)}),super(t),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};Wc.exports=us;us.default=us});var xn=g(()=>{});var Pe=g((yP,Hc)=>{var fs={cwd:function(){return"/"},env:{}};function zc(e){let t=typeof e;return t==="object"&&e===null?"null":t}function te(e,t){if(typeof e!="string")throw new TypeError(`[ERR_INVALID_ARG_TYPE]: The "${t}" argument must be of type string. Received ${zc(e)}`)}function P(e){return e===47||e===92}function zi(e){return e===47}function Et(e){return e>=65&&e<=90||e>=97&&e<=122}function wn(e,t,r,s){let n="",o=0,i=-1,a=0,l=0;for(let u=0;u<=e.length;++u){if(u<e.length)l=e.charCodeAt(u);else{if(s(l))break;l=47}if(s(l)){if(!(i===u-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){let c=n.lastIndexOf(r);c===-1?(n="",o=0):(n=n.slice(0,c),o=n.length-1-n.lastIndexOf(r)),i=u,a=0;continue}else if(n.length!==0){n="",o=0,i=u,a=0;continue}}t&&(n+=n.length>0?`${r}..`:"..",o=2)}else n.length>0?n+=`${r}${e.slice(i+1,u)}`:n=e.slice(i+1,u),o=u-i-1;i=u,a=0}else l===46&&a!==-1?++a:a=-1}return n}function Gc(e,t){if(t===null||typeof t!="object")throw new TypeError(`[ERR_INVALID_ARG_TYPE]: The "pathObject" argument must be of type object. Received ${zc(t)}`);let r=t.dir||t.root,s=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${s}`:`${r}${e}${s}`:s}var Ke={resolve(...e){let t="",r="",s=!1;for(let n=e.length-1;n>=-1;n--){let o;if(n>=0){if(o=e[n],te(o,"path"),o.length===0)continue}else t.length===0?o=fs.cwd():(o=fs.env[`=${t}`]||fs.cwd(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===92)&&(o=`${t}\\`));let i=o.length,a=0,l="",u=!1,c=o.charCodeAt(0);if(i===1)P(c)&&(a=1,u=!0);else if(P(c))if(u=!0,P(o.charCodeAt(1))){let f=2,p=f;for(;f<i&&!P(o.charCodeAt(f));)f++;if(f<i&&f!==p){let d=o.slice(p,f);for(p=f;f<i&&P(o.charCodeAt(f));)f++;if(f<i&&f!==p){for(p=f;f<i&&!P(o.charCodeAt(f));)f++;(f===i||f!==p)&&(l=`\\\\${d}\\${o.slice(p,f)}`,a=f)}}}else a=1;else Et(c)&&o.charCodeAt(1)===58&&(l=o.slice(0,2),a=2,i>2&&P(o.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(s){if(t.length>0)break}else if(r=`${o.slice(a)}\\${r}`,s=u,u&&t.length>0)break}return r=wn(r,!s,"\\",P),s?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){te(e,"path");let t=e.length;if(t===0)return".";let r=0,s,n=!1,o=e.charCodeAt(0);if(t===1)return zi(o)?"\\":e;if(P(o))if(n=!0,P(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!P(e.charCodeAt(a));)a++;if(a<t&&a!==l){let u=e.slice(l,a);for(l=a;a<t&&P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!P(e.charCodeAt(a));)a++;if(a===t)return`\\\\${u}\\${e.slice(l)}\\`;a!==l&&(s=`\\\\${u}\\${e.slice(l,a)}`,r=a)}}}else r=1;else Et(o)&&e.charCodeAt(1)===58&&(s=e.slice(0,2),r=2,t>2&&P(e.charCodeAt(2))&&(n=!0,r=3));let i=r<t?wn(e.slice(r),!n,"\\",P):"";return i.length===0&&!n&&(i="."),i.length>0&&P(e.charCodeAt(t-1))&&(i+="\\"),s===void 0?n?`\\${i}`:i:n?`${s}\\${i}`:`${s}${i}`},isAbsolute(e){te(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return P(r)||t>2&&Et(r)&&e.charCodeAt(1)===58&&P(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let i=e[o];te(i,"path"),i.length>0&&(t===void 0?t=r=i:t+=`\\${i}`)}if(t===void 0)return".";let s=!0,n=0;if(P(r.charCodeAt(0))){++n;let o=r.length;o>1&&P(r.charCodeAt(1))&&(++n,o>2&&(P(r.charCodeAt(2))?++n:s=!1))}if(s){for(;n<t.length&&P(t.charCodeAt(n));)n++;n>=2&&(t=`\\${t.slice(n)}`)}return Ke.normalize(t)},relative(e,t){if(te(e,"from"),te(t,"to"),e===t)return"";let r=Ke.resolve(e),s=Ke.resolve(t);if(r===s||(e=r.toLowerCase(),t=s.toLowerCase(),e===t))return"";let n=0;for(;n<e.length&&e.charCodeAt(n)===92;)n++;let o=e.length;for(;o-1>n&&e.charCodeAt(o-1)===92;)o--;let i=o-n,a=0;for(;a<t.length&&t.charCodeAt(a)===92;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===92;)l--;let u=l-a,c=i<u?i:u,f=-1,p=0;for(;p<c;p++){let m=e.charCodeAt(n+p);if(m!==t.charCodeAt(a+p))break;m===92&&(f=p)}if(p!==c){if(f===-1)return s}else{if(u>c){if(t.charCodeAt(a+p)===92)return s.slice(a+p+1);if(p===2)return s.slice(a+p)}i>c&&(e.charCodeAt(n+p)===92?f=p:p===2&&(f=3)),f===-1&&(f=0)}let d="";for(p=n+f+1;p<=o;++p)(p===o||e.charCodeAt(p)===92)&&(d+=d.length===0?"..":"\\..");return a+=f,d.length>0?`${d}${s.slice(a,l)}`:(s.charCodeAt(a)===92&&++a,s.slice(a,l))},toNamespacedPath(e){if(typeof e!="string")return e;if(e.length===0)return"";let t=Ke.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===92){if(t.charCodeAt(1)===92){let r=t.charCodeAt(2);if(r!==63&&r!==46)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Et(t.charCodeAt(0))&&t.charCodeAt(1)===58&&t.charCodeAt(2)===92)return`\\\\?\\${t}`;return e},dirname(e){te(e,"path");let t=e.length;if(t===0)return".";let r=-1,s=0,n=e.charCodeAt(0);if(t===1)return P(n)?e:".";if(P(n)){if(r=s=1,P(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!P(e.charCodeAt(a));)a++;if(a===t)return e;a!==l&&(r=s=a+1)}}}}else Et(n)&&e.charCodeAt(1)===58&&(r=t>2&&P(e.charCodeAt(2))?3:2,s=r);let o=-1,i=!0;for(let a=t-1;a>=s;--a)if(P(e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&te(t,"ext"),te(e,"path");let r=0,s=-1,n=!0;if(e.length>=2&&Et(e.charCodeAt(0))&&e.charCodeAt(1)===58&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,i=-1;for(let a=e.length-1;a>=r;--a){let l=e.charCodeAt(a);if(P(l)){if(!n){r=a+1;break}}else i===-1&&(n=!1,i=a+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=i))}return r===s?s=i:s===-1&&(s=e.length),e.slice(r,s)}for(let o=e.length-1;o>=r;--o)if(P(e.charCodeAt(o))){if(!n){r=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":e.slice(r,s)},extname(e){te(e,"path");let t=0,r=-1,s=0,n=-1,o=!0,i=0;e.length>=2&&e.charCodeAt(1)===58&&Et(e.charCodeAt(0))&&(t=s=2);for(let a=e.length-1;a>=t;--a){let l=e.charCodeAt(a);if(P(l)){if(!o){s=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===46?r===-1?r=a:i!==1&&(i=1):r!==-1&&(i=-1)}return r===-1||n===-1||i===0||i===1&&r===n-1&&r===s+1?"":e.slice(r,n)},format:Gc.bind(null,"\\"),parse(e){te(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,s=0,n=e.charCodeAt(0);if(r===1)return P(n)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(P(n)){if(s=1,P(e.charCodeAt(1))){let f=2,p=f;for(;f<r&&!P(e.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&P(e.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&!P(e.charCodeAt(f));)f++;f===r?s=f:f!==p&&(s=f+1)}}}}else if(Et(n)&&e.charCodeAt(1)===58){if(r<=2)return t.root=t.dir=e,t;if(s=2,P(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;s=3}}s>0&&(t.root=e.slice(0,s));let o=-1,i=s,a=-1,l=!0,u=e.length-1,c=0;for(;u>=s;--u){if(n=e.charCodeAt(u),P(n)){if(!l){i=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return a!==-1&&(o===-1||c===0||c===1&&o===a-1&&o===i+1?t.base=t.name=e.slice(i,a):(t.name=e.slice(i,o),t.base=e.slice(i,a),t.ext=e.slice(o,a))),i>0&&i!==s?t.dir=e.slice(0,i-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},rt={resolve(...e){let t="",r=!1;for(let s=e.length-1;s>=-1&&!r;s--){let n=s>=0?e[s]:fs.cwd();te(n,"path"),n.length!==0&&(t=`${n}/${t}`,r=n.charCodeAt(0)===47)}return t=wn(t,!r,"/",zi),r?`/${t}`:t.length>0?t:"."},normalize(e){if(te(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=wn(e,!t,"/",zi),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return te(e,"path"),e.length>0&&e.charCodeAt(0)===47},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let s=e[r];te(s,"path"),s.length>0&&(t===void 0?t=s:t+=`/${s}`)}return t===void 0?".":rt.normalize(t)},relative(e,t){if(te(e,"from"),te(t,"to"),e===t||(e=rt.resolve(e),t=rt.resolve(t),e===t))return"";let r=1,s=e.length,n=s-r,o=1,i=t.length-o,a=n<i?n:i,l=-1,u=0;for(;u<a;u++){let f=e.charCodeAt(r+u);if(f!==t.charCodeAt(o+u))break;f===47&&(l=u)}if(u===a)if(i>a){if(t.charCodeAt(o+u)===47)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else n>a&&(e.charCodeAt(r+u)===47?l=u:u===0&&(l=0));let c="";for(u=r+l+1;u<=s;++u)(u===s||e.charCodeAt(u)===47)&&(c+=c.length===0?"..":"/..");return`${c}${t.slice(o+l)}`},toNamespacedPath(e){return e},dirname(e){if(te(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===47,r=-1,s=!0;for(let n=e.length-1;n>=1;--n)if(e.charCodeAt(n)===47){if(!s){r=n;break}}else s=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&te(t,"ext"),te(e,"path");let r=0,s=-1,n=!0;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,i=-1;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===47){if(!n){r=a+1;break}}else i===-1&&(n=!1,i=a+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=i))}return r===s?s=i:s===-1&&(s=e.length),e.slice(r,s)}for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!n){r=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":e.slice(r,s)},extname(e){te(e,"path");let t=-1,r=0,s=-1,n=!0,o=0;for(let i=e.length-1;i>=0;--i){let a=e.charCodeAt(i);if(a===47){if(!n){r=i+1;break}continue}s===-1&&(n=!1,s=i+1),a===46?t===-1?t=i:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||s===-1||o===0||o===1&&t===s-1&&t===r+1?"":e.slice(t,s)},format:Gc.bind(null,"/"),parse(e){te(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===47,s;r?(t.root="/",s=1):s=0;let n=-1,o=0,i=-1,a=!0,l=e.length-1,u=0;for(;l>=s;--l){let c=e.charCodeAt(l);if(c===47){if(!a){o=l+1;break}continue}i===-1&&(a=!1,i=l+1),c===46?n===-1?n=l:u!==1&&(u=1):n!==-1&&(u=-1)}if(i!==-1){let c=o===0&&r?1:o;n===-1||u===0||u===1&&n===i-1&&n===o+1?t.base=t.name=e.slice(c,i):(t.name=e.slice(c,n),t.base=e.slice(c,i),t.ext=e.slice(n,i))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};rt.win32=Ke.win32=Ke;rt.posix=Ke.posix=rt;Ke._makeLong=Ke.toNamespacedPath;rt._makeLong=rt.toNamespacedPath;Hc.exports=fs.platform==="win32"?Ke:rt});var Gi=g(()=>{});var Kc=g((vP,Qc)=>{var sv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nv=(e,t=21)=>(r=t)=>{let s="",n=r;for(;n--;)s+=e[Math.random()*e.length|0];return s},ov=(e=21)=>{let t="",r=e;for(;r--;)t+=sv[Math.random()*64|0];return t};Qc.exports={nanoid:ov,customAlphabet:nv}});var Yc=g(()=>{});var Qi=g((AP,Zc)=>{"use strict";var{SourceMapConsumer:Jc,SourceMapGenerator:Xc}=xn(),{existsSync:iv,readFileSync:av}=Yc(),{dirname:Hi,join:lv}=Pe();function uv(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var ps=class{constructor(t,r){if(r.map===!1)return;this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");let s=r.map?r.map.prev:void 0,n=this.loadMap(r.from,s);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=Hi(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Jc(this.text)),this.consumerCache}decodeInline(t){let r=/^data:application\/json;charset=utf-?8;base64,/,s=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(n.test(t)||o.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(r.test(t)||s.test(t))return uv(t.substr(RegExp.lastMatch.length));let i=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+i)}getAnnotationURL(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(t){return typeof t!="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)}loadAnnotation(t){let r=t.match(/\/\*\s*# sourceMappingURL=/gm);if(!r)return;let s=t.lastIndexOf(r.pop()),n=t.indexOf("*/",s);s>-1&&n>-1&&(this.annotation=this.getAnnotationURL(t.substring(s,n)))}loadFile(t){if(this.root=Hi(t),iv(t))return this.mapFile=t,av(t,"utf-8").toString().trim()}loadMap(t,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){let s=r(t);if(s){let n=this.loadFile(s);if(!n)throw new Error("Unable to load previous source map: "+s.toString());return n}}else{if(r instanceof Jc)return Xc.fromSourceMap(r).toString();if(r instanceof Xc)return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let s=this.annotation;return t&&(s=lv(Hi(t),s)),this.loadFile(s)}}}startWith(t,r){return t?t.substr(0,r.length)===r:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};Zc.exports=ps;ps.default=ps});var ds=g((CP,sf)=>{"use strict";var{SourceMapConsumer:cv,SourceMapGenerator:fv}=xn(),{fileURLToPath:ef,pathToFileURL:Rn}=Gi(),{isAbsolute:Ji,resolve:Xi}=Pe(),{nanoid:pv}=Kc(),Ki=$i(),tf=Cn(),dv=Qi(),Yi=Symbol("fromOffsetCache"),mv=!!(cv&&fv),rf=!!(Xi&&Ji),pr=class{constructor(t,r={}){if(t===null||typeof t>"u"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!rf||/^\w+:\/\//.test(r.from)||Ji(r.from)?this.file=r.from:this.file=Xi(r.from)),rf&&mv){let s=new dv(this.css,r);if(s.text){this.map=s;let n=s.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+pv(6)+">"),this.map&&(this.map.file=this.from)}error(t,r,s,n={}){let o,i,a;if(r&&typeof r=="object"){let u=r,c=s;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);r=f.line,s=f.col}else r=u.line,s=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);i=f.line,a=f.col}else i=c.line,a=c.column}else if(!s){let u=this.fromOffset(r);r=u.line,s=u.col}let l=this.origin(r,s,i,a);return l?o=new tf(t,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,n.plugin):o=new tf(t,i===void 0?r:{column:s,line:r},i===void 0?s:{column:a,line:i},this.css,this.file,n.plugin),o.input={column:s,endColumn:a,endLine:i,line:r,source:this.css},this.file&&(Rn&&(o.input.url=Rn(this.file).toString()),o.input.file=this.file),o}fromOffset(t){let r,s;if(this[Yi])s=this[Yi];else{let o=this.css.split(`
`);s=new Array(o.length);let i=0;for(let a=0,l=o.length;a<l;a++)s[a]=i,i+=o[a].length+1;this[Yi]=s}r=s[s.length-1];let n=0;if(t>=r)n=s.length-1;else{let o=s.length-2,i;for(;n<o;)if(i=n+(o-n>>1),t<s[i])o=i-1;else if(t>=s[i+1])n=i+1;else{n=i;break}}return{col:t-s[n]+1,line:n+1}}mapResolve(t){return/^\w+:\/\//.test(t)?t:Xi(this.map.consumer().sourceRoot||this.map.root||".",t)}origin(t,r,s,n){if(!this.map)return!1;let o=this.map.consumer(),i=o.originalPositionFor({column:r,line:t});if(!i.source)return!1;let a;typeof s=="number"&&(a=o.originalPositionFor({column:n,line:s}));let l;Ji(i.source)?l=Rn(i.source):l=new URL(i.source,this.map.consumer().sourceRoot||Rn(this.map.mapFile));let u={column:i.column,endColumn:a&&a.column,endLine:a&&a.line,line:i.line,url:l.toString()};if(l.protocol==="file:")if(ef)u.file=ef(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(i.source);return c&&(u.source=c),u}toJSON(){let t={};for(let r of["hasBOM","css","file","id"])this[r]!=null&&(t[r]=this[r]);return this.map&&(t.map={...this.map},t.map.consumerCache&&(t.map.consumerCache=void 0)),t}get from(){return this.file||this.id}};sf.exports=pr;pr.default=pr;Ki&&Ki.registerInput&&Ki.registerInput(pr)});var ea=g((EP,cf)=>{"use strict";var{SourceMapConsumer:of,SourceMapGenerator:Nn}=xn(),{dirname:In,relative:af,resolve:lf,sep:uf}=Pe(),{pathToFileURL:nf}=Gi(),hv=ds(),yv=!!(of&&Nn),gv=!!(In&&lf&&af&&uf),Zi=class{constructor(t,r,s,n){this.stringify=t,this.mapOpts=s.map||{},this.root=r,this.opts=s,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";let r=`
`;this.css.includes(`\r
`)&&(r=`\r
`),this.css+=r+"/*# sourceMappingURL="+t+" */"}applyPrevMaps(){for(let t of this.previous()){let r=this.toUrl(this.path(t.file)),s=t.root||In(t.file),n;this.mapOpts.sourcesContent===!1?(n=new of(t.text),n.sourcesContent&&(n.sourcesContent=n.sourcesContent.map(()=>null))):n=t.consumer(),this.map.applySourceMap(n,r,this.toUrl(this.path(s)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let t;for(let r=this.root.nodes.length-1;r>=0;r--)t=this.root.nodes[r],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(r)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),gv&&yv&&this.isMap())return this.generateMap();{let t="";return this.stringify(this.root,r=>{t+=r}),[t]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Nn.fromSourceMap(t)}else this.map=new Nn({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Nn({file:this.outputFile()});let t=1,r=1,s="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,i;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(n.generated.line=t,n.generated.column=r-1,l.source&&l.source.start?(n.source=this.sourcePath(l),n.original.line=l.source.start.line,n.original.column=l.source.start.column-1,this.map.addMapping(n)):(n.source=s,n.original.line=1,n.original.column=0,this.map.addMapping(n))),o=a.match(/\n/g),o?(t+=o.length,i=a.lastIndexOf(`
`),r=a.length-i):r+=a.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(n.source=this.sourcePath(l),n.original.line=l.source.end.line,n.original.column=l.source.end.column-1,n.generated.line=t,n.generated.column=r-2,this.map.addMapping(n)):(n.source=s,n.original.line=1,n.original.column=0,n.generated.line=t,n.generated.column=r-1,this.map.addMapping(n)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(t=>t.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(r=>r.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(t=>t.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;let r=this.memoizedPaths.get(t);if(r)return r;let s=this.opts.to?In(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=In(lf(s,this.mapOpts.annotation)));let n=af(s,t);return this.memoizedPaths.set(t,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(t=>{if(t.source&&t.source.input.map){let r=t.source.input.map;this.previousMaps.includes(r)||this.previousMaps.push(r)}});else{let t=new hv(this.css,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}setSourcesContent(){let t={};if(this.root)this.root.walk(r=>{if(r.source){let s=r.source.input.from;if(s&&!t[s]){t[s]=!0;let n=this.usesFileUrls?this.toFileUrl(s):this.toUrl(this.path(s));this.map.setSourceContent(n,r.source.input.css)}}});else if(this.css){let r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}sourcePath(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}toBase64(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}toFileUrl(t){let r=this.memoizedFileURLs.get(t);if(r)return r;if(nf){let s=nf(t).toString();return this.memoizedFileURLs.set(t,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(t){let r=this.memoizedURLs.get(t);if(r)return r;uf==="\\"&&(t=t.replace(/\\/g,"/"));let s=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,s),s}};cf.exports=Zi});var dr=g((TP,ff)=>{"use strict";var Sv=ls(),ms=class extends Sv{constructor(t){super(t),this.type="comment"}};ff.exports=ms;ms.default=ms});var Tt=g((xP,bf)=>{"use strict";var{isClean:pf,my:df}=En(),mf=cs(),hf=dr(),vv=ls(),yf,ta,ra,gf;function Sf(e){return e.map(t=>(t.nodes&&(t.nodes=Sf(t.nodes)),delete t.source,t))}function vf(e){if(e[pf]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)vf(t)}var Be=class e extends vv{append(...t){for(let r of t){let s=this.normalize(r,this.last);for(let n of s)this.proxyOf.nodes.push(n)}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let r of this.nodes)r.cleanRaws(t)}each(t){if(!this.proxyOf.nodes)return;let r=this.getIterator(),s,n;for(;this.indexes[r]<this.proxyOf.nodes.length&&(s=this.indexes[r],n=t(this.proxyOf.nodes[s],s),n!==!1);)this.indexes[r]+=1;return delete this.indexes[r],n}every(t){return this.nodes.every(t)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:t[r]?r==="each"||typeof r=="string"&&r.startsWith("walk")?(...s)=>t[r](...s.map(n=>typeof n=="function"?(o,i)=>n(o.toProxy(),i):n)):r==="every"||r==="some"?s=>t[r]((n,...o)=>s(n.toProxy(),...o)):r==="root"?()=>t.root().toProxy():r==="nodes"?t.nodes.map(s=>s.toProxy()):r==="first"||r==="last"?t[r].toProxy():t[r]:t[r]},set(t,r,s){return t[r]===s||(t[r]=s,(r==="name"||r==="params"||r==="selector")&&t.markDirty()),!0}}}index(t){return typeof t=="number"?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}insertAfter(t,r){let s=this.index(t),n=this.normalize(r,this.proxyOf.nodes[s]).reverse();s=this.index(t);for(let i of n)this.proxyOf.nodes.splice(s+1,0,i);let o;for(let i in this.indexes)o=this.indexes[i],s<o&&(this.indexes[i]=o+n.length);return this.markDirty(),this}insertBefore(t,r){let s=this.index(t),n=s===0?"prepend":!1,o=this.normalize(r,this.proxyOf.nodes[s],n).reverse();s=this.index(t);for(let a of o)this.proxyOf.nodes.splice(s,0,a);let i;for(let a in this.indexes)i=this.indexes[a],s<=i&&(this.indexes[a]=i+o.length);return this.markDirty(),this}normalize(t,r){if(typeof t=="string")t=Sf(yf(t).nodes);else if(Array.isArray(t)){t=t.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type==="root"&&this.type!=="document"){t=t.nodes.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");typeof t.value!="string"&&(t.value=String(t.value)),t=[new mf(t)]}else if(t.selector)t=[new ta(t)];else if(t.name)t=[new ra(t)];else if(t.text)t=[new hf(t)];else throw new Error("Unknown node type in node creation");return t.map(n=>(n[df]||e.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[pf]&&vf(n),typeof n.raws.before>"u"&&r&&typeof r.raws.before<"u"&&(n.raws.before=r.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(...t){t=t.reverse();for(let r of t){let s=this.normalize(r,this.first,"prepend").reverse();for(let n of s)this.proxyOf.nodes.unshift(n);for(let n in this.indexes)this.indexes[n]=this.indexes[n]+s.length}return this.markDirty(),this}push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(t){t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);let r;for(let s in this.indexes)r=this.indexes[s],r>=t&&(this.indexes[s]=r-1);return this.markDirty(),this}replaceValues(t,r,s){return s||(s=r,r={}),this.walkDecls(n=>{r.props&&!r.props.includes(n.prop)||r.fast&&!n.value.includes(r.fast)||(n.value=n.value.replace(t,s))}),this.markDirty(),this}some(t){return this.nodes.some(t)}walk(t){return this.each((r,s)=>{let n;try{n=t(r,s)}catch(o){throw r.addToError(o)}return n!==!1&&r.walk&&(n=r.walk(t)),n})}walkAtRules(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="atrule"&&t.test(s.name))return r(s,n)}):this.walk((s,n)=>{if(s.type==="atrule"&&s.name===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="atrule")return r(s,n)}))}walkComments(t){return this.walk((r,s)=>{if(r.type==="comment")return t(r,s)})}walkDecls(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="decl"&&t.test(s.prop))return r(s,n)}):this.walk((s,n)=>{if(s.type==="decl"&&s.prop===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="decl")return r(s,n)}))}walkRules(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="rule"&&t.test(s.selector))return r(s,n)}):this.walk((s,n)=>{if(s.type==="rule"&&s.selector===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="rule")return r(s,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Be.registerParse=e=>{yf=e};Be.registerRule=e=>{ta=e};Be.registerAtRule=e=>{ra=e};Be.registerRoot=e=>{gf=e};bf.exports=Be;Be.default=Be;Be.rebuild=e=>{e.type==="atrule"?Object.setPrototypeOf(e,ra.prototype):e.type==="rule"?Object.setPrototypeOf(e,ta.prototype):e.type==="decl"?Object.setPrototypeOf(e,mf.prototype):e.type==="comment"?Object.setPrototypeOf(e,hf.prototype):e.type==="root"&&Object.setPrototypeOf(e,gf.prototype),e[df]=!0,e.nodes&&e.nodes.forEach(t=>{Be.rebuild(t)})}});var On=g((wP,Cf)=>{"use strict";var bv=Tt(),_f,Af,Ut=class extends bv{constructor(t){super({type:"document",...t}),this.nodes||(this.nodes=[])}toResult(t={}){return new _f(new Af,this,t).stringify()}};Ut.registerLazyResult=e=>{_f=e};Ut.registerProcessor=e=>{Af=e};Cf.exports=Ut;Ut.default=Ut});var sa=g((RP,Tf)=>{"use strict";var Ef={};Tf.exports=function(t){Ef[t]||(Ef[t]=!0,typeof console<"u"&&console.warn&&console.warn(t))}});var na=g((NP,xf)=>{"use strict";var hs=class{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let s=r.node.rangeBy(r);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(let s in r)this[s]=r[s]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};xf.exports=hs;hs.default=hs});var Pn=g((IP,wf)=>{"use strict";var _v=na(),ys=class{constructor(t,r,s){this.processor=t,this.messages=[],this.root=r,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,r={}){r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);let s=new _v(t,r);return this.messages.push(s),s}warnings(){return this.messages.filter(t=>t.type==="warning")}get content(){return this.css}};wf.exports=ys;ys.default=ys});var ia=g((OP,Of)=>{"use strict";var oa="'".charCodeAt(0),Rf='"'.charCodeAt(0),Dn="\\".charCodeAt(0),Nf="/".charCodeAt(0),kn=`
`.charCodeAt(0),gs=" ".charCodeAt(0),Mn="\f".charCodeAt(0),Ln="	".charCodeAt(0),Fn="\r".charCodeAt(0),Av="[".charCodeAt(0),Cv="]".charCodeAt(0),Ev="(".charCodeAt(0),Tv=")".charCodeAt(0),xv="{".charCodeAt(0),wv="}".charCodeAt(0),Rv=";".charCodeAt(0),Nv="*".charCodeAt(0),Iv=":".charCodeAt(0),Ov="@".charCodeAt(0),Vn=/[\t\n\f\r "#'()/;[\\\]{}]/g,Un=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Pv=/.[\r\n"'(/\\]/,If=/[\da-f]/i;Of.exports=function(t,r={}){let s=t.css.valueOf(),n=r.ignoreErrors,o,i,a,l,u,c,f,p,d,m,S=s.length,h=0,v=[],T=[];function A(){return h}function x(Q){throw t.error("Unclosed "+Q,h)}function C(){return T.length===0&&h>=S}function N(Q){if(T.length)return T.pop();if(h>=S)return;let Vt=Q?Q.ignoreUnclosed:!1;switch(o=s.charCodeAt(h),o){case kn:case gs:case Ln:case Fn:case Mn:{i=h;do i+=1,o=s.charCodeAt(i);while(o===gs||o===kn||o===Ln||o===Fn||o===Mn);m=["space",s.slice(h,i)],h=i-1;break}case Av:case Cv:case xv:case wv:case Iv:case Rv:case Tv:{let An=String.fromCharCode(o);m=[An,An,h];break}case Ev:{if(p=v.length?v.pop()[1]:"",d=s.charCodeAt(h+1),p==="url"&&d!==oa&&d!==Rf&&d!==gs&&d!==kn&&d!==Ln&&d!==Mn&&d!==Fn){i=h;do{if(c=!1,i=s.indexOf(")",i+1),i===-1)if(n||Vt){i=h;break}else x("bracket");for(f=i;s.charCodeAt(f-1)===Dn;)f-=1,c=!c}while(c);m=["brackets",s.slice(h,i+1),h,i],h=i}else i=s.indexOf(")",h+1),l=s.slice(h,i+1),i===-1||Pv.test(l)?m=["(","(",h]:(m=["brackets",l,h,i],h=i);break}case oa:case Rf:{a=o===oa?"'":'"',i=h;do{if(c=!1,i=s.indexOf(a,i+1),i===-1)if(n||Vt){i=h+1;break}else x("string");for(f=i;s.charCodeAt(f-1)===Dn;)f-=1,c=!c}while(c);m=["string",s.slice(h,i+1),h,i],h=i;break}case Ov:{Vn.lastIndex=h+1,Vn.test(s),Vn.lastIndex===0?i=s.length-1:i=Vn.lastIndex-2,m=["at-word",s.slice(h,i+1),h,i],h=i;break}case Dn:{for(i=h,u=!0;s.charCodeAt(i+1)===Dn;)i+=1,u=!u;if(o=s.charCodeAt(i+1),u&&o!==Nf&&o!==gs&&o!==kn&&o!==Ln&&o!==Fn&&o!==Mn&&(i+=1,If.test(s.charAt(i)))){for(;If.test(s.charAt(i+1));)i+=1;s.charCodeAt(i+1)===gs&&(i+=1)}m=["word",s.slice(h,i+1),h,i],h=i;break}default:{o===Nf&&s.charCodeAt(h+1)===Nv?(i=s.indexOf("*/",h+2)+1,i===0&&(n||Vt?i=s.length:x("comment")),m=["comment",s.slice(h,i+1),h,i],h=i):(Un.lastIndex=h+1,Un.test(s),Un.lastIndex===0?i=s.length-1:i=Un.lastIndex-2,m=["word",s.slice(h,i+1),h,i],v.push(m),h=i);break}}return h++,m}function M(Q){T.push(Q)}return{back:M,endOfFile:C,nextToken:N,position:A}}});var $n=g((PP,Df)=>{"use strict";var Pf=Tt(),mr=class extends Pf{constructor(t){super(t),this.type="atrule"}append(...t){return this.proxyOf.nodes||(this.nodes=[]),super.append(...t)}prepend(...t){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...t)}};Df.exports=mr;mr.default=mr;Pf.registerAtRule(mr)});var hr=g((DP,Ff)=>{"use strict";var kf=Tt(),Mf,Lf,xt=class extends kf{constructor(t){super(t),this.type="root",this.nodes||(this.nodes=[])}normalize(t,r,s){let n=super.normalize(t);if(r){if(s==="prepend")this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r)for(let o of n)o.raws.before=r.raws.before}return n}removeChild(t,r){let s=this.index(t);return!r&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),super.removeChild(t)}toResult(t={}){return new Mf(new Lf,this,t).stringify()}};xt.registerLazyResult=e=>{Mf=e};xt.registerProcessor=e=>{Lf=e};Ff.exports=xt;xt.default=xt;kf.registerRoot(xt)});var aa=g((kP,Vf)=>{"use strict";var Ss={comma(e){return Ss.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return Ss.split(e,t)},split(e,t,r){let s=[],n="",o=!1,i=0,a=!1,l="",u=!1;for(let c of e)u?u=!1:c==="\\"?u=!0:a?c===l&&(a=!1):c==='"'||c==="'"?(a=!0,l=c):c==="("?i+=1:c===")"?i>0&&(i-=1):i===0&&t.includes(c)&&(o=!0),o?(n!==""&&s.push(n.trim()),n="",o=!1):n+=c;return(r||n!=="")&&s.push(n.trim()),s}};Vf.exports=Ss;Ss.default=Ss});var qn=g((MP,$f)=>{"use strict";var Uf=Tt(),Dv=aa(),yr=class extends Uf{constructor(t){super(t),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Dv.comma(this.selector)}set selectors(t){let r=this.selector?this.selector.match(/,\s*/):null,s=r?r[0]:","+this.raw("between","beforeOpen");this.selector=t.join(s)}};$f.exports=yr;yr.default=yr;Uf.registerRule(yr)});var ua=g((LP,Bf)=>{"use strict";var kv=cs(),Mv=ia(),Lv=dr(),Fv=$n(),Vv=hr(),qf=qn(),jf={empty:!0,space:!0};function Uv(e){for(let t=e.length-1;t>=0;t--){let r=e[t],s=r[3]||r[2];if(s)return s}}var la=class{constructor(t){this.input=t,this.root=new Vv,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}atrule(t){let r=new Fv;r.name=t[1].slice(1),r.name===""&&this.unnamedAtrule(r,t),this.init(r,t[2]);let s,n,o,i=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),s=t[0],s==="("||s==="["?u.push(s==="("?")":"]"):s==="{"&&u.length>0?u.push("}"):s===u[u.length-1]&&u.pop(),u.length===0)if(s===";"){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if(s==="{"){a=!0;break}else if(s==="}"){if(l.length>0){for(o=l.length-1,n=l[o];n&&n[0]==="space";)n=l[--o];n&&(r.source.end=this.getPosition(n[3]||n[2]),r.source.end.offset++)}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),i&&(t=l[l.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),a&&(r.nodes=[],this.current=r)}checkMissedSemicolon(t){let r=this.colon(t);if(r===!1)return;let s=0,n;for(let o=r-1;o>=0&&(n=t[o],!(n[0]!=="space"&&(s+=1,s===2)));o--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}colon(t){let r=0,s,n,o;for(let[i,a]of t.entries()){if(s=a,n=s[0],n==="("&&(r+=1),n===")"&&(r-=1),r===0&&n===":")if(!o)this.doubleColon(s);else{if(o[0]==="word"&&o[1]==="progid")continue;return i}o=s}return!1}comment(t){let r=new Lv;this.init(r,t[2]),r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++;let s=t[1].slice(2,-2);if(/^\s*$/.test(s))r.text="",r.raws.left=s,r.raws.right="";else{let n=s.match(/^(\s*)([^]*\S)(\s*)$/);r.text=n[2],r.raws.left=n[1],r.raws.right=n[3]}}createTokenizer(){this.tokenizer=Mv(this.input)}decl(t,r){let s=new kv;this.init(s,t[0][2]);let n=t[t.length-1];for(n[0]===";"&&(this.semicolon=!0,t.pop()),s.source.end=this.getPosition(n[3]||n[2]||Uv(t)),s.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),s.raws.before+=t.shift()[1];for(s.source.start=this.getPosition(t[0][2]),s.prop="";t.length;){let u=t[0][0];if(u===":"||u==="space"||u==="comment")break;s.prop+=t.shift()[1]}s.raws.between="";let o;for(;t.length;)if(o=t.shift(),o[0]===":"){s.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),s.raws.between+=o[1];(s.prop[0]==="_"||s.prop[0]==="*")&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let i=[],a;for(;t.length&&(a=t[0][0],!(a!=="space"&&a!=="comment"));)i.push(t.shift());this.precheckMissedSemicolon(t);for(let u=t.length-1;u>=0;u--){if(o=t[u],o[1].toLowerCase()==="!important"){s.important=!0;let c=this.stringFrom(t,u);c=this.spacesFromEnd(t)+c,c!==" !important"&&(s.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=t.slice(0),f="";for(let p=u;p>0;p--){let d=c[p][0];if(f.trim().indexOf("!")===0&&d!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(s.important=!0,s.raws.important=f,t=c)}if(o[0]!=="space"&&o[0]!=="comment")break}t.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(s.raws.between+=i.map(u=>u[1]).join(""),i=[]),this.raw(s,"value",i.concat(t),r),s.value.includes(":")&&!r&&this.checkMissedSemicolon(t)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}emptyRule(t){let r=new qf;this.init(r,t[2]),r.selector="",r.raws.between="",this.current=r}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let r=this.current.nodes[this.current.nodes.length-1];r&&r.type==="rule"&&!r.raws.ownSemicolon&&(r.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let r=this.input.fromOffset(t);return{column:r.col,line:r.line,offset:t}}init(t,r){this.current.push(t),t.source={input:this.input,start:this.getPosition(r)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}other(t){let r=!1,s=null,n=!1,o=null,i=[],a=t[1].startsWith("--"),l=[],u=t;for(;u;){if(s=u[0],l.push(u),s==="("||s==="[")o||(o=u),i.push(s==="("?")":"]");else if(a&&n&&s==="{")o||(o=u),i.push("}");else if(i.length===0)if(s===";")if(n){this.decl(l,a);return}else break;else if(s==="{"){this.rule(l);return}else if(s==="}"){this.tokenizer.back(l.pop()),r=!0;break}else s===":"&&(n=!0);else s===i[i.length-1]&&(i.pop(),i.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(r=!0),i.length>0&&this.unclosedBracket(o),r&&n){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}precheckMissedSemicolon(){}raw(t,r,s,n){let o,i,a=s.length,l="",u=!0,c,f;for(let p=0;p<a;p+=1)o=s[p],i=o[0],i==="space"&&p===a-1&&!n?u=!1:i==="comment"?(f=s[p-1]?s[p-1][0]:"empty",c=s[p+1]?s[p+1][0]:"empty",!jf[f]&&!jf[c]?l.slice(-1)===","?u=!1:l+=o[1]:u=!1):l+=o[1];if(!u){let p=s.reduce((d,m)=>d+m[1],"");t.raws[r]={raw:p,value:l}}t[r]=l}rule(t){t.pop();let r=new qf;this.init(r,t[0][2]),r.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(r,"selector",t),this.current=r}spacesAndCommentsFromEnd(t){let r,s="";for(;t.length&&(r=t[t.length-1][0],!(r!=="space"&&r!=="comment"));)s=t.pop()[1]+s;return s}spacesAndCommentsFromStart(t){let r,s="";for(;t.length&&(r=t[0][0],!(r!=="space"&&r!=="comment"));)s+=t.shift()[1];return s}spacesFromEnd(t){let r,s="";for(;t.length&&(r=t[t.length-1][0],r==="space");)s=t.pop()[1]+s;return s}stringFrom(t,r){let s="";for(let n=r;n<t.length;n++)s+=t[n][1];return t.splice(r,t.length-r),s}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unnamedAtrule(t,r){throw this.input.error("At-rule without name",{offset:r[2]},{offset:r[2]+r[1].length})}};Bf.exports=la});var Bn=g((FP,Wf)=>{"use strict";var $v=Tt(),qv=ua(),jv=ds();function jn(e,t){let r=new jv(e,t),s=new qv(r);try{s.parse()}catch(n){throw n}return s.root}Wf.exports=jn;jn.default=jn;$v.registerParse(jn)});var pa=g((UP,Qf)=>{"use strict";var{isClean:Ye,my:Bv}=En(),Wv=ea(),zv=is(),Gv=Tt(),Hv=On(),VP=sa(),zf=Pn(),Qv=Bn(),Kv=hr(),Yv={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Jv={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Xv={Once:!0,postcssPlugin:!0,prepare:!0},gr=0;function vs(e){return typeof e=="object"&&typeof e.then=="function"}function Hf(e){let t=!1,r=Yv[e.type];return e.type==="decl"?t=e.prop.toLowerCase():e.type==="atrule"&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,gr,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,gr,r+"Exit"]:[r,r+"Exit"]}function Gf(e){let t;return e.type==="document"?t=["Document",gr,"DocumentExit"]:e.type==="root"?t=["Root",gr,"RootExit"]:t=Hf(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function ca(e){return e[Ye]=!1,e.nodes&&e.nodes.forEach(t=>ca(t)),e}var fa={},wt=class e{constructor(t,r,s){this.stringified=!1,this.processed=!1;let n;if(typeof r=="object"&&r!==null&&(r.type==="root"||r.type==="document"))n=ca(r);else if(r instanceof e||r instanceof zf)n=ca(r.root),r.map&&(typeof s.map>"u"&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=r.map);else{let o=Qv;s.syntax&&(o=s.syntax.parse),s.parser&&(o=s.parser),o.parse&&(o=o.parse);try{n=o(r,s)}catch(i){this.processed=!0,this.error=i}n&&!n[Bv]&&Gv.rebuild(n)}this.result=new zf(t,n,s),this.helpers={...fa,postcss:fa,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,r){let s=this.result.lastPlugin;try{r&&r.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin?(t.plugin=s.postcssPlugin,t.setMessage()):s.postcssVersion}catch(n){console&&console.error&&console.error(n)}return t}prepareVisitors(){this.listeners={};let t=(r,s,n)=>{this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push([r,n])};for(let r of this.plugins)if(typeof r=="object")for(let s in r){if(!Jv[s]&&/^[A-Z]/.test(s))throw new Error(`Unknown event ${s} in ${r.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Xv[s])if(typeof r[s]=="object")for(let n in r[s])n==="*"?t(r,s,r[s][n]):t(r,s+"-"+n.toLowerCase(),r[s][n]);else typeof r[s]=="function"&&t(r,s,r[s])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let r=this.plugins[t],s=this.runOnRoot(r);if(vs(s))try{await s}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ye];){t[Ye]=!0;let r=[Gf(t)];for(;r.length>0;){let s=this.visitTick(r);if(vs(s))try{await s}catch(n){let o=r[r.length-1].node;throw this.handleError(n,o)}}}if(this.listeners.OnceExit)for(let[r,s]of this.listeners.OnceExit){this.result.lastPlugin=r;try{if(t.type==="document"){let n=t.nodes.map(o=>s(o,this.helpers));await Promise.all(n)}else await s(t,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}runOnRoot(t){this.result.lastPlugin=t;try{if(typeof t=="object"&&t.Once){if(this.result.root.type==="document"){let r=this.result.root.nodes.map(s=>t.Once(s,this.helpers));return vs(r[0])?Promise.all(r):r}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(r){throw this.handleError(r)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,r=zv;t.syntax&&(r=t.syntax.stringify),t.stringifier&&(r=t.stringifier),r.stringify&&(r=r.stringify);let n=new Wv(r,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins){let r=this.runOnRoot(t);if(vs(r))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ye];)t[Ye]=!0,this.walkSync(t);if(this.listeners.OnceExit)if(t.type==="document")for(let r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(t,r){return this.async().then(t,r)}toString(){return this.css}visitSync(t,r){for(let[s,n]of t){this.result.lastPlugin=s;let o;try{o=n(r,this.helpers)}catch(i){throw this.handleError(i,r.proxyOf)}if(r.type!=="root"&&r.type!=="document"&&!r.parent)return!0;if(vs(o))throw this.getAsyncError()}}visitTick(t){let r=t[t.length-1],{node:s,visitors:n}=r;if(s.type!=="root"&&s.type!=="document"&&!s.parent){t.pop();return}if(n.length>0&&r.visitorIndex<n.length){let[i,a]=n[r.visitorIndex];r.visitorIndex+=1,r.visitorIndex===n.length&&(r.visitors=[],r.visitorIndex=0),this.result.lastPlugin=i;try{return a(s.toProxy(),this.helpers)}catch(l){throw this.handleError(l,s)}}if(r.iterator!==0){let i=r.iterator,a;for(;a=s.nodes[s.indexes[i]];)if(s.indexes[i]+=1,!a[Ye]){a[Ye]=!0,t.push(Gf(a));return}r.iterator=0,delete s.indexes[i]}let o=r.events;for(;r.eventIndex<o.length;){let i=o[r.eventIndex];if(r.eventIndex+=1,i===gr){s.nodes&&s.nodes.length&&(s[Ye]=!0,r.iterator=s.getIterator());return}else if(this.listeners[i]){r.visitors=this.listeners[i];return}}t.pop()}walkSync(t){t[Ye]=!0;let r=Hf(t);for(let s of r)if(s===gr)t.nodes&&t.each(n=>{n[Ye]||this.walkSync(n)});else{let n=this.listeners[s];if(n&&this.visitSync(n,t.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};wt.registerPostcss=e=>{fa=e};Qf.exports=wt;wt.default=wt;Kv.registerLazyResult(wt);Hv.registerLazyResult(wt)});var Yf=g((qP,Kf)=>{"use strict";var Zv=ea(),eb=is(),$P=sa(),tb=Bn(),rb=Pn(),bs=class{constructor(t,r,s){r=r.toString(),this.stringified=!1,this._processor=t,this._css=r,this._opts=s,this._map=void 0;let n,o=eb;this.result=new rb(this._processor,n,this._opts),this.result.css=r;let i=this;Object.defineProperty(this.result,"root",{get(){return i.root}});let a=new Zv(o,n,this._opts,r);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}sync(){if(this.error)throw this.error;return this.result}then(t,r){return this.async().then(t,r)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let t,r=tb;try{t=r(this._css,this._opts)}catch(s){this.error=s}if(this.error)throw this.error;return this._root=t,t}get[Symbol.toStringTag](){return"NoWorkResult"}};Kf.exports=bs;bs.default=bs});var Xf=g((jP,Jf)=>{"use strict";var sb=Yf(),nb=pa(),ob=On(),ib=hr(),$t=class{constructor(t=[]){this.version="8.4.31",this.plugins=this.normalize(t)}normalize(t){let r=[];for(let s of t)if(s.postcss===!0?s=s():s.postcss&&(s=s.postcss),typeof s=="object"&&Array.isArray(s.plugins))r=r.concat(s.plugins);else if(typeof s=="object"&&s.postcssPlugin)r.push(s);else if(typeof s=="function")r.push(s);else if(!(typeof s=="object"&&(s.parse||s.stringify)))throw new Error(s+" is not a PostCSS plugin");return r}process(t,r={}){return this.plugins.length===0&&typeof r.parser>"u"&&typeof r.stringifier>"u"&&typeof r.syntax>"u"?new sb(this,t,r):new nb(this,t,r)}use(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}};Jf.exports=$t;$t.default=$t;ib.registerProcessor($t);ob.registerProcessor($t)});var ep=g((BP,Zf)=>{"use strict";var ab=cs(),lb=Qi(),ub=dr(),cb=$n(),fb=ds(),pb=hr(),db=qn();function _s(e,t){if(Array.isArray(e))return e.map(n=>_s(n));let{inputs:r,...s}=e;if(r){t=[];for(let n of r){let o={...n,__proto__:fb.prototype};o.map&&(o.map={...o.map,__proto__:lb.prototype}),t.push(o)}}if(s.nodes&&(s.nodes=e.nodes.map(n=>_s(n,t))),s.source){let{inputId:n,...o}=s.source;s.source=o,n!=null&&(s.source.input=t[n])}if(s.type==="root")return new pb(s);if(s.type==="decl")return new ab(s);if(s.type==="rule")return new db(s);if(s.type==="comment")return new ub(s);if(s.type==="atrule")return new cb(s);throw new Error("Unknown node type: "+e.type)}Zf.exports=_s;_s.default=_s});var qt=g((WP,ap)=>{"use strict";var mb=Cn(),tp=cs(),hb=pa(),yb=Tt(),da=Xf(),gb=is(),Sb=ep(),rp=On(),vb=na(),sp=dr(),np=$n(),bb=Pn(),_b=ds(),Ab=Bn(),Cb=aa(),op=qn(),ip=hr(),Eb=ls();function V(...e){return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new da(e)}V.plugin=function(t,r){let s=!1;function n(...i){console&&console.warn&&!s&&(s=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(t+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=r(...i);return a.postcssPlugin=t,a.postcssVersion=new da().version,a}let o;return Object.defineProperty(n,"postcss",{get(){return o||(o=n()),o}}),n.process=function(i,a,l){return V([n(l)]).process(i,a)},n};V.stringify=gb;V.parse=Ab;V.fromJSON=Sb;V.list=Cb;V.comment=e=>new sp(e);V.atRule=e=>new np(e);V.decl=e=>new tp(e);V.rule=e=>new op(e);V.root=e=>new ip(e);V.document=e=>new rp(e);V.CssSyntaxError=mb;V.Declaration=tp;V.Container=yb;V.Processor=da;V.Document=rp;V.Comment=sp;V.Warning=vb;V.AtRule=np;V.Result=bb;V.Input=_b;V.Rule=op;V.Root=ip;V.Node=Eb;hb.registerPostcss(V);ap.exports=V;V.default=V});var ma=g((zn,up)=>{"use strict";zn.__esModule=!0;zn.default=wb;function Tb(e){for(var t=e.toLowerCase(),r="",s=!1,n=0;n<6&&t[n]!==void 0;n++){var o=t.charCodeAt(n),i=o>=97&&o<=102||o>=48&&o<=57;if(s=o===32,!i)break;r+=t[n]}if(r.length!==0){var a=parseInt(r,16),l=a>=55296&&a<=57343;return l||a===0||a>1114111?["\uFFFD",r.length+(s?1:0)]:[String.fromCodePoint(a),r.length+(s?1:0)]}}var xb=/\\/;function wb(e){var t=xb.test(e);if(!t)return e;for(var r="",s=0;s<e.length;s++){if(e[s]==="\\"){var n=Tb(e.slice(s+1,s+7));if(n!==void 0){r+=n[0],s+=n[1];continue}if(e[s+1]==="\\"){r+="\\",s++;continue}e.length===s+1&&(r+=e[s]);continue}r+=e[s]}return r}up.exports=zn.default});var fp=g((Gn,cp)=>{"use strict";Gn.__esModule=!0;Gn.default=Rb;function Rb(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(;r.length>0;){var n=r.shift();if(!e[n])return;e=e[n]}return e}cp.exports=Gn.default});var dp=g((Hn,pp)=>{"use strict";Hn.__esModule=!0;Hn.default=Nb;function Nb(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(;r.length>0;){var n=r.shift();e[n]||(e[n]={}),e=e[n]}}pp.exports=Hn.default});var hp=g((Qn,mp)=>{"use strict";Qn.__esModule=!0;Qn.default=Ib;function Ib(e){for(var t="",r=e.indexOf("/*"),s=0;r>=0;){t=t+e.slice(s,r);var n=e.indexOf("*/",r+2);if(n<0)return t;s=n+2,r=e.indexOf("/*",s)}return t=t+e.slice(s),t}mp.exports=Qn.default});var Es=g(Je=>{"use strict";Je.__esModule=!0;Je.unesc=Je.stripComments=Je.getProp=Je.ensureObject=void 0;var Ob=Kn(ma());Je.unesc=Ob.default;var Pb=Kn(fp());Je.getProp=Pb.default;var Db=Kn(dp());Je.ensureObject=Db.default;var kb=Kn(hp());Je.stripComments=kb.default;function Kn(e){return e&&e.__esModule?e:{default:e}}});var st=g((Ts,Sp)=>{"use strict";Ts.__esModule=!0;Ts.default=void 0;var yp=Es();function gp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Mb(e,t,r){return t&&gp(e.prototype,t),r&&gp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Lb=function e(t,r){if(typeof t!="object"||t===null)return t;var s=new t.constructor;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],i=typeof o;n==="parent"&&i==="object"?r&&(s[n]=r):o instanceof Array?s[n]=o.map(function(a){return e(a,s)}):s[n]=e(o,s)}return s},Fb=function(){function e(r){r===void 0&&(r={}),Object.assign(this,r),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t=e.prototype;return t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){if(this.parent){for(var s in arguments)this.parent.insertBefore(this,arguments[s]);this.remove()}return this},t.next=function(){return this.parent.at(this.parent.index(this)+1)},t.prev=function(){return this.parent.at(this.parent.index(this)-1)},t.clone=function(s){s===void 0&&(s={});var n=Lb(this);for(var o in s)n[o]=s[o];return n},t.appendToPropertyAndEscape=function(s,n,o){this.raws||(this.raws={});var i=this[s],a=this.raws[s];this[s]=i+n,a||o!==n?this.raws[s]=(a||i)+o:delete this.raws[s]},t.setPropertyAndEscape=function(s,n,o){this.raws||(this.raws={}),this[s]=n,this.raws[s]=o},t.setPropertyWithoutEscape=function(s,n){this[s]=n,this.raws&&delete this.raws[s]},t.isAtPosition=function(s,n){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>s||this.source.end.line<s||this.source.start.line===s&&this.source.start.column>n||this.source.end.line===s&&this.source.end.column<n)},t.stringifyProperty=function(s){return this.raws&&this.raws[s]||this[s]},t.valueToString=function(){return String(this.stringifyProperty("value"))},t.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},Mb(e,[{key:"rawSpaceBefore",get:function(){var s=this.raws&&this.raws.spaces&&this.raws.spaces.before;return s===void 0&&(s=this.spaces&&this.spaces.before),s||""},set:function(s){(0,yp.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=s}},{key:"rawSpaceAfter",get:function(){var s=this.raws&&this.raws.spaces&&this.raws.spaces.after;return s===void 0&&(s=this.spaces.after),s||""},set:function(s){(0,yp.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=s}}]),e}();Ts.default=Fb;Sp.exports=Ts.default});var ge=g(W=>{"use strict";W.__esModule=!0;W.UNIVERSAL=W.TAG=W.STRING=W.SELECTOR=W.ROOT=W.PSEUDO=W.NESTING=W.ID=W.COMMENT=W.COMBINATOR=W.CLASS=W.ATTRIBUTE=void 0;var Vb="tag";W.TAG=Vb;var Ub="string";W.STRING=Ub;var $b="selector";W.SELECTOR=$b;var qb="root";W.ROOT=qb;var jb="pseudo";W.PSEUDO=jb;var Bb="nesting";W.NESTING=Bb;var Wb="id";W.ID=Wb;var zb="comment";W.COMMENT=zb;var Gb="combinator";W.COMBINATOR=Gb;var Hb="class";W.CLASS=Hb;var Qb="attribute";W.ATTRIBUTE=Qb;var Kb="universal";W.UNIVERSAL=Kb});var Yn=g((xs,Ap)=>{"use strict";xs.__esModule=!0;xs.default=void 0;var Yb=Xb(st()),nt=Jb(ge());function _p(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(_p=function(n){return n?r:t})(e)}function Jb(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=_p(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function Xb(e){return e&&e.__esModule?e:{default:e}}function Zb(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=e_(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_(e,t){if(e){if(typeof e=="string")return vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vp(e,t)}}function vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function bp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t_(e,t,r){return t&&bp(e.prototype,t),r&&bp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ha(e,t)}function ha(e,t){return ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ha(e,t)}var s_=function(e){r_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.nodes||(n.nodes=[]),n}var r=t.prototype;return r.append=function(n){return n.parent=this,this.nodes.push(n),this},r.prepend=function(n){return n.parent=this,this.nodes.unshift(n),this},r.at=function(n){return this.nodes[n]},r.index=function(n){return typeof n=="number"?n:this.nodes.indexOf(n)},r.removeChild=function(n){n=this.index(n),this.at(n).parent=void 0,this.nodes.splice(n,1);var o;for(var i in this.indexes)o=this.indexes[i],o>=n&&(this.indexes[i]=o-1);return this},r.removeAll=function(){for(var n=Zb(this.nodes),o;!(o=n()).done;){var i=o.value;i.parent=void 0}return this.nodes=[],this},r.empty=function(){return this.removeAll()},r.insertAfter=function(n,o){o.parent=this;var i=this.index(n);this.nodes.splice(i+1,0,o),o.parent=this;var a;for(var l in this.indexes)a=this.indexes[l],i<=a&&(this.indexes[l]=a+1);return this},r.insertBefore=function(n,o){o.parent=this;var i=this.index(n);this.nodes.splice(i,0,o),o.parent=this;var a;for(var l in this.indexes)a=this.indexes[l],a<=i&&(this.indexes[l]=a+1);return this},r._findChildAtPosition=function(n,o){var i=void 0;return this.each(function(a){if(a.atPosition){var l=a.atPosition(n,o);if(l)return i=l,!1}else if(a.isAtPosition(n,o))return i=a,!1}),i},r.atPosition=function(n,o){if(this.isAtPosition(n,o))return this._findChildAtPosition(n,o)||this},r._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},r.each=function(n){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var o=this.lastEach;if(this.indexes[o]=0,!!this.length){for(var i,a;this.indexes[o]<this.length&&(i=this.indexes[o],a=n(this.at(i),i),a!==!1);)this.indexes[o]+=1;if(delete this.indexes[o],a===!1)return!1}},r.walk=function(n){return this.each(function(o,i){var a=n(o,i);if(a!==!1&&o.length&&(a=o.walk(n)),a===!1)return!1})},r.walkAttributes=function(n){var o=this;return this.walk(function(i){if(i.type===nt.ATTRIBUTE)return n.call(o,i)})},r.walkClasses=function(n){var o=this;return this.walk(function(i){if(i.type===nt.CLASS)return n.call(o,i)})},r.walkCombinators=function(n){var o=this;return this.walk(function(i){if(i.type===nt.COMBINATOR)return n.call(o,i)})},r.walkComments=function(n){var o=this;return this.walk(function(i){if(i.type===nt.COMMENT)return n.call(o,i)})},r.walkIds=function(n){var o=this;return this.walk(function(i){if(i.type===nt.ID)return n.call(o,i)})},r.walkNesting=function(n){var o=this;return this.walk(function(i){if(i.type===nt.NESTING)return n.call(o,i)})},r.walkPseudos=function(n){var o=this;return this.walk(function(i){if(i.type===nt.PSEUDO)return n.call(o,i)})},r.walkTags=function(n){var o=this;return this.walk(function(i){if(i.type===nt.TAG)return n.call(o,i)})},r.walkUniversals=function(n){var o=this;return this.walk(function(i){if(i.type===nt.UNIVERSAL)return n.call(o,i)})},r.split=function(n){var o=this,i=[];return this.reduce(function(a,l,u){var c=n.call(o,l);return i.push(l),c?(a.push(i),i=[]):u===o.length-1&&a.push(i),a},[])},r.map=function(n){return this.nodes.map(n)},r.reduce=function(n,o){return this.nodes.reduce(n,o)},r.every=function(n){return this.nodes.every(n)},r.some=function(n){return this.nodes.some(n)},r.filter=function(n){return this.nodes.filter(n)},r.sort=function(n){return this.nodes.sort(n)},r.toString=function(){return this.map(String).join("")},t_(t,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),t}(Yb.default);xs.default=s_;Ap.exports=xs.default});var ga=g((ws,Ep)=>{"use strict";ws.__esModule=!0;ws.default=void 0;var n_=i_(Yn()),o_=ge();function i_(e){return e&&e.__esModule?e:{default:e}}function Cp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a_(e,t,r){return t&&Cp(e.prototype,t),r&&Cp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ya(e,t)}function ya(e,t){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ya(e,t)}var u_=function(e){l_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=o_.ROOT,n}var r=t.prototype;return r.toString=function(){var n=this.reduce(function(o,i){return o.push(String(i)),o},[]).join(",");return this.trailingComma?n+",":n},r.error=function(n,o){return this._error?this._error(n,o):new Error(n)},a_(t,[{key:"errorGenerator",set:function(n){this._error=n}}]),t}(n_.default);ws.default=u_;Ep.exports=ws.default});var va=g((Rs,Tp)=>{"use strict";Rs.__esModule=!0;Rs.default=void 0;var c_=p_(Yn()),f_=ge();function p_(e){return e&&e.__esModule?e:{default:e}}function d_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Sa(e,t)}function Sa(e,t){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Sa(e,t)}var m_=function(e){d_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=f_.SELECTOR,s}return t}(c_.default);Rs.default=m_;Tp.exports=Rs.default});var jt=g((fD,xp)=>{"use strict";var h_={},y_=h_.hasOwnProperty,g_=function(t,r){if(!t)return r;var s={};for(var n in r)s[n]=y_.call(t,n)?t[n]:r[n];return s},S_=/[ -,\.\/:-@\[-\^`\{-~]/,v_=/[ -,\.\/:-@\[\]\^`\{-~]/,b_=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,ba=function e(t,r){r=g_(r,e.options),r.quotes!="single"&&r.quotes!="double"&&(r.quotes="single");for(var s=r.quotes=="double"?'"':"'",n=r.isIdentifier,o=t.charAt(0),i="",a=0,l=t.length;a<l;){var u=t.charAt(a++),c=u.charCodeAt(),f=void 0;if(c<32||c>126){if(c>=55296&&c<=56319&&a<l){var p=t.charCodeAt(a++);(p&64512)==56320?c=((c&1023)<<10)+(p&1023)+65536:a--}f="\\"+c.toString(16).toUpperCase()+" "}else r.escapeEverything?S_.test(u)?f="\\"+u:f="\\"+c.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(u)?f="\\"+c.toString(16).toUpperCase()+" ":u=="\\"||!n&&(u=='"'&&s==u||u=="'"&&s==u)||n&&v_.test(u)?f="\\"+u:f=u;i+=f}return n&&(/^-[-\d]/.test(i)?i="\\-"+i.slice(1):/\d/.test(o)&&(i="\\3"+o+" "+i.slice(1))),i=i.replace(b_,function(d,m,S){return m&&m.length%2?d:(m||"")+S}),!n&&r.wrap?s+i+s:i};ba.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};ba.version="3.0.0";xp.exports=ba});var Aa=g((Ns,Np)=>{"use strict";Ns.__esModule=!0;Ns.default=void 0;var __=Rp(jt()),A_=Es(),C_=Rp(st()),E_=ge();function Rp(e){return e&&e.__esModule?e:{default:e}}function wp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function T_(e,t,r){return t&&wp(e.prototype,t),r&&wp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_a(e,t)}function _a(e,t){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},_a(e,t)}var w_=function(e){x_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=E_.CLASS,n._constructed=!0,n}var r=t.prototype;return r.valueToString=function(){return"."+e.prototype.valueToString.call(this)},T_(t,[{key:"value",get:function(){return this._value},set:function(n){if(this._constructed){var o=(0,__.default)(n,{isIdentifier:!0});o!==n?((0,A_.ensureObject)(this,"raws"),this.raws.value=o):this.raws&&delete this.raws.value}this._value=n}}]),t}(C_.default);Ns.default=w_;Np.exports=Ns.default});var Ea=g((Is,Ip)=>{"use strict";Is.__esModule=!0;Is.default=void 0;var R_=I_(st()),N_=ge();function I_(e){return e&&e.__esModule?e:{default:e}}function O_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ca(e,t)}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ca(e,t)}var P_=function(e){O_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=N_.COMMENT,s}return t}(R_.default);Is.default=P_;Ip.exports=Is.default});var xa=g((Os,Op)=>{"use strict";Os.__esModule=!0;Os.default=void 0;var D_=M_(st()),k_=ge();function M_(e){return e&&e.__esModule?e:{default:e}}function L_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ta(e,t)}function Ta(e,t){return Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ta(e,t)}var F_=function(e){L_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=k_.ID,n}var r=t.prototype;return r.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},t}(D_.default);Os.default=F_;Op.exports=Os.default});var Jn=g((Ps,kp)=>{"use strict";Ps.__esModule=!0;Ps.default=void 0;var V_=Dp(jt()),U_=Es(),$_=Dp(st());function Dp(e){return e&&e.__esModule?e:{default:e}}function Pp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function q_(e,t,r){return t&&Pp(e.prototype,t),r&&Pp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wa(e,t)}function wa(e,t){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},wa(e,t)}var B_=function(e){j_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.qualifiedName=function(n){return this.namespace?this.namespaceString+"|"+n:n},r.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},q_(t,[{key:"namespace",get:function(){return this._namespace},set:function(n){if(n===!0||n==="*"||n==="&"){this._namespace=n,this.raws&&delete this.raws.namespace;return}var o=(0,V_.default)(n,{isIdentifier:!0});this._namespace=n,o!==n?((0,U_.ensureObject)(this,"raws"),this.raws.namespace=o):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(n){this.namespace=n}},{key:"namespaceString",get:function(){if(this.namespace){var n=this.stringifyProperty("namespace");return n===!0?"":n}else return""}}]),t}($_.default);Ps.default=B_;kp.exports=Ps.default});var Na=g((Ds,Mp)=>{"use strict";Ds.__esModule=!0;Ds.default=void 0;var W_=G_(Jn()),z_=ge();function G_(e){return e&&e.__esModule?e:{default:e}}function H_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ra(e,t)}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ra(e,t)}var Q_=function(e){H_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=z_.TAG,s}return t}(W_.default);Ds.default=Q_;Mp.exports=Ds.default});var Oa=g((ks,Lp)=>{"use strict";ks.__esModule=!0;ks.default=void 0;var K_=J_(st()),Y_=ge();function J_(e){return e&&e.__esModule?e:{default:e}}function X_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ia(e,t)}function Ia(e,t){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ia(e,t)}var Z_=function(e){X_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=Y_.STRING,s}return t}(K_.default);ks.default=Z_;Lp.exports=ks.default});var Da=g((Ms,Fp)=>{"use strict";Ms.__esModule=!0;Ms.default=void 0;var eA=rA(Yn()),tA=ge();function rA(e){return e&&e.__esModule?e:{default:e}}function sA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pa(e,t)}function Pa(e,t){return Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Pa(e,t)}var nA=function(e){sA(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=tA.PSEUDO,n}var r=t.prototype;return r.toString=function(){var n=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),n,this.rawSpaceAfter].join("")},t}(eA.default);Ms.default=nA;Fp.exports=Ms.default});var Up=g((pD,Vp)=>{Vp.exports=oA;function oA(e,t){if(ka("noDeprecation"))return e;var r=!1;function s(){if(!r){if(ka("throwDeprecation"))throw new Error(t);ka("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return s}function ka(e){try{if(!global.localStorage)return!1}catch{return!1}var t=global.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}});var $a=g(Vs=>{"use strict";Vs.__esModule=!0;Vs.default=void 0;Vs.unescapeValue=Ua;var Ls=Va(jt()),iA=Va(ma()),aA=Va(Jn()),lA=ge(),Ma;function Va(e){return e&&e.__esModule?e:{default:e}}function $p(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function uA(e,t,r){return t&&$p(e.prototype,t),r&&$p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fa(e,t)}function Fa(e,t){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Fa(e,t)}var Fs=Up(),fA=/^('|")([^]*)\1$/,pA=Fs(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),dA=Fs(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),mA=Fs(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function Ua(e){var t=!1,r=null,s=e,n=s.match(fA);return n&&(r=n[1],s=n[2]),s=(0,iA.default)(s),s!==e&&(t=!0),{deprecatedUsage:t,unescaped:s,quoteMark:r}}function hA(e){if(e.quoteMark!==void 0||e.value===void 0)return e;mA();var t=Ua(e.value),r=t.quoteMark,s=t.unescaped;return e.raws||(e.raws={}),e.raws.value===void 0&&(e.raws.value=e.value),e.value=s,e.quoteMark=r,e}var Xn=function(e){cA(t,e);function t(s){var n;return s===void 0&&(s={}),n=e.call(this,hA(s))||this,n.type=lA.ATTRIBUTE,n.raws=n.raws||{},Object.defineProperty(n.raws,"unquoted",{get:Fs(function(){return n.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:Fs(function(){return n.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),n._constructed=!0,n}var r=t.prototype;return r.getQuotedValue=function(n){n===void 0&&(n={});var o=this._determineQuoteMark(n),i=La[o],a=(0,Ls.default)(this._value,i);return a},r._determineQuoteMark=function(n){return n.smart?this.smartQuoteMark(n):this.preferredQuoteMark(n)},r.setValue=function(n,o){o===void 0&&(o={}),this._value=n,this._quoteMark=this._determineQuoteMark(o),this._syncRawValue()},r.smartQuoteMark=function(n){var o=this.value,i=o.replace(/[^']/g,"").length,a=o.replace(/[^"]/g,"").length;if(i+a===0){var l=(0,Ls.default)(o,{isIdentifier:!0});if(l===o)return t.NO_QUOTE;var u=this.preferredQuoteMark(n);if(u===t.NO_QUOTE){var c=this.quoteMark||n.quoteMark||t.DOUBLE_QUOTE,f=La[c],p=(0,Ls.default)(o,f);if(p.length<l.length)return c}return u}else return a===i?this.preferredQuoteMark(n):a<i?t.DOUBLE_QUOTE:t.SINGLE_QUOTE},r.preferredQuoteMark=function(n){var o=n.preferCurrentQuoteMark?this.quoteMark:n.quoteMark;return o===void 0&&(o=n.preferCurrentQuoteMark?n.quoteMark:this.quoteMark),o===void 0&&(o=t.DOUBLE_QUOTE),o},r._syncRawValue=function(){var n=(0,Ls.default)(this._value,La[this.quoteMark]);n===this._value?this.raws&&delete this.raws.value:this.raws.value=n},r._handleEscapes=function(n,o){if(this._constructed){var i=(0,Ls.default)(o,{isIdentifier:!0});i!==o?this.raws[n]=i:delete this.raws[n]}},r._spacesFor=function(n){var o={before:"",after:""},i=this.spaces[n]||{},a=this.raws.spaces&&this.raws.spaces[n]||{};return Object.assign(o,i,a)},r._stringFor=function(n,o,i){o===void 0&&(o=n),i===void 0&&(i=qp);var a=this._spacesFor(o);return i(this.stringifyProperty(n),a)},r.offsetOf=function(n){var o=1,i=this._spacesFor("attribute");if(o+=i.before.length,n==="namespace"||n==="ns")return this.namespace?o:-1;if(n==="attributeNS"||(o+=this.namespaceString.length,this.namespace&&(o+=1),n==="attribute"))return o;o+=this.stringifyProperty("attribute").length,o+=i.after.length;var a=this._spacesFor("operator");o+=a.before.length;var l=this.stringifyProperty("operator");if(n==="operator")return l?o:-1;o+=l.length,o+=a.after.length;var u=this._spacesFor("value");o+=u.before.length;var c=this.stringifyProperty("value");if(n==="value")return c?o:-1;o+=c.length,o+=u.after.length;var f=this._spacesFor("insensitive");return o+=f.before.length,n==="insensitive"&&this.insensitive?o:-1},r.toString=function(){var n=this,o=[this.rawSpaceBefore,"["];return o.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||this.value==="")&&(o.push(this._stringFor("operator")),o.push(this._stringFor("value")),o.push(this._stringFor("insensitiveFlag","insensitive",function(i,a){return i.length>0&&!n.quoted&&a.before.length===0&&!(n.spaces.value&&n.spaces.value.after)&&(a.before=" "),qp(i,a)}))),o.push("]"),o.push(this.rawSpaceAfter),o.join("")},uA(t,[{key:"quoted",get:function(){var n=this.quoteMark;return n==="'"||n==='"'},set:function(n){dA()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(n){if(!this._constructed){this._quoteMark=n;return}this._quoteMark!==n&&(this._quoteMark=n,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(n){if(this._constructed){var o=Ua(n),i=o.deprecatedUsage,a=o.unescaped,l=o.quoteMark;if(i&&pA(),a===this._value&&l===this._quoteMark)return;this._value=a,this._quoteMark=l,this._syncRawValue()}else this._value=n}},{key:"insensitive",get:function(){return this._insensitive},set:function(n){n||(this._insensitive=!1,this.raws&&(this.raws.insensitiveFlag==="I"||this.raws.insensitiveFlag==="i")&&(this.raws.insensitiveFlag=void 0)),this._insensitive=n}},{key:"attribute",get:function(){return this._attribute},set:function(n){this._handleEscapes("attribute",n),this._attribute=n}}]),t}(aA.default);Vs.default=Xn;Xn.NO_QUOTE=null;Xn.SINGLE_QUOTE="'";Xn.DOUBLE_QUOTE='"';var La=(Ma={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}},Ma[null]={isIdentifier:!0},Ma);function qp(e,t){return""+t.before+e+t.after}});var ja=g((Us,jp)=>{"use strict";Us.__esModule=!0;Us.default=void 0;var yA=SA(Jn()),gA=ge();function SA(e){return e&&e.__esModule?e:{default:e}}function vA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qa(e,t)}function qa(e,t){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},qa(e,t)}var bA=function(e){vA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=gA.UNIVERSAL,s.value="*",s}return t}(yA.default);Us.default=bA;jp.exports=Us.default});var Wa=g(($s,Bp)=>{"use strict";$s.__esModule=!0;$s.default=void 0;var _A=CA(st()),AA=ge();function CA(e){return e&&e.__esModule?e:{default:e}}function EA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ba(e,t)}function Ba(e,t){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ba(e,t)}var TA=function(e){EA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=AA.COMBINATOR,s}return t}(_A.default);$s.default=TA;Bp.exports=$s.default});var Ga=g((qs,Wp)=>{"use strict";qs.__esModule=!0;qs.default=void 0;var xA=RA(st()),wA=ge();function RA(e){return e&&e.__esModule?e:{default:e}}function NA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,za(e,t)}function za(e,t){return za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},za(e,t)}var IA=function(e){NA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=wA.NESTING,s.value="&",s}return t}(xA.default);qs.default=IA;Wp.exports=qs.default});var Gp=g((Zn,zp)=>{"use strict";Zn.__esModule=!0;Zn.default=OA;function OA(e){return e.sort(function(t,r){return t-r})}zp.exports=Zn.default});var Ha=g(R=>{"use strict";R.__esModule=!0;R.word=R.tilde=R.tab=R.str=R.space=R.slash=R.singleQuote=R.semicolon=R.plus=R.pipe=R.openSquare=R.openParenthesis=R.newline=R.greaterThan=R.feed=R.equals=R.doubleQuote=R.dollar=R.cr=R.comment=R.comma=R.combinator=R.colon=R.closeSquare=R.closeParenthesis=R.caret=R.bang=R.backslash=R.at=R.asterisk=R.ampersand=void 0;var PA=38;R.ampersand=PA;var DA=42;R.asterisk=DA;var kA=64;R.at=kA;var MA=44;R.comma=MA;var LA=58;R.colon=LA;var FA=59;R.semicolon=FA;var VA=40;R.openParenthesis=VA;var UA=41;R.closeParenthesis=UA;var $A=91;R.openSquare=$A;var qA=93;R.closeSquare=qA;var jA=36;R.dollar=jA;var BA=126;R.tilde=BA;var WA=94;R.caret=WA;var zA=43;R.plus=zA;var GA=61;R.equals=GA;var HA=124;R.pipe=HA;var QA=62;R.greaterThan=QA;var KA=32;R.space=KA;var Hp=39;R.singleQuote=Hp;var YA=34;R.doubleQuote=YA;var JA=47;R.slash=JA;var XA=33;R.bang=XA;var ZA=92;R.backslash=ZA;var eC=13;R.cr=eC;var tC=12;R.feed=tC;var rC=10;R.newline=rC;var sC=9;R.tab=sC;var nC=Hp;R.str=nC;var oC=-1;R.comment=oC;var iC=-2;R.word=iC;var aC=-3;R.combinator=aC});var Yp=g(js=>{"use strict";js.__esModule=!0;js.FIELDS=void 0;js.default=mC;var E=lC(Ha()),vr,q;function Kp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Kp=function(n){return n?r:t})(e)}function lC(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Kp(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}var uC=(vr={},vr[E.tab]=!0,vr[E.newline]=!0,vr[E.cr]=!0,vr[E.feed]=!0,vr),cC=(q={},q[E.space]=!0,q[E.tab]=!0,q[E.newline]=!0,q[E.cr]=!0,q[E.feed]=!0,q[E.ampersand]=!0,q[E.asterisk]=!0,q[E.bang]=!0,q[E.comma]=!0,q[E.colon]=!0,q[E.semicolon]=!0,q[E.openParenthesis]=!0,q[E.closeParenthesis]=!0,q[E.openSquare]=!0,q[E.closeSquare]=!0,q[E.singleQuote]=!0,q[E.doubleQuote]=!0,q[E.plus]=!0,q[E.pipe]=!0,q[E.tilde]=!0,q[E.greaterThan]=!0,q[E.equals]=!0,q[E.dollar]=!0,q[E.caret]=!0,q[E.slash]=!0,q),Qa={},Qp="0123456789abcdefABCDEF";for(eo=0;eo<Qp.length;eo++)Qa[Qp.charCodeAt(eo)]=!0;var eo;function fC(e,t){var r=t,s;do{if(s=e.charCodeAt(r),cC[s])return r-1;s===E.backslash?r=pC(e,r)+1:r++}while(r<e.length);return r-1}function pC(e,t){var r=t,s=e.charCodeAt(r+1);if(!uC[s])if(Qa[s]){var n=0;do r++,n++,s=e.charCodeAt(r+1);while(Qa[s]&&n<6);n<6&&s===E.space&&r++}else r++;return r}var dC={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6};js.FIELDS=dC;function mC(e){var t=[],r=e.css.valueOf(),s=r,n=s.length,o=-1,i=1,a=0,l=0,u,c,f,p,d,m,S,h,v,T,A,x,C;function N(M,Q){if(e.safe)r+=Q,v=r.length-1;else throw e.error("Unclosed "+M,i,a-o,a)}for(;a<n;){switch(u=r.charCodeAt(a),u===E.newline&&(o=a,i+=1),u){case E.space:case E.tab:case E.newline:case E.cr:case E.feed:v=a;do v+=1,u=r.charCodeAt(v),u===E.newline&&(o=v,i+=1);while(u===E.space||u===E.newline||u===E.tab||u===E.cr||u===E.feed);C=E.space,p=i,f=v-o-1,l=v;break;case E.plus:case E.greaterThan:case E.tilde:case E.pipe:v=a;do v+=1,u=r.charCodeAt(v);while(u===E.plus||u===E.greaterThan||u===E.tilde||u===E.pipe);C=E.combinator,p=i,f=a-o,l=v;break;case E.asterisk:case E.ampersand:case E.bang:case E.comma:case E.equals:case E.dollar:case E.caret:case E.openSquare:case E.closeSquare:case E.colon:case E.semicolon:case E.openParenthesis:case E.closeParenthesis:v=a,C=u,p=i,f=a-o,l=v+1;break;case E.singleQuote:case E.doubleQuote:x=u===E.singleQuote?"'":'"',v=a;do for(d=!1,v=r.indexOf(x,v+1),v===-1&&N("quote",x),m=v;r.charCodeAt(m-1)===E.backslash;)m-=1,d=!d;while(d);C=E.str,p=i,f=a-o,l=v+1;break;default:u===E.slash&&r.charCodeAt(a+1)===E.asterisk?(v=r.indexOf("*/",a+2)+1,v===0&&N("comment","*/"),c=r.slice(a,v+1),h=c.split(`
`),S=h.length-1,S>0?(T=i+S,A=v-h[S].length):(T=i,A=o),C=E.comment,i=T,p=T,f=v-A):u===E.slash?(v=a,C=u,p=i,f=a-o,l=v+1):(v=fC(r,a),C=E.word,p=i,f=v-o),l=v+1;break}t.push([C,i,a-o,p,f,a,l]),A&&(o=A,A=null),a=l}return t}});var nd=g((Bs,sd)=>{"use strict";Bs.__esModule=!0;Bs.default=void 0;var hC=De(ga()),Ka=De(va()),yC=De(Aa()),Jp=De(Ea()),gC=De(xa()),SC=De(Na()),Ya=De(Oa()),vC=De(Da()),Xp=to($a()),bC=De(ja()),Ja=De(Wa()),_C=De(Ga()),AC=De(Gp()),b=to(Yp()),w=to(Ha()),CC=to(ge()),J=Es(),Bt,Xa;function rd(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rd=function(n){return n?r:t})(e)}function to(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=rd(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function De(e){return e&&e.__esModule?e:{default:e}}function Zp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function EC(e,t,r){return t&&Zp(e.prototype,t),r&&Zp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var tl=(Bt={},Bt[w.space]=!0,Bt[w.cr]=!0,Bt[w.feed]=!0,Bt[w.newline]=!0,Bt[w.tab]=!0,Bt),TC=Object.assign({},tl,(Xa={},Xa[w.comment]=!0,Xa));function ed(e){return{line:e[b.FIELDS.START_LINE],column:e[b.FIELDS.START_COL]}}function td(e){return{line:e[b.FIELDS.END_LINE],column:e[b.FIELDS.END_COL]}}function Wt(e,t,r,s){return{start:{line:e,column:t},end:{line:r,column:s}}}function br(e){return Wt(e[b.FIELDS.START_LINE],e[b.FIELDS.START_COL],e[b.FIELDS.END_LINE],e[b.FIELDS.END_COL])}function Za(e,t){if(e)return Wt(e[b.FIELDS.START_LINE],e[b.FIELDS.START_COL],t[b.FIELDS.END_LINE],t[b.FIELDS.END_COL])}function _r(e,t){var r=e[t];if(typeof r=="string")return r.indexOf("\\")!==-1&&((0,J.ensureObject)(e,"raws"),e[t]=(0,J.unesc)(r),e.raws[t]===void 0&&(e.raws[t]=r)),e}function el(e,t){for(var r=-1,s=[];(r=e.indexOf(t,r+1))!==-1;)s.push(r);return s}function xC(){var e=Array.prototype.concat.apply([],arguments);return e.filter(function(t,r){return r===e.indexOf(t)})}var wC=function(){function e(r,s){s===void 0&&(s={}),this.rule=r,this.options=Object.assign({lossy:!1,safe:!1},s),this.position=0,this.css=typeof this.rule=="string"?this.rule:this.rule.selector,this.tokens=(0,b.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var n=Za(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new hC.default({source:n}),this.root.errorGenerator=this._errorGenerator();var o=new Ka.default({source:{start:{line:1,column:1}}});this.root.append(o),this.current=o,this.loop()}var t=e.prototype;return t._errorGenerator=function(){var s=this;return function(n,o){return typeof s.rule=="string"?new Error(n):s.rule.error(n,o)}},t.attribute=function(){var s=[],n=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[b.FIELDS.TYPE]!==w.closeSquare;)s.push(this.currToken),this.position++;if(this.currToken[b.FIELDS.TYPE]!==w.closeSquare)return this.expected("closing square bracket",this.currToken[b.FIELDS.START_POS]);var o=s.length,i={source:Wt(n[1],n[2],this.currToken[3],this.currToken[4]),sourceIndex:n[b.FIELDS.START_POS]};if(o===1&&!~[w.word].indexOf(s[0][b.FIELDS.TYPE]))return this.expected("attribute",s[0][b.FIELDS.START_POS]);for(var a=0,l="",u="",c=null,f=!1;a<o;){var p=s[a],d=this.content(p),m=s[a+1];switch(p[b.FIELDS.TYPE]){case w.space:if(f=!0,this.options.lossy)break;if(c){(0,J.ensureObject)(i,"spaces",c);var S=i.spaces[c].after||"";i.spaces[c].after=S+d;var h=(0,J.getProp)(i,"raws","spaces",c,"after")||null;h&&(i.raws.spaces[c].after=h+d)}else l=l+d,u=u+d;break;case w.asterisk:if(m[b.FIELDS.TYPE]===w.equals)i.operator=d,c="operator";else if((!i.namespace||c==="namespace"&&!f)&&m){l&&((0,J.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=l,u=""),i.namespace=(i.namespace||"")+d;var v=(0,J.getProp)(i,"raws","namespace")||null;v&&(i.raws.namespace+=d),c="namespace"}f=!1;break;case w.dollar:if(c==="value"){var T=(0,J.getProp)(i,"raws","value");i.value+="$",T&&(i.raws.value=T+"$");break}case w.caret:m[b.FIELDS.TYPE]===w.equals&&(i.operator=d,c="operator"),f=!1;break;case w.combinator:if(d==="~"&&m[b.FIELDS.TYPE]===w.equals&&(i.operator=d,c="operator"),d!=="|"){f=!1;break}m[b.FIELDS.TYPE]===w.equals?(i.operator=d,c="operator"):!i.namespace&&!i.attribute&&(i.namespace=!0),f=!1;break;case w.word:if(m&&this.content(m)==="|"&&s[a+2]&&s[a+2][b.FIELDS.TYPE]!==w.equals&&!i.operator&&!i.namespace)i.namespace=d,c="namespace";else if(!i.attribute||c==="attribute"&&!f){l&&((0,J.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=u,u=""),i.attribute=(i.attribute||"")+d;var A=(0,J.getProp)(i,"raws","attribute")||null;A&&(i.raws.attribute+=d),c="attribute"}else if(!i.value&&i.value!==""||c==="value"&&!(f||i.quoteMark)){var x=(0,J.unesc)(d),C=(0,J.getProp)(i,"raws","value")||"",N=i.value||"";i.value=N+x,i.quoteMark=null,(x!==d||C)&&((0,J.ensureObject)(i,"raws"),i.raws.value=(C||N)+d),c="value"}else{var M=d==="i"||d==="I";(i.value||i.value==="")&&(i.quoteMark||f)?(i.insensitive=M,(!M||d==="I")&&((0,J.ensureObject)(i,"raws"),i.raws.insensitiveFlag=d),c="insensitive",l&&((0,J.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=u,u="")):(i.value||i.value==="")&&(c="value",i.value+=d,i.raws.value&&(i.raws.value+=d))}f=!1;break;case w.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:p[b.FIELDS.START_POS]});var Q=(0,Xp.unescapeValue)(d),Vt=Q.unescaped,An=Q.quoteMark;i.value=Vt,i.quoteMark=An,c="value",(0,J.ensureObject)(i,"raws"),i.raws.value=d,f=!1;break;case w.equals:if(!i.attribute)return this.expected("attribute",p[b.FIELDS.START_POS],d);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:p[b.FIELDS.START_POS]});i.operator=i.operator?i.operator+d:d,c="operator",f=!1;break;case w.comment:if(c)if(f||m&&m[b.FIELDS.TYPE]===w.space||c==="insensitive"){var $S=(0,J.getProp)(i,"spaces",c,"after")||"",qS=(0,J.getProp)(i,"raws","spaces",c,"after")||$S;(0,J.ensureObject)(i,"raws","spaces",c),i.raws.spaces[c].after=qS+d}else{var jS=i[c]||"",BS=(0,J.getProp)(i,"raws",c)||jS;(0,J.ensureObject)(i,"raws"),i.raws[c]=BS+d}else u=u+d;break;default:return this.error('Unexpected "'+d+'" found.',{index:p[b.FIELDS.START_POS]})}a++}_r(i,"attribute"),_r(i,"namespace"),this.newNode(new Xp.default(i)),this.position++},t.parseWhitespaceEquivalentTokens=function(s){s<0&&(s=this.tokens.length);var n=this.position,o=[],i="",a=void 0;do if(tl[this.currToken[b.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[b.FIELDS.TYPE]===w.comment){var l={};i&&(l.before=i,i=""),a=new Jp.default({value:this.content(),source:br(this.currToken),sourceIndex:this.currToken[b.FIELDS.START_POS],spaces:l}),o.push(a)}while(++this.position<s);if(i){if(a)a.spaces.after=i;else if(!this.options.lossy){var u=this.tokens[n],c=this.tokens[this.position-1];o.push(new Ya.default({value:"",source:Wt(u[b.FIELDS.START_LINE],u[b.FIELDS.START_COL],c[b.FIELDS.END_LINE],c[b.FIELDS.END_COL]),sourceIndex:u[b.FIELDS.START_POS],spaces:{before:i,after:""}}))}}return o},t.convertWhitespaceNodesToSpace=function(s,n){var o=this;n===void 0&&(n=!1);var i="",a="";s.forEach(function(u){var c=o.lossySpace(u.spaces.before,n),f=o.lossySpace(u.rawSpaceBefore,n);i+=c+o.lossySpace(u.spaces.after,n&&c.length===0),a+=c+u.value+o.lossySpace(u.rawSpaceAfter,n&&f.length===0)}),a===i&&(a=void 0);var l={space:i,rawSpace:a};return l},t.isNamedCombinator=function(s){return s===void 0&&(s=this.position),this.tokens[s+0]&&this.tokens[s+0][b.FIELDS.TYPE]===w.slash&&this.tokens[s+1]&&this.tokens[s+1][b.FIELDS.TYPE]===w.word&&this.tokens[s+2]&&this.tokens[s+2][b.FIELDS.TYPE]===w.slash},t.namedCombinator=function(){if(this.isNamedCombinator()){var s=this.content(this.tokens[this.position+1]),n=(0,J.unesc)(s).toLowerCase(),o={};n!==s&&(o.value="/"+s+"/");var i=new Ja.default({value:"/"+n+"/",source:Wt(this.currToken[b.FIELDS.START_LINE],this.currToken[b.FIELDS.START_COL],this.tokens[this.position+2][b.FIELDS.END_LINE],this.tokens[this.position+2][b.FIELDS.END_COL]),sourceIndex:this.currToken[b.FIELDS.START_POS],raws:o});return this.position=this.position+3,i}else this.unexpected()},t.combinator=function(){var s=this;if(this.content()==="|")return this.namespace();var n=this.locateNextMeaningfulToken(this.position);if(n<0||this.tokens[n][b.FIELDS.TYPE]===w.comma){var o=this.parseWhitespaceEquivalentTokens(n);if(o.length>0){var i=this.current.last;if(i){var a=this.convertWhitespaceNodesToSpace(o),l=a.space,u=a.rawSpace;u!==void 0&&(i.rawSpaceAfter+=u),i.spaces.after+=l}else o.forEach(function(C){return s.newNode(C)})}return}var c=this.currToken,f=void 0;n>this.position&&(f=this.parseWhitespaceEquivalentTokens(n));var p;if(this.isNamedCombinator()?p=this.namedCombinator():this.currToken[b.FIELDS.TYPE]===w.combinator?(p=new Ja.default({value:this.content(),source:br(this.currToken),sourceIndex:this.currToken[b.FIELDS.START_POS]}),this.position++):tl[this.currToken[b.FIELDS.TYPE]]||f||this.unexpected(),p){if(f){var d=this.convertWhitespaceNodesToSpace(f),m=d.space,S=d.rawSpace;p.spaces.before=m,p.rawSpaceBefore=S}}else{var h=this.convertWhitespaceNodesToSpace(f,!0),v=h.space,T=h.rawSpace;T||(T=v);var A={},x={spaces:{}};v.endsWith(" ")&&T.endsWith(" ")?(A.before=v.slice(0,v.length-1),x.spaces.before=T.slice(0,T.length-1)):v.startsWith(" ")&&T.startsWith(" ")?(A.after=v.slice(1),x.spaces.after=T.slice(1)):x.value=T,p=new Ja.default({value:" ",source:Za(c,this.tokens[this.position-1]),sourceIndex:c[b.FIELDS.START_POS],spaces:A,raws:x})}return this.currToken&&this.currToken[b.FIELDS.TYPE]===w.space&&(p.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(p)},t.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var s=new Ka.default({source:{start:ed(this.tokens[this.position+1])}});this.current.parent.append(s),this.current=s,this.position++},t.comment=function(){var s=this.currToken;this.newNode(new Jp.default({value:this.content(),source:br(s),sourceIndex:s[b.FIELDS.START_POS]})),this.position++},t.error=function(s,n){throw this.root.error(s,n)},t.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[b.FIELDS.START_POS]})},t.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[b.FIELDS.START_POS])},t.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[b.FIELDS.START_POS])},t.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[b.FIELDS.START_POS])},t.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[b.FIELDS.START_POS])},t.namespace=function(){var s=this.prevToken&&this.content(this.prevToken)||!0;if(this.nextToken[b.FIELDS.TYPE]===w.word)return this.position++,this.word(s);if(this.nextToken[b.FIELDS.TYPE]===w.asterisk)return this.position++,this.universal(s);this.unexpectedPipe()},t.nesting=function(){if(this.nextToken){var s=this.content(this.nextToken);if(s==="|"){this.position++;return}}var n=this.currToken;this.newNode(new _C.default({value:this.content(),source:br(n),sourceIndex:n[b.FIELDS.START_POS]})),this.position++},t.parentheses=function(){var s=this.current.last,n=1;if(this.position++,s&&s.type===CC.PSEUDO){var o=new Ka.default({source:{start:ed(this.tokens[this.position-1])}}),i=this.current;for(s.append(o),this.current=o;this.position<this.tokens.length&&n;)this.currToken[b.FIELDS.TYPE]===w.openParenthesis&&n++,this.currToken[b.FIELDS.TYPE]===w.closeParenthesis&&n--,n?this.parse():(this.current.source.end=td(this.currToken),this.current.parent.source.end=td(this.currToken),this.position++);this.current=i}else{for(var a=this.currToken,l="(",u;this.position<this.tokens.length&&n;)this.currToken[b.FIELDS.TYPE]===w.openParenthesis&&n++,this.currToken[b.FIELDS.TYPE]===w.closeParenthesis&&n--,u=this.currToken,l+=this.parseParenthesisToken(this.currToken),this.position++;s?s.appendToPropertyAndEscape("value",l,l):this.newNode(new Ya.default({value:l,source:Wt(a[b.FIELDS.START_LINE],a[b.FIELDS.START_COL],u[b.FIELDS.END_LINE],u[b.FIELDS.END_COL]),sourceIndex:a[b.FIELDS.START_POS]}))}if(n)return this.expected("closing parenthesis",this.currToken[b.FIELDS.START_POS])},t.pseudo=function(){for(var s=this,n="",o=this.currToken;this.currToken&&this.currToken[b.FIELDS.TYPE]===w.colon;)n+=this.content(),this.position++;if(!this.currToken)return this.expected(["pseudo-class","pseudo-element"],this.position-1);if(this.currToken[b.FIELDS.TYPE]===w.word)this.splitWord(!1,function(i,a){n+=i,s.newNode(new vC.default({value:n,source:Za(o,s.currToken),sourceIndex:o[b.FIELDS.START_POS]})),a>1&&s.nextToken&&s.nextToken[b.FIELDS.TYPE]===w.openParenthesis&&s.error("Misplaced parenthesis.",{index:s.nextToken[b.FIELDS.START_POS]})});else return this.expected(["pseudo-class","pseudo-element"],this.currToken[b.FIELDS.START_POS])},t.space=function(){var s=this.content();this.position===0||this.prevToken[b.FIELDS.TYPE]===w.comma||this.prevToken[b.FIELDS.TYPE]===w.openParenthesis||this.current.nodes.every(function(n){return n.type==="comment"})?(this.spaces=this.optionalSpace(s),this.position++):this.position===this.tokens.length-1||this.nextToken[b.FIELDS.TYPE]===w.comma||this.nextToken[b.FIELDS.TYPE]===w.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(s),this.position++):this.combinator()},t.string=function(){var s=this.currToken;this.newNode(new Ya.default({value:this.content(),source:br(s),sourceIndex:s[b.FIELDS.START_POS]})),this.position++},t.universal=function(s){var n=this.nextToken;if(n&&this.content(n)==="|")return this.position++,this.namespace();var o=this.currToken;this.newNode(new bC.default({value:this.content(),source:br(o),sourceIndex:o[b.FIELDS.START_POS]}),s),this.position++},t.splitWord=function(s,n){for(var o=this,i=this.nextToken,a=this.content();i&&~[w.dollar,w.caret,w.equals,w.word].indexOf(i[b.FIELDS.TYPE]);){this.position++;var l=this.content();if(a+=l,l.lastIndexOf("\\")===l.length-1){var u=this.nextToken;u&&u[b.FIELDS.TYPE]===w.space&&(a+=this.requiredSpace(this.content(u)),this.position++)}i=this.nextToken}var c=el(a,".").filter(function(m){var S=a[m-1]==="\\",h=/^\d+\.\d+%$/.test(a);return!S&&!h}),f=el(a,"#").filter(function(m){return a[m-1]!=="\\"}),p=el(a,"#{");p.length&&(f=f.filter(function(m){return!~p.indexOf(m)}));var d=(0,AC.default)(xC([0].concat(c,f)));d.forEach(function(m,S){var h=d[S+1]||a.length,v=a.slice(m,h);if(S===0&&n)return n.call(o,v,d.length);var T,A=o.currToken,x=A[b.FIELDS.START_POS]+d[S],C=Wt(A[1],A[2]+m,A[3],A[2]+(h-1));if(~c.indexOf(m)){var N={value:v.slice(1),source:C,sourceIndex:x};T=new yC.default(_r(N,"value"))}else if(~f.indexOf(m)){var M={value:v.slice(1),source:C,sourceIndex:x};T=new gC.default(_r(M,"value"))}else{var Q={value:v,source:C,sourceIndex:x};_r(Q,"value"),T=new SC.default(Q)}o.newNode(T,s),s=null}),this.position++},t.word=function(s){var n=this.nextToken;return n&&this.content(n)==="|"?(this.position++,this.namespace()):this.splitWord(s)},t.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},t.parse=function(s){switch(this.currToken[b.FIELDS.TYPE]){case w.space:this.space();break;case w.comment:this.comment();break;case w.openParenthesis:this.parentheses();break;case w.closeParenthesis:s&&this.missingParenthesis();break;case w.openSquare:this.attribute();break;case w.dollar:case w.caret:case w.equals:case w.word:this.word();break;case w.colon:this.pseudo();break;case w.comma:this.comma();break;case w.asterisk:this.universal();break;case w.ampersand:this.nesting();break;case w.slash:case w.combinator:this.combinator();break;case w.str:this.string();break;case w.closeSquare:this.missingSquareBracket();case w.semicolon:this.missingBackslash();default:this.unexpected()}},t.expected=function(s,n,o){if(Array.isArray(s)){var i=s.pop();s=s.join(", ")+" or "+i}var a=/^[aeiou]/.test(s[0])?"an":"a";return o?this.error("Expected "+a+" "+s+', found "'+o+'" instead.',{index:n}):this.error("Expected "+a+" "+s+".",{index:n})},t.requiredSpace=function(s){return this.options.lossy?" ":s},t.optionalSpace=function(s){return this.options.lossy?"":s},t.lossySpace=function(s,n){return this.options.lossy?n?" ":"":s},t.parseParenthesisToken=function(s){var n=this.content(s);return s[b.FIELDS.TYPE]===w.space?this.requiredSpace(n):n},t.newNode=function(s,n){return n&&(/^ +$/.test(n)&&(this.options.lossy||(this.spaces=(this.spaces||"")+n),n=!0),s.namespace=n,_r(s,"namespace")),this.spaces&&(s.spaces.before=this.spaces,this.spaces=""),this.current.append(s)},t.content=function(s){return s===void 0&&(s=this.currToken),this.css.slice(s[b.FIELDS.START_POS],s[b.FIELDS.END_POS])},t.locateNextMeaningfulToken=function(s){s===void 0&&(s=this.position+1);for(var n=s;n<this.tokens.length;)if(TC[this.tokens[n][b.FIELDS.TYPE]]){n++;continue}else return n;return-1},EC(e,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),e}();Bs.default=wC;sd.exports=Bs.default});var id=g((Ws,od)=>{"use strict";Ws.__esModule=!0;Ws.default=void 0;var RC=NC(nd());function NC(e){return e&&e.__esModule?e:{default:e}}var IC=function(){function e(r,s){this.func=r||function(){},this.funcRes=null,this.options=s}var t=e.prototype;return t._shouldUpdateSelector=function(s,n){n===void 0&&(n={});var o=Object.assign({},this.options,n);return o.updateSelector===!1?!1:typeof s!="string"},t._isLossy=function(s){s===void 0&&(s={});var n=Object.assign({},this.options,s);return n.lossless===!1},t._root=function(s,n){n===void 0&&(n={});var o=new RC.default(s,this._parseOptions(n));return o.root},t._parseOptions=function(s){return{lossy:this._isLossy(s)}},t._run=function(s,n){var o=this;return n===void 0&&(n={}),new Promise(function(i,a){try{var l=o._root(s,n);Promise.resolve(o.func(l)).then(function(u){var c=void 0;return o._shouldUpdateSelector(s,n)&&(c=l.toString(),s.selector=c),{transform:u,root:l,string:c}}).then(i,a)}catch(u){a(u);return}})},t._runSync=function(s,n){n===void 0&&(n={});var o=this._root(s,n),i=this.func(o);if(i&&typeof i.then=="function")throw new Error("Selector processor returned a promise to a synchronous call.");var a=void 0;return n.updateSelector&&typeof s!="string"&&(a=o.toString(),s.selector=a),{transform:i,root:o,string:a}},t.ast=function(s,n){return this._run(s,n).then(function(o){return o.root})},t.astSync=function(s,n){return this._runSync(s,n).root},t.transform=function(s,n){return this._run(s,n).then(function(o){return o.transform})},t.transformSync=function(s,n){return this._runSync(s,n).transform},t.process=function(s,n){return this._run(s,n).then(function(o){return o.string||o.root.toString()})},t.processSync=function(s,n){var o=this._runSync(s,n);return o.string||o.root.toString()},e}();Ws.default=IC;od.exports=Ws.default});var ad=g(z=>{"use strict";z.__esModule=!0;z.universal=z.tag=z.string=z.selector=z.root=z.pseudo=z.nesting=z.id=z.comment=z.combinator=z.className=z.attribute=void 0;var OC=ke($a()),PC=ke(Aa()),DC=ke(Wa()),kC=ke(Ea()),MC=ke(xa()),LC=ke(Ga()),FC=ke(Da()),VC=ke(ga()),UC=ke(va()),$C=ke(Oa()),qC=ke(Na()),jC=ke(ja());function ke(e){return e&&e.__esModule?e:{default:e}}var BC=function(t){return new OC.default(t)};z.attribute=BC;var WC=function(t){return new PC.default(t)};z.className=WC;var zC=function(t){return new DC.default(t)};z.combinator=zC;var GC=function(t){return new kC.default(t)};z.comment=GC;var HC=function(t){return new MC.default(t)};z.id=HC;var QC=function(t){return new LC.default(t)};z.nesting=QC;var KC=function(t){return new FC.default(t)};z.pseudo=KC;var YC=function(t){return new VC.default(t)};z.root=YC;var JC=function(t){return new UC.default(t)};z.selector=JC;var XC=function(t){return new $C.default(t)};z.string=XC;var ZC=function(t){return new qC.default(t)};z.tag=ZC;var eE=function(t){return new jC.default(t)};z.universal=eE});var fd=g(F=>{"use strict";F.__esModule=!0;F.isComment=F.isCombinator=F.isClassName=F.isAttribute=void 0;F.isContainer=pE;F.isIdentifier=void 0;F.isNamespace=dE;F.isNesting=void 0;F.isNode=rl;F.isPseudo=void 0;F.isPseudoClass=fE;F.isPseudoElement=cd;F.isUniversal=F.isTag=F.isString=F.isSelector=F.isRoot=void 0;var X=ge(),Te,tE=(Te={},Te[X.ATTRIBUTE]=!0,Te[X.CLASS]=!0,Te[X.COMBINATOR]=!0,Te[X.COMMENT]=!0,Te[X.ID]=!0,Te[X.NESTING]=!0,Te[X.PSEUDO]=!0,Te[X.ROOT]=!0,Te[X.SELECTOR]=!0,Te[X.STRING]=!0,Te[X.TAG]=!0,Te[X.UNIVERSAL]=!0,Te);function rl(e){return typeof e=="object"&&tE[e.type]}function Me(e,t){return rl(t)&&t.type===e}var ld=Me.bind(null,X.ATTRIBUTE);F.isAttribute=ld;var rE=Me.bind(null,X.CLASS);F.isClassName=rE;var sE=Me.bind(null,X.COMBINATOR);F.isCombinator=sE;var nE=Me.bind(null,X.COMMENT);F.isComment=nE;var oE=Me.bind(null,X.ID);F.isIdentifier=oE;var iE=Me.bind(null,X.NESTING);F.isNesting=iE;var sl=Me.bind(null,X.PSEUDO);F.isPseudo=sl;var aE=Me.bind(null,X.ROOT);F.isRoot=aE;var lE=Me.bind(null,X.SELECTOR);F.isSelector=lE;var uE=Me.bind(null,X.STRING);F.isString=uE;var ud=Me.bind(null,X.TAG);F.isTag=ud;var cE=Me.bind(null,X.UNIVERSAL);F.isUniversal=cE;function cd(e){return sl(e)&&e.value&&(e.value.startsWith("::")||e.value.toLowerCase()===":before"||e.value.toLowerCase()===":after"||e.value.toLowerCase()===":first-letter"||e.value.toLowerCase()===":first-line")}function fE(e){return sl(e)&&!cd(e)}function pE(e){return!!(rl(e)&&e.walk)}function dE(e){return ld(e)||ud(e)}});var pd=g(We=>{"use strict";We.__esModule=!0;var nl=ge();Object.keys(nl).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===nl[e]||(We[e]=nl[e])});var ol=ad();Object.keys(ol).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===ol[e]||(We[e]=ol[e])});var il=fd();Object.keys(il).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===il[e]||(We[e]=il[e])})});var hd=g((zs,md)=>{"use strict";zs.__esModule=!0;zs.default=void 0;var mE=gE(id()),hE=yE(pd());function dd(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(dd=function(n){return n?r:t})(e)}function yE(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=dd(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function gE(e){return e&&e.__esModule?e:{default:e}}var al=function(t){return new mE.default(t)};Object.assign(al,hE);delete al.__esModule;var SE=al;zs.default=SE;md.exports=zs.default});var Ad=g((vD,pl)=>{var{Rule:gd,AtRule:vE}=qt(),Sd=hd();function cl(e,t){let r;try{Sd(s=>{r=s}).processSync(e)}catch(s){throw e.includes(":")?t?t.error("Missed semicolon"):s:t?t.error(s.message):s}return r.at(0)}function vd(e,t){let r=!1;return e.each(s=>{if(s.type==="nesting"){let n=t.clone({});s.value!=="&"?s.replaceWith(cl(s.value.replace("&",n.toString()))):s.replaceWith(n),r=!0}else"nodes"in s&&s.nodes&&vd(s,t)&&(r=!0)}),r}function bd(e,t){let r=[];return e.selectors.forEach(s=>{let n=cl(s,e);t.selectors.forEach(o=>{if(!o)return;let i=cl(o,t);vd(i,n)||(i.prepend(Sd.combinator({value:" "})),i.prepend(n.clone({}))),r.push(i.toString())})}),r}function ro(e,t){let r=e.prev();for(t.after(e);r&&r.type==="comment";){let s=r.prev();t.after(r),r=s}return e}function bE(e){return function t(r,s,n,o=n){let i=[];if(s.each(a=>{a.type==="rule"&&n?o&&(a.selectors=bd(r,a)):a.type==="atrule"&&a.nodes?e[a.name]?t(r,a,o):s[fl]!==!1&&i.push(a):i.push(a)}),n&&i.length){let a=r.clone({nodes:[]});for(let l of i)a.append(l);s.prepend(a)}}}function ll(e,t,r){let s=new gd({selector:e,nodes:[]});return s.append(t),r.after(s),s}function yd(e,t){let r={};for(let s of e)r[s]=!0;if(t)for(let s of t)r[s.replace(/^@/,"")]=!0;return r}function _E(e){e=e.trim();let t=e.match(/^\((.*)\)$/);if(!t)return{type:"basic",selector:e};let r=t[1].match(/^(with(?:out)?):(.+)$/);if(r){let s=r[1]==="with",n=Object.fromEntries(r[2].trim().split(/\s+/).map(i=>[i,!0]));if(s&&n.all)return{type:"noop"};let o=i=>!!n[i];return n.all?o=()=>!0:s&&(o=i=>i==="all"?!1:!n[i]),{type:"withrules",escapes:o}}return{type:"unknown"}}function AE(e){let t=[],r=e.parent;for(;r&&r instanceof vE;)t.push(r),r=r.parent;return t}function CE(e){let t=e[_d];if(!t)e.after(e.nodes);else{let r=e.nodes,s,n=-1,o,i,a,l=AE(e);if(l.forEach((u,c)=>{if(t(u.name))s=u,n=c,i=a;else{let f=a;a=u.clone({nodes:[]}),f&&a.append(f),o=o||a}}),s?i?(o.append(r),s.after(i)):s.after(r):e.after(r),e.next()&&s){let u;l.slice(0,n+1).forEach((c,f,p)=>{let d=u;u=c.clone({nodes:[]}),d&&u.append(d);let m=[],h=(p[f-1]||e).next();for(;h;)m.push(h),h=h.next();u.append(m)}),u&&(i||r[r.length-1]).after(u)}}e.remove()}var fl=Symbol("rootRuleMergeSel"),_d=Symbol("rootRuleEscapes");function EE(e){let{params:t}=e,{type:r,selector:s,escapes:n}=_E(t);if(r==="unknown")throw e.error(`Unknown @${e.name} parameter ${JSON.stringify(t)}`);if(r==="basic"&&s){let o=new gd({selector:s,nodes:e.nodes});e.removeAll(),e.append(o)}e[_d]=n,e[fl]=n?!n("all"):r==="noop"}var ul=Symbol("hasRootRule");pl.exports=(e={})=>{let t=yd(["media","supports","layer","container"],e.bubble),r=bE(t),s=yd(["document","font-face","keyframes","-webkit-keyframes","-moz-keyframes"],e.unwrap),n=(e.rootRuleName||"at-root").replace(/^@/,""),o=e.preserveEmpty;return{postcssPlugin:"postcss-nested",Once(i){i.walkAtRules(n,a=>{EE(a),i[ul]=!0})},Rule(i){let a=!1,l=i,u=!1,c=[];i.each(f=>{f.type==="rule"?(c.length&&(l=ll(i.selector,c,l),c=[]),u=!0,a=!0,f.selectors=bd(i,f),l=ro(f,l)):f.type==="atrule"?(c.length&&(l=ll(i.selector,c,l),c=[]),f.name===n?(a=!0,r(i,f,!0,f[fl]),l=ro(f,l)):t[f.name]?(u=!0,a=!0,r(i,f,!0),l=ro(f,l)):s[f.name]?(u=!0,a=!0,r(i,f,!1),l=ro(f,l)):u&&c.push(f)):f.type==="decl"&&u&&c.push(f)}),c.length&&(l=ll(i.selector,c,l)),a&&o!==!0&&(i.raws.semicolon=!0,i.nodes.length===0&&i.remove())},RootExit(i){i[ul]&&(i.walkAtRules(n,CE),i[ul]=!1)}}};pl.exports.postcss=!0});var xd=g((bD,Td)=>{"use strict";var Cd=/-(\w|$)/g,Ed=function(t,r){return r.toUpperCase()},TE=function(t){return t=t.toLowerCase(),t==="float"?"cssFloat":t.charCodeAt(0)===45&&t.charCodeAt(1)===109&&t.charCodeAt(2)===115&&t.charCodeAt(3)===45?t.substr(1).replace(Cd,Ed):t.replace(Cd,Ed)};Td.exports=TE});var hl=g((_D,wd)=>{var xE=xd(),wE={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};function dl(e){return typeof e.nodes>"u"?!0:ml(e)}function ml(e){let t,r={};return e.each(s=>{if(s.type==="atrule")t="@"+s.name,s.params&&(t+=" "+s.params),typeof r[t]>"u"?r[t]=dl(s):Array.isArray(r[t])?r[t].push(dl(s)):r[t]=[r[t],dl(s)];else if(s.type==="rule"){let n=ml(s);if(r[s.selector])for(let o in n)r[s.selector][o]=n[o];else r[s.selector]=n}else if(s.type==="decl"){s.prop[0]==="-"&&s.prop[1]==="-"||s.parent&&s.parent.selector===":export"?t=s.prop:t=xE(s.prop);let n=s.value;!isNaN(s.value)&&wE[t]&&(n=parseFloat(s.value)),s.important&&(n+=" !important"),typeof r[t]>"u"?r[t]=n:Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]}}),r}wd.exports=ml});var so=g((AD,Od)=>{var Gs=qt(),Rd=/\s*!important\s*$/i,RE={"box-flex":!0,"box-flex-group":!0,"column-count":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"font-weight":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0};function NE(e){return e.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function Nd(e,t,r){r===!1||r===null||(t.startsWith("--")||(t=NE(t)),typeof r=="number"&&(r===0||RE[t]?r=r.toString():r+="px"),t==="css-float"&&(t="float"),Rd.test(r)?(r=r.replace(Rd,""),e.push(Gs.decl({prop:t,value:r,important:!0}))):e.push(Gs.decl({prop:t,value:r})))}function Id(e,t,r){let s=Gs.atRule({name:t[1],params:t[3]||""});typeof r=="object"&&(s.nodes=[],yl(r,s)),e.push(s)}function yl(e,t){let r,s,n;for(r in e)if(s=e[r],!(s===null||typeof s>"u"))if(r[0]==="@"){let o=r.match(/@(\S+)(\s+([\W\w]*)\s*)?/);if(Array.isArray(s))for(let i of s)Id(t,o,i);else Id(t,o,s)}else if(Array.isArray(s))for(let o of s)Nd(t,r,o);else typeof s=="object"?(n=Gs.rule({selector:r}),yl(s,n),t.push(n)):Nd(t,r,s)}Od.exports=function(e){let t=Gs.root();return yl(e,t),t}});var gl=g((CD,Pd)=>{var IE=hl();Pd.exports=function(t){return console&&console.warn&&t.warnings().forEach(r=>{let s=r.plugin||"PostCSS";console.warn(s+": "+r.text)}),IE(t.root)}});var kd=g((ED,Dd)=>{var OE=qt(),PE=gl(),DE=so();Dd.exports=function(t){let r=OE(t);return async s=>{let n=await r.process(s,{parser:DE,from:void 0});return PE(n)}}});var Ld=g((TD,Md)=>{var kE=qt(),ME=gl(),LE=so();Md.exports=function(e){let t=kE(e);return r=>{let s=t.process(r,{parser:LE,from:void 0});return ME(s)}}});var Vd=g((xD,Fd)=>{var FE=hl(),VE=so(),UE=kd(),$E=Ld();Fd.exports={objectify:FE,parse:VE,async:UE,sync:$E}});var qd=g((PD,$d)=>{var qE=ia(),jE=dr(),BE=ua(),Sl=class extends BE{createTokenizer(){this.tokenizer=qE(this.input,{ignoreErrors:!0})}comment(t){let r=new jE;this.init(r,t[2]);let s=this.input.fromOffset(t[3])||this.input.fromOffset(this.input.css.length-1);r.source.end={offset:t[3],line:s.line,column:s.col};let n=t[1].slice(2);if(n.slice(-2)==="*/"&&(n=n.slice(0,-2)),/^\s*$/.test(n))r.text="",r.raws.left=n,r.raws.right="";else{let o=n.match(/^(\s*)([^]*\S)(\s*)$/);r.text=o[2],r.raws.left=o[1],r.raws.right=o[3]}}decl(t){t.length>1&&t.some(r=>r[0]==="word")&&super.decl(t)}unclosedBracket(){}unknownWord(t){this.spaces+=t.map(r=>r[1]).join("")}unexpectedClose(){this.current.raws.after+="}"}doubleColon(){}unnamedAtrule(t){t.name=""}precheckMissedSemicolon(t){let r=this.colon(t);if(r===!1)return;let s,n;for(s=r-1;s>=0&&t[s][0]!=="word";s--);if(s===0)return;for(n=s-1;n>=0;n--)if(t[n][0]!=="space"){n+=1;break}let o=t.slice(s),i=t.slice(n,s);t.splice(n,t.length-n),this.spaces=i.map(a=>a[1]).join(""),this.decl(o)}checkMissedSemicolon(){}endFile(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after=""}};$d.exports=Sl});var Bd=g((DD,jd)=>{var{Input:WE}=qt(),zE=qd();jd.exports=function(t,r){let s=new WE(t,r),n=new zE(s);return n.parse(),n.root}});var Jd=g(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0})});var Xd=g(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.tokenize=void 0;function QE(e,{shouldClose:t,isDelimiter:r,isStringDelimiter:s,isWhitespace:n,shouldAddToken:o,createToken:i,getCommentStartType:a,isCommentEnd:l,getUnclosedComment:u,offset:c=0}){let f=[],p="",d="",m="",S="",h=c,v=0;for(let A of e)v+=A.length,S?(d+=A,A===S&&p!=="\\"&&(T("string"),S="")):m?(d+=A,l(m,A,e,v,p)&&(T(m),m="")):(m=a(A,e,v))?(T(),d+=A):s(A,p)?(T(),d+=A,S=A):r(A,p)?(T(),d+=A,T(A)):n(A)&&!n(p)||!n(A)&&n(p)?(T(),d+=A):t?.(A,p)?(T(),d+=A,T(A)):d+=A,p=A;d.length&&(m?T(u(m)):S?T("unclosed-string"):T());function T(A){if(d.length===0)return;let x=h+d.length;A=A??(d.trim().length?"text":"space"),o(A,d)&&(f[f.length]=i(d,A,h,x)),h=x,d=""}return f}no.tokenize=QE});var em=g($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.last=$.trimTokens=$.groupTokens=$.getText=$.getUnclosedComment=$.isCommentEnd=$.getMultilineCommentStartType=$.getJSCommentStartType=$.createToken=$.isWhitespace=$.isStringDelimiter=$.isString=$.isComment=void 0;function KE(e){return e==="line-comment"||e==="multi-comment"||e==="unclosed-comment"}$.isComment=KE;function YE(e){return e==="string"||e==="unclosed-string"}$.isString=YE;var JE=e=>e==="'"||e==='"'||e==="`";$.isStringDelimiter=JE;var XE=e=>e===" "||e==="	"||e==="\r"||e===`
`;$.isWhitespace=XE;var ZE=(e,t,r,s)=>({value:e,type:t,start:r,end:s});$.createToken=ZE;function eT(e,t,r){return e==="/"&&t[r]==="/"?"line-comment":e==="/"&&t[r]==="*"?"multi-comment":""}$.getJSCommentStartType=eT;function tT(e,t,r){return e==="/"&&t[r]==="*"?"multi-comment":""}$.getMultilineCommentStartType=tT;function rT(e,t,r,s,n){return e==="line-comment"&&t===`
`?!0:e==="multi-comment"&&t==="/"&&n==="*"}$.isCommentEnd=rT;function sT(e){return e==="line-comment"?e:"unclosed-comment"}$.getUnclosedComment=sT;function Zd(e,t=0,r=-1,s){if(e.length===0)return"";if(r===-1&&(r=e.length),s)return s.slice(e[t].start,e[r-1].end);{let n="";for(let o=t;o<r;o++)n+=e[o].value;return n}}$.getText=Zd;function nT(e,t="tokens",r){return{type:t,start:e[0].start,end:e[e.length-1].end,value:Zd(e,void 0,void 0,r),tokens:e}}$.groupTokens=nT;function oT(e,t){let r=0,s=e.length;for(let n=0;n<e.length&&t(e[n]);n++)r=n+1;for(let n=e.length-1;n>r&&t(e[n]);n--)s=n;return e.slice(r,s)}$.trimTokens=oT;function iT(e){return e[e.length-1]}$.last=iT});var tm=g(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.Seeker=void 0;var _l=class{constructor(t){this.tokens=t,this.index=-1}next(){return this.index++,this.tokens[this.index]||{type:""}}back(){this.index--}peekBack(){return this.tokens[this.index-1]||{type:""}}peek(t=1){return this.tokens[this.index+t]||{type:""}}take(t){if(this.peek().type===t)return this.next()}eat(t){for(;this.peek().type===t;)this.index++;return this}takeMany(t){let r=[];for(;this.peek().type===t;)r.push(this.next());return r}flatBlock(t,r,s){let n=this.next();if(n.type!==t)return[];let o=[],i;for(;n=this.next();){if(!n.type){i!==void 0&&(this.index=i-1);return}if(s&&s(n)&&(i=this.index),n.type===r)return o;o.push(n)}return[]}done(){return this.index>=this.tokens.length-1}run(t,r,s){let n;for(;(n=this.next())&&n.type&&t(n,r,s,this)!==!1;);return r}};oo.Seeker=_l});var ot=g(Xe=>{"use strict";var aT=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),io=Xe&&Xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aT(t,e,r)};Object.defineProperty(Xe,"__esModule",{value:!0});io(Jd(),Xe);io(Xd(),Xe);io(em(),Xe);io(tm(),Xe)});var rm=g(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.tokenizeSelector=void 0;var zt=ot();function lT(e,t={}){return(0,zt.tokenize)(e,{isDelimiter:uT,isStringDelimiter(s,n){return n!=="\\"&&(0,zt.isStringDelimiter)(s)},isWhitespace:zt.isWhitespace,shouldAddToken:()=>!0,createToken:zt.createToken,getCommentStartType:zt.getMultilineCommentStartType,isCommentEnd:zt.isCommentEnd,getUnclosedComment:zt.getUnclosedComment,offset:t.offset})}ao.tokenizeSelector=lT;var uT=(e,t)=>t!=="\\"&&(e==="["||e==="]"||e==="("||e===")"||e===","||e==="*"||e==="|"||e===":"||e==="."||e==="#"||e===">"||e==="~"||e==="+"||e==="{"||e==="}"||e==="&")});var Al=g(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.trimCombinators=ae.ensureSelector=ae.isNamespacedAst=ae.isNamespacedToken=ae.isCombinatorToken=ae.createCommentAst=ae.createCombinatorAst=ae.createEmptyNth=ae.createEmptySelector=void 0;var sm=ot();function nm(){return{type:"selector",start:-1,end:-1,before:"",after:"",nodes:[]}}ae.createEmptySelector=nm;function cT(){return{type:"nth",start:-1,end:-1,before:"",after:"",nodes:[]}}ae.createEmptyNth=cT;function fT({value:e,type:t,start:r,end:s}){return{type:"combinator",combinator:t,value:t==="space"?e[0]:e,start:r,end:s,before:"",after:t==="space"?e.slice(1):"",invalid:!1}}ae.createCombinatorAst=fT;function pT({value:e,start:t,end:r}){return{type:"comment",value:e,start:t,end:r,before:"",after:""}}ae.createCommentAst=pT;function dT(e){return e.type==="space"||e.type==="+"||e.type===">"||e.type==="~"}ae.isCombinatorToken=dT;function mT(e){return e.type==="*"||e.type==="text"}ae.isNamespacedToken=mT;function hT(e){return e.type==="universal"||e.type==="type"}ae.isNamespacedAst=hT;function yT(e,t){let r=(0,sm.last)(e);return r||(r=nm(),r.start=t.start,e.push(r)),r}ae.ensureSelector=yT;function gT(e){let t=e.nodes,r=t[0],s=(0,sm.last)(t);if(r?.type==="combinator"&&r.combinator==="space"&&(e.nodes.shift(),e.before+=r.before+r.value+r.after),s&&s!==r){let n=t.length-1,o=s,i;for(;o&&(o.type==="comment"||o.type==="combinator"&&o.combinator==="space");)o.type==="combinator"?i?(e.nodes.splice(n,1),i.before+=o.before+o.value+o.after,i.start=o.start):(e.nodes.pop(),e.after+=o.before+o.value+o.after):i=o,o=t[--n]}}ae.trimCombinators=gT});var Cl=g(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.NthParser=void 0;var ST=Al(),om=ot(),Gt=class e{static isNthPseudoClass(t){return t==="nth-child"||t==="nth-last-child"||t==="nth-of-type"||t==="nth-last-of-type"}constructor(t,r){this.selectorNode=t,this.s=r,this.state="step",this.standaloneDash=!1,this.ast=t.nodes}handleToken(t){let r=t.type;if(r==="text"||r==="+")switch(this.state){case"step":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.breakFirstChunk({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"dash":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.pushDash({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"offset":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.pushOffset({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"of":return this.pushOf(t),!1}else if(r==="space"){let s=(0,om.last)(this.ast);return s?(s.after+=t.value,s.end+=t.value.length):this.selectorNode.before+=t.value,!0}else if((0,om.isComment)(r))return this.ast.push((0,ST.createCommentAst)(t)),!0;return this.s.back(),!1}breakFirstChunk(t){let r=t.value,s=r.match(e.oddEvenStep);if(s){let o=!!s[1];this.pushStep(t,o);return}let n=r.match(e.nthStartExp);if(!n)this.pushStep(t);else{let o=n[1],i=n[2];!i&&!o.match(/[nN]+$/)&&o.match(e.validOffset)?this.pushOffset(t):i==="-"?(this.pushStep({type:"text",value:o,start:t.start,end:t.start+o.length}),this.pushDash({type:"text",value:"-",start:t.end-1,end:t.end})):i&&!i.match(/-\d+/)?this.pushStep(t):(this.pushStep({type:"text",value:o,start:t.start,end:t.start+o.length}),i&&this.pushOffset({type:"text",value:i,start:t.end-i.length,end:t.end}))}}pushStep(t,r){let s=t.value,n={type:"nth_step",value:s,before:"",after:"",start:t.start,end:t.end};r=r!==void 0?r:!s.match(e.validStep),r&&(n.invalid=!0),this.state="dash",this.ast.push(n)}pushDash(t){let r=t.value;r==="+"||r==="-"?(this.ast.push({type:"nth_dash",value:t.value,start:t.start,end:t.end,before:"",after:""}),this.standaloneDash=!0,this.state="offset"):this.pushOffset(t)}pushOffset(t){if(t.value==="of")this.pushOf(t);else{let r=t.value,s={type:"nth_offset",value:r,before:"",after:"",start:t.start,end:t.end};(!r.match(e.validOffset)||this.standaloneDash&&r.match(/^[-+]/))&&(s.invalid=!0),this.state="of",this.ast.push(s)}}pushOf(t){let r={type:"nth_of",value:t.value,before:"",after:"",start:t.start,end:t.end};t.value!=="of"&&(r.invalid=!0),this.ast.push(r),this.state="selector"}};lo.NthParser=Gt;Gt.oddEvenStep=/([-+]?)(odd|even)/i;Gt.validStep=/^[-+]?\d*n$/i;Gt.validOffset=/^[-+]?\d+$/;Gt.nthStartExp=/([-+]?\d*[nN]?)(.*)/});var lm=g(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.parseCssSelector=void 0;var vT=rm(),im=Cl(),re=Al(),le=ot();function bT(e,t={}){return _T(e,(0,vT.tokenizeSelector)(e,t))}uo.parseCssSelector=bT;function _T(e,t){return new le.Seeker(t).run(am,[],e)}function am(e,t,r,s){let n,o=(0,re.ensureSelector)(t,e),i=o.nodes;if(e.type==="."){let a=s.takeMany("multi-comment").map(re.createCommentAst),l=s.take("text");i.push({type:"class",value:l?.value??"",start:e.start,end:l?.end??(0,le.last)(a)?.end??e.end,dotComments:a})}else if(e.type===":"){let a=s.takeMany("multi-comment").map(re.createCommentAst),l=s.take(":")||e;if(e===l){let c=s.take("text"),f=c||(0,le.last)(a)||l;i.push({type:"pseudo_class",value:c?.value??"",start:e.start,end:c?.end??f.end,colonComments:a})}else{let c=s.takeMany("multi-comment").map(re.createCommentAst),f=s.take("text"),p=f||(0,le.last)(c)||l;i.push({type:"pseudo_element",value:f?.value??"",start:e.start,end:f?.end??p.end,colonComments:{first:a,second:c}})}}else if(e.type==="["){let a=s.run((u,c)=>(c.push(u),u.type!=="]"),[e],r);(0,le.last)(a)?.type==="]"?i.push({type:"attribute",value:a.length>2?(0,le.getText)(a,1,a.length-1,r):"",start:e.start,end:(0,le.last)(a)?.end??e.end}):i.push({type:"invalid",value:(0,le.getText)(a,void 0,void 0,r),start:e.start,end:(0,le.last)(a)?.end??e.end})}else if((0,re.isCombinatorToken)(e)){let a=(0,re.createCombinatorAst)(e),l=a;i.push(a);let u=a.combinator==="space"?i.length-1:-1,c=s.next();for(;c;){if((0,re.isCombinatorToken)(c))if(c.type==="space")l.after+=c.value,l.end=c.end;else if(l===a&&l.combinator==="space"){let f=(0,re.createCombinatorAst)(c);a.combinator=f.combinator,a.before+=a.after+a.value+f.before,a.after=f.after,a.value=f.value,a.end=f.end,u=-1}else if(u!==-1){let f=i[u],p=f.before+f.value+f.after;if(u===0)o.before+=p;else{let d=i[u+1];d?.type==="comment"&&(d.before+=p,d.start=f.start)}i.splice(u,1),u=-1,a=(0,re.createCombinatorAst)(c),l=a,i.push(a)}else a=(0,re.createCombinatorAst)(c),a.invalid=!0,l=a,i.push(a);else if((0,le.isComment)(c.type))l=(0,re.createCommentAst)(c),i.push(l);else break;c=s.next()}c&&!(0,re.isCombinatorToken)(c)&&s.back()}else if(e.type==="text")i.push({type:"type",value:e.value,start:e.start,end:e.end});else if(e.type==="#")n=s.take("text"),i.push({type:"id",value:n?.value??"",start:e.start,end:n?.end??e.end});else if(e.type==="*")i.push({type:"universal",value:"*",start:e.start,end:e.end});else if(e.type==="|"){let a,l,u=[];for(let T=i.length-1;T>=0;--T){let A=i[T];if((0,re.isNamespacedAst)(A)){A.namespace?l=A:a=A;break}else if(A.type==="comment"&&A.before===""&&A.after==="")u.unshift(A);else{l=A;break}}let c,f=1,p=[];for(;;){let T=s.peek(f);if((0,le.isComment)(T.type))p.push(T);else if((0,re.isNamespacedToken)(T)){c=T;break}else break;f++}let d=!l,m=!!c,S=c?.type==="*"?"universal":"type",h="";d?i.splice(i.length-u.length,u.length):h="namespace",m?(p.forEach(()=>s.next()),s.next()):h=h?"namespace,target":"target";let v=a||{type:S,value:"",start:e.start,end:c?.end||e.end};v.type=S,v.namespace={value:a?.value||"",beforeComments:d?u:[],afterComments:m?p.map(re.createCommentAst):[]},v.value=c?.value||"",v.end=c?.end||e.end,h&&(v.namespace.invalid=h),a||i.push(v)}else if(e.type==="("){let a=(0,le.last)(i),l=[];if(a&&a.type==="pseudo_class"&&im.NthParser.isNthPseudoClass(a.value)&&s.peek().type!==")"){let c=(0,re.createEmptyNth)();c.start=s.peek().start,l.push(c);let f=new im.NthParser(c,s);if(s.run(p=>f.state==="selector"?(s.back(),!1):f.handleToken(p),c,r),s.peek().type!==")"){c.end=(0,le.last)(c.nodes)?.end||c.start;let p=(0,re.createEmptySelector)();p.start=c.end,l.push(p)}}s.run((c,f)=>{if(c.type===")"){let p=(0,le.last)(f);return p&&(p.end=(0,le.last)(p.nodes)?.end??p.start),!1}return am(c,f,r,s)},l,r);let u=s.peek(0);if(!a||"nodes"in a||a.type==="invalid"||a.type==="combinator"||a.type==="comment"||a.type==="nth_step"||a.type==="nth_dash"||a.type==="nth_offset"||a.type==="nth_of"||u.type!==")")i.push({type:"invalid",value:(0,le.getText)([e,u],void 0,void 0,r),start:e.start,end:u?.end??s.peekBack().end});else{let c=(0,le.last)(l);c&&(0,re.trimCombinators)(c),a.nodes=l,a.end=u.end}}else if((0,le.isComment)(e.type))i.push((0,re.createCommentAst)(e));else if(e.type===","){let a=(0,le.last)(t);a.end=e.start,(0,re.trimCombinators)(a);let l=(0,re.createEmptySelector)();s.done()?(l.start=e.end,l.end=e.end):l.start=s.peek().start,t.push(l)}else e.type==="&"?i.push({type:"nesting",value:"&",start:e.start,end:e.end}):i.push({type:"invalid",value:e.value,start:e.start,end:e.end});s.done()&&(o.end=(0,le.last)(o.nodes)?.end??o.start,(0,re.trimCombinators)(o))}});var cm=g(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0})});var pm=g(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.stringifySelectorAst=void 0;var AT=Cl();function CT(e){return"length"in e?Tl(e):Ze(e)}co.stringifySelectorAst=CT;var El={id:e=>`#${e.value}${Nt(e)}`,class:e=>`.${e.dotComments.map(Ze).join("")}${e.value}${Nt(e)}`,type:e=>`${fm(e)}${e.value}${Nt(e)}`,combinator:e=>`${e.before}${e.value}${e.after}`,attribute:e=>`[${e.value}]${Nt(e)}`,pseudo_class:e=>`:${e.colonComments.map(Ze).join("")}${e.value}${Nt(e)}`,pseudo_element:e=>`:${e.colonComments.first.map(Ze).join("")}:${e.colonComments.second.map(Ze).join("")}${e.value}${Nt(e)}`,comment:({before:e,value:t,after:r})=>`${e}${t}${r}`,universal:e=>`${fm(e)}${e.value}${Nt(e)}`,nesting:e=>`${e.value}${Nt(e)}`,selector:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,compound_selector:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,invalid:e=>e.value,nth:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,nth_step:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_dash:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_offset:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_of:({before:e,value:t,after:r})=>`${e}${t}${r}`};function Ze(e){return El[e.type]?.(e)??""}function Tl(e){let t=[];for(let r of e)t.push(Ze(r));return t.join(",")}function Nt(e){if("nodes"in e)if(e.nodes?.length)if(e.type==="pseudo_class"&&AT.NthParser.isNthPseudoClass(e.value)){let[t,...r]=e.nodes;return`(${Ze(t)}${Tl(r)})`}else return`(${Tl(e.nodes)})`;else return"()";return""}function fm({namespace:e}){let t="";if(e){t+=e.value;for(let r of e.beforeComments)t+=El.comment(r);t+="|";for(let r of e.afterComments)t+=El.comment(r)}return t}});var mo=g(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.walk=void 0;var xl=Symbol("nest-end");function fo(e,t,r={}){let s=Array.isArray(e)?[...e]:[e],n=ET(e);for(;s.length;){let o=s.shift();if(o===xl){n.up();continue}else if((!r.ignoreList||!r.ignoreList.includes(o.type))&&(!r.visitList||r.visitList.includes(o.type))){let i=t(o,n.indexInSelector,n.nodesInSelector,n.parents)??-1;if(n.next(),i===1/0)return;if(i>=0){for(;i>0&&s.length;)s.shift()===xl&&(i--,n.up());continue}}else n.next();TT(o)&&(n.insertNested(o),s.unshift(...o.nodes,xl))}}po.walk=fo;function ET(e){let t=[],r=[[]],s={parents:[],indexInSelector:0,nodesInSelector:Array.isArray(e)?e:"nodes"in e?e.nodes:[e],up(){s.parents.pop(),s.indexInSelector=t.shift();let n=s.parents,o=n[n.length-1];s.nodesInSelector=o?o.nodes:e},next(){s.indexInSelector++},insertNested(n){s.parents=[...s.parents,n],r.push(s.parents),t.unshift(s.indexInSelector),s.indexInSelector=0,s.nodesInSelector=n.nodes}};return s}fo.skipNested=0;fo.skipCurrentSelector=1;fo.stopAll=1/0;function TT(e){return e&&"nodes"in e}});var hm=g(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.splitCompoundSelectors=Cr.groupCompoundSelectors=void 0;var dm=mo();function mm(e,t){let r=xT(t);return(0,dm.walk)(e,(s,n,o,i)=>{if(i.length===0&&s.type==="selector")r.addSelector(s);else{if(t?.deep&&"nodes"in s){let a=[];for(let l of s.nodes)a.push(l.type==="selector"?mm(l,t):l);s={...s,nodes:a}}return r.handleNode(s),dm.walk.skipNested}}),"length"in e?r.output:r.output[0]}Cr.groupCompoundSelectors=mm;function xT({splitPseudoElements:e=!0}={}){let t=[],r,s,n,o=i=>{if(i.type==="pseudo_element"&&e===!0&&(s=void 0),i.type==="combinator")r.nodes.push(i),s=void 0;else if(i.type==="comment"&&!RT(i))r.nodes.push(i),s=void 0;else if(i.type==="type"||i.type==="universal"||i.type==="class"||i.type==="id"||i.type==="attribute"||i.type==="nesting"||i.type==="pseudo_class"||i.type==="pseudo_element"||i.type==="invalid"||i.type==="comment")s||(n=void 0,s={type:"compound_selector",start:i.start,end:i.end,before:"",after:"",nodes:[],invalid:!1},r.nodes.push(s)),!s.invalid&&i.type!=="comment"&&(n&&(s.invalid=i.type==="universal"||i.type==="type"),n=i),s.nodes.push(i),s.end=i.end;else if(i.type==="selector"||i.type==="compound_selector")for(let a of i.nodes)o(a);else r.nodes.push(i),s=void 0};return{addSelector(i){r={type:"selector",start:i.start,end:i.end,before:"before"in i?i.before:"",after:"after"in i?i.after:"",nodes:[]},t.push(r),s=void 0},handleNode:o,output:t}}function wT(e){let t=Array.isArray(e)?e:[e],r=[];for(let s of t){let n={...s,nodes:[]};for(let o of s.nodes)o.type==="compound_selector"?n.nodes.push(...o.nodes):n.nodes.push(o);r.push(n)}return"length"in e?r:r[0]}Cr.splitCompoundSelectors=wT;function RT(e){return e.type==="comment"&&e.before===""&&e.after===""}});var vm=g(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.compareSpecificity=Er.calcSpecificity=void 0;var wl=mo();function gm(e){let t=[0,0,0,0];return(0,wl.walk)(e,r=>{switch(r.type){case"type":case"pseudo_element":t[3]++;break;case"class":case"attribute":t[2]++;break;case"pseudo_class":if(ym[r.value])return ym[r.value](r,t),wl.walk.skipNested;t[2]++;break;case"id":t[1]++;break}return r.type!=="selector"&&r.type!=="compound_selector"?wl.walk.skipNested:void 0}),t}Er.calcSpecificity=gm;var ym={not:yo,is:yo,has:yo,where:()=>{},"nth-child":ho,"nth-last-child":ho,"nth-of-type":ho,"nth-last-of-type":ho};function ho(e,t){t[2]++,yo(e,t)}function yo(e,t){if(e.nodes?.length){let r=[0,0,0,0];for(let s of e.nodes){let n=gm(s);(!r||Sm(n,r)===1)&&(r=n)}NT(t,r)}}function Sm(e,t){for(let r=0;r<4;++r){let s=e[r]-t[r];if(s>0)return 1;if(s<0)return-1}return 0}Er.compareSpecificity=Sm;function NT(e,t){for(let r=0;r<4;++r)e[r]+=t[r]}});var it=g(oe=>{"use strict";var IT=oe&&oe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),OT=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&IT(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});oe.compareSpecificity=oe.calcSpecificity=oe.splitCompoundSelectors=oe.groupCompoundSelectors=oe.walk=oe.stringifySelectorAst=oe.parseCssSelector=void 0;var PT=lm();Object.defineProperty(oe,"parseCssSelector",{enumerable:!0,get:function(){return PT.parseCssSelector}});OT(cm(),oe);var DT=pm();Object.defineProperty(oe,"stringifySelectorAst",{enumerable:!0,get:function(){return DT.stringifySelectorAst}});var kT=mo();Object.defineProperty(oe,"walk",{enumerable:!0,get:function(){return kT.walk}});var bm=hm();Object.defineProperty(oe,"groupCompoundSelectors",{enumerable:!0,get:function(){return bm.groupCompoundSelectors}});Object.defineProperty(oe,"splitCompoundSelectors",{enumerable:!0,get:function(){return bm.splitCompoundSelectors}});var _m=vm();Object.defineProperty(oe,"calcSpecificity",{enumerable:!0,get:function(){return _m.calcSpecificity}});Object.defineProperty(oe,"compareSpecificity",{enumerable:!0,get:function(){return _m.compareSpecificity}})});var jl=g((Hs,Tr)=>{var MT=200,Dm="__lodash_hash_undefined__",km=9007199254740991,Ml="[object Arguments]",LT="[object Array]",Mm="[object Boolean]",Lm="[object Date]",FT="[object Error]",Ll="[object Function]",Fm="[object GeneratorFunction]",go="[object Map]",Vm="[object Number]",Fl="[object Object]",Am="[object Promise]",Um="[object RegExp]",So="[object Set]",$m="[object String]",qm="[object Symbol]",Nl="[object WeakMap]",jm="[object ArrayBuffer]",vo="[object DataView]",Bm="[object Float32Array]",Wm="[object Float64Array]",zm="[object Int8Array]",Gm="[object Int16Array]",Hm="[object Int32Array]",Qm="[object Uint8Array]",Km="[object Uint8ClampedArray]",Ym="[object Uint16Array]",Jm="[object Uint32Array]",VT=/[\\^$.*+?()[\]{}|]/g,UT=/\w*$/,$T=/^\[object .+?Constructor\]$/,qT=/^(?:0|[1-9]\d*)$/,G={};G[Ml]=G[LT]=G[jm]=G[vo]=G[Mm]=G[Lm]=G[Bm]=G[Wm]=G[zm]=G[Gm]=G[Hm]=G[go]=G[Vm]=G[Fl]=G[Um]=G[So]=G[$m]=G[qm]=G[Qm]=G[Km]=G[Ym]=G[Jm]=!0;G[FT]=G[Ll]=G[Nl]=!1;var jT=typeof global=="object"&&global&&global.Object===Object&&global,BT=typeof self=="object"&&self&&self.Object===Object&&self,at=jT||BT||Function("return this")(),Xm=typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,Cm=Xm&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,WT=Cm&&Cm.exports===Xm;function zT(e,t){return e.set(t[0],t[1]),e}function GT(e,t){return e.add(t),e}function HT(e,t){for(var r=-1,s=e?e.length:0;++r<s&&t(e[r],r,e)!==!1;);return e}function QT(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e}function Zm(e,t,r,s){var n=-1,o=e?e.length:0;for(s&&o&&(r=e[++n]);++n<o;)r=t(r,e[n],n,e);return r}function KT(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function YT(e,t){return e?.[t]}function eh(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Em(e){var t=-1,r=Array(e.size);return e.forEach(function(s,n){r[++t]=[n,s]}),r}function Vl(e,t){return function(r){return e(t(r))}}function Tm(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var JT=Array.prototype,XT=Function.prototype,bo=Object.prototype,Rl=at["__core-js_shared__"],xm=function(){var e=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),th=XT.toString,It=bo.hasOwnProperty,_o=bo.toString,ZT=RegExp("^"+th.call(It).replace(VT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wm=WT?at.Buffer:void 0,Rm=at.Symbol,Nm=at.Uint8Array,ex=Vl(Object.getPrototypeOf,Object),tx=Object.create,rx=bo.propertyIsEnumerable,sx=JT.splice,Im=Object.getOwnPropertySymbols,nx=wm?wm.isBuffer:void 0,ox=Vl(Object.keys,Object),Il=Rr(at,"DataView"),Qs=Rr(at,"Map"),Ol=Rr(at,"Promise"),Pl=Rr(at,"Set"),Dl=Rr(at,"WeakMap"),Ks=Rr(Object,"create"),ix=Kt(Il),ax=Kt(Qs),lx=Kt(Ol),ux=Kt(Pl),cx=Kt(Dl),Om=Rm?Rm.prototype:void 0,Pm=Om?Om.valueOf:void 0;function Qt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function fx(){this.__data__=Ks?Ks(null):{}}function px(e){return this.has(e)&&delete this.__data__[e]}function dx(e){var t=this.__data__;if(Ks){var r=t[e];return r===Dm?void 0:r}return It.call(t,e)?t[e]:void 0}function mx(e){var t=this.__data__;return Ks?t[e]!==void 0:It.call(t,e)}function hx(e,t){var r=this.__data__;return r[e]=Ks&&t===void 0?Dm:t,this}Qt.prototype.clear=fx;Qt.prototype.delete=px;Qt.prototype.get=dx;Qt.prototype.has=mx;Qt.prototype.set=hx;function lt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function yx(){this.__data__=[]}function gx(e){var t=this.__data__,r=Ao(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():sx.call(t,r,1),!0}function Sx(e){var t=this.__data__,r=Ao(t,e);return r<0?void 0:t[r][1]}function vx(e){return Ao(this.__data__,e)>-1}function bx(e,t){var r=this.__data__,s=Ao(r,e);return s<0?r.push([e,t]):r[s][1]=t,this}lt.prototype.clear=yx;lt.prototype.delete=gx;lt.prototype.get=Sx;lt.prototype.has=vx;lt.prototype.set=bx;function xr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function _x(){this.__data__={hash:new Qt,map:new(Qs||lt),string:new Qt}}function Ax(e){return Co(this,e).delete(e)}function Cx(e){return Co(this,e).get(e)}function Ex(e){return Co(this,e).has(e)}function Tx(e,t){return Co(this,e).set(e,t),this}xr.prototype.clear=_x;xr.prototype.delete=Ax;xr.prototype.get=Cx;xr.prototype.has=Ex;xr.prototype.set=Tx;function wr(e){this.__data__=new lt(e)}function xx(){this.__data__=new lt}function wx(e){return this.__data__.delete(e)}function Rx(e){return this.__data__.get(e)}function Nx(e){return this.__data__.has(e)}function Ix(e,t){var r=this.__data__;if(r instanceof lt){var s=r.__data__;if(!Qs||s.length<MT-1)return s.push([e,t]),this;r=this.__data__=new xr(s)}return r.set(e,t),this}wr.prototype.clear=xx;wr.prototype.delete=wx;wr.prototype.get=Rx;wr.prototype.has=Nx;wr.prototype.set=Ix;function Ox(e,t){var r=$l(e)||tw(e)?KT(e.length,String):[],s=r.length,n=!!s;for(var o in e)(t||It.call(e,o))&&!(n&&(o=="length"||Jx(o,s)))&&r.push(o);return r}function rh(e,t,r){var s=e[t];(!(It.call(e,t)&&ih(s,r))||r===void 0&&!(t in e))&&(e[t]=r)}function Ao(e,t){for(var r=e.length;r--;)if(ih(e[r][0],t))return r;return-1}function Px(e,t){return e&&sh(t,ql(t),e)}function kl(e,t,r,s,n,o,i){var a;if(s&&(a=o?s(e,n,o,i):s(e)),a!==void 0)return a;if(!Eo(e))return e;var l=$l(e);if(l){if(a=Qx(e),!t)return zx(e,a)}else{var u=Ht(e),c=u==Ll||u==Fm;if(sw(e))return Vx(e,t);if(u==Fl||u==Ml||c&&!o){if(eh(e))return o?e:{};if(a=Kx(c?{}:e),!t)return Gx(e,Px(a,e))}else{if(!G[u])return o?e:{};a=Yx(e,u,kl,t)}}i||(i=new wr);var f=i.get(e);if(f)return f;if(i.set(e,a),!l)var p=r?Hx(e):ql(e);return HT(p||e,function(d,m){p&&(m=d,d=e[m]),rh(a,m,kl(d,t,r,s,m,e,i))}),a}function Dx(e){return Eo(e)?tx(e):{}}function kx(e,t,r){var s=t(e);return $l(e)?s:QT(s,r(e))}function Mx(e){return _o.call(e)}function Lx(e){if(!Eo(e)||Zx(e))return!1;var t=lh(e)||eh(e)?ZT:$T;return t.test(Kt(e))}function Fx(e){if(!oh(e))return ox(e);var t=[];for(var r in Object(e))It.call(e,r)&&r!="constructor"&&t.push(r);return t}function Vx(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Ul(e){var t=new e.constructor(e.byteLength);return new Nm(t).set(new Nm(e)),t}function Ux(e,t){var r=t?Ul(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function $x(e,t,r){var s=t?r(Em(e),!0):Em(e);return Zm(s,zT,new e.constructor)}function qx(e){var t=new e.constructor(e.source,UT.exec(e));return t.lastIndex=e.lastIndex,t}function jx(e,t,r){var s=t?r(Tm(e),!0):Tm(e);return Zm(s,GT,new e.constructor)}function Bx(e){return Pm?Object(Pm.call(e)):{}}function Wx(e,t){var r=t?Ul(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function zx(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function sh(e,t,r,s){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n],a=s?s(r[i],e[i],i,r,e):void 0;rh(r,i,a===void 0?e[i]:a)}return r}function Gx(e,t){return sh(e,nh(e),t)}function Hx(e){return kx(e,ql,nh)}function Co(e,t){var r=e.__data__;return Xx(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Rr(e,t){var r=YT(e,t);return Lx(r)?r:void 0}var nh=Im?Vl(Im,Object):iw,Ht=Mx;(Il&&Ht(new Il(new ArrayBuffer(1)))!=vo||Qs&&Ht(new Qs)!=go||Ol&&Ht(Ol.resolve())!=Am||Pl&&Ht(new Pl)!=So||Dl&&Ht(new Dl)!=Nl)&&(Ht=function(e){var t=_o.call(e),r=t==Fl?e.constructor:void 0,s=r?Kt(r):void 0;if(s)switch(s){case ix:return vo;case ax:return go;case lx:return Am;case ux:return So;case cx:return Nl}return t});function Qx(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&It.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Kx(e){return typeof e.constructor=="function"&&!oh(e)?Dx(ex(e)):{}}function Yx(e,t,r,s){var n=e.constructor;switch(t){case jm:return Ul(e);case Mm:case Lm:return new n(+e);case vo:return Ux(e,s);case Bm:case Wm:case zm:case Gm:case Hm:case Qm:case Km:case Ym:case Jm:return Wx(e,s);case go:return $x(e,s,r);case Vm:case $m:return new n(e);case Um:return qx(e);case So:return jx(e,s,r);case qm:return Bx(e)}}function Jx(e,t){return t=t??km,!!t&&(typeof e=="number"||qT.test(e))&&e>-1&&e%1==0&&e<t}function Xx(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Zx(e){return!!xm&&xm in e}function oh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||bo;return e===r}function Kt(e){if(e!=null){try{return th.call(e)}catch{}try{return e+""}catch{}}return""}function ew(e){return kl(e,!0,!0)}function ih(e,t){return e===t||e!==e&&t!==t}function tw(e){return rw(e)&&It.call(e,"callee")&&(!rx.call(e,"callee")||_o.call(e)==Ml)}var $l=Array.isArray;function ah(e){return e!=null&&nw(e.length)&&!lh(e)}function rw(e){return ow(e)&&ah(e)}var sw=nx||aw;function lh(e){var t=Eo(e)?_o.call(e):"";return t==Ll||t==Fm}function nw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=km}function Eo(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ow(e){return!!e&&typeof e=="object"}function ql(e){return ah(e)?Ox(e):Fx(e)}function iw(){return[]}function aw(){return!1}Tr.exports=ew});var Th=g(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.parseImports=void 0;var ct=ot();function _w(e,t="{",r="}",s=!1,n=!1){return Ew((0,ct.tokenize)(e,{isDelimiter:Aw,isStringDelimiter:ct.isStringDelimiter,isWhitespace:ct.isWhitespace,shouldAddToken:Cw,createToken:ct.createToken,getCommentStartType:ct.getJSCommentStartType,isCommentEnd:ct.isCommentEnd,getUnclosedComment:ct.getUnclosedComment}),t,r,s,n)}Po.parseImports=_w;var Aw=e=>e===";"||e==="("||e===")"||e===","||e==="{"||e==="}"||e===":"||e==="*"||e==="["||e==="]",Cw=e=>!(e==="space"||(0,ct.isComment)(e)),Eh=e=>e.value==="from"||e.type===";";function Ew(e,t,r,s=!1,n=!1){let o=[],i=new ct.Seeker(e),a,l;for(;(a=i.next())&&a.type;)if(a.value==="import"){let u=i.index,c=[],f,p=!1,d,m={},S;if(l=i.next(),l.type==="string")S=l.value.slice(1,-1);else{if(l.type==="text"?l.value==="from"?(i.back(),c.push("missing name")):f=l.value:l.type==="*"?(p=!0,i.peek().value==="as"?(i.next(),l=i.peek(),l.type==="text"&&l.value!=="from"?(i.next(),f=l.value):c.push("missing as name")):c.push("expected as after *")):l.type===","&&c.push("missing default name"),l.type===t){p&&c.push("Invalid named after *"),i.back();let h=i.flatBlock(t,r,Eh);if(h){let v=Hl(h,c,s);d=v.named,m=v.tagged}else c.push("unclosed block")}else{l=i.peek();let h=!1;if(l.type===","&&(h=!0,i.next(),l=i.peek()),l.type===t){f&&!h&&c.push("missing comma after name"),p&&c.push("Invalid named after *");let v=i.flatBlock(t,r,Eh);if(v){let T=Hl(v,c,s);d=T.named,m=T.tagged}else c.push("unclosed block")}else h&&c.push("missing named block")}l=i.next(),l.value!=="from"&&(i.back(),c.push("invalid missing from")),l=i.next(),l.type==="string"?S=l.value.slice(1,-1):(i.back(),c.push("invalid missing source"))}l=i.peek(),n&&l.type!==";"&&!i.done()?c.push("missing semicolon"):l.type===";"&&i.next(),o.push({star:p,defaultName:f,named:d,tagged:m,from:S,errors:c,start:i.tokens[u].start,end:i.tokens[i.index].end})}return o}function Hl(e,t,r){var s;let n=[],o={},i=[];for(let l=0;l<e.length;l++){let u=e[l];if(((s=e[l+1])===null||s===void 0?void 0:s.type)==="("&&r){let c=[],f=e[l],p;for(let d=l+2;d<e.length;d++){if(l=d,e[d].type===")"){p=!0;break}c.push(e[d])}o[f.value]=Hl(c,t,!1).named,f.type!=="text"&&t.push(`invalid tag name: ${f.value}`),p||t.push(`unclosed tagged import "${f.value}"`)}else u.type===","?a():i.push(u)}return i.length&&a(),{named:n,tagged:o};function a(){if(i.length===1){let l=i[0].value;n.push([l,l])}else i.length===3&&i[1].value==="as"&&n.push([i[0].value,i[2].value]);i.length=0}}});var Rh=g((Bk,wh)=>{var Ql="(".charCodeAt(0),Kl=")".charCodeAt(0),Do="'".charCodeAt(0),Yl='"'.charCodeAt(0),Jl="\\".charCodeAt(0),Dr="/".charCodeAt(0),Xl=",".charCodeAt(0),Zl=":".charCodeAt(0),ko="*".charCodeAt(0),xw="u".charCodeAt(0),ww="U".charCodeAt(0),Rw="+".charCodeAt(0),Nw=/^[a-f0-9?-]+$/i;wh.exports=function(e){for(var t=[],r=e,s,n,o,i,a,l,u,c,f=0,p=r.charCodeAt(f),d=r.length,m=[{nodes:t}],S=0,h,v="",T="",A="";f<d;)if(p<=32){s=f;do s+=1,p=r.charCodeAt(s);while(p<=32);i=r.slice(f,s),o=t[t.length-1],p===Kl&&S?A=i:o&&o.type==="div"?(o.after=i,o.sourceEndIndex+=i.length):p===Xl||p===Zl||p===Dr&&r.charCodeAt(s+1)!==ko&&(!h||h&&h.type==="function"&&h.value!=="calc")?T=i:t.push({type:"space",sourceIndex:f,sourceEndIndex:s,value:i}),f=s}else if(p===Do||p===Yl){s=f,n=p===Do?"'":'"',i={type:"string",sourceIndex:f,quote:n};do if(a=!1,s=r.indexOf(n,s+1),~s)for(l=s;r.charCodeAt(l-1)===Jl;)l-=1,a=!a;else r+=n,s=r.length-1,i.unclosed=!0;while(a);i.value=r.slice(f+1,s),i.sourceEndIndex=i.unclosed?s:s+1,t.push(i),f=s+1,p=r.charCodeAt(f)}else if(p===Dr&&r.charCodeAt(f+1)===ko)s=r.indexOf("*/",f),i={type:"comment",sourceIndex:f,sourceEndIndex:s+2},s===-1&&(i.unclosed=!0,s=r.length,i.sourceEndIndex=s),i.value=r.slice(f+2,s),t.push(i),f=s+2,p=r.charCodeAt(f);else if((p===Dr||p===ko)&&h&&h.type==="function"&&h.value==="calc")i=r[f],t.push({type:"word",sourceIndex:f-T.length,sourceEndIndex:f+i.length,value:i}),f+=1,p=r.charCodeAt(f);else if(p===Dr||p===Xl||p===Zl)i=r[f],t.push({type:"div",sourceIndex:f-T.length,sourceEndIndex:f+i.length,value:i,before:T,after:""}),T="",f+=1,p=r.charCodeAt(f);else if(Ql===p){s=f;do s+=1,p=r.charCodeAt(s);while(p<=32);if(c=f,i={type:"function",sourceIndex:f-v.length,value:v,before:r.slice(c+1,s)},f=s,v==="url"&&p!==Do&&p!==Yl){s-=1;do if(a=!1,s=r.indexOf(")",s+1),~s)for(l=s;r.charCodeAt(l-1)===Jl;)l-=1,a=!a;else r+=")",s=r.length-1,i.unclosed=!0;while(a);u=s;do u-=1,p=r.charCodeAt(u);while(p<=32);c<u?(f!==u+1?i.nodes=[{type:"word",sourceIndex:f,sourceEndIndex:u+1,value:r.slice(f,u+1)}]:i.nodes=[],i.unclosed&&u+1!==s?(i.after="",i.nodes.push({type:"space",sourceIndex:u+1,sourceEndIndex:s,value:r.slice(u+1,s)})):(i.after=r.slice(u+1,s),i.sourceEndIndex=s)):(i.after="",i.nodes=[]),f=s+1,i.sourceEndIndex=i.unclosed?s:f,p=r.charCodeAt(f),t.push(i)}else S+=1,i.after="",i.sourceEndIndex=f+1,t.push(i),m.push(i),t=i.nodes=[],h=i;v=""}else if(Kl===p&&S)f+=1,p=r.charCodeAt(f),h.after=A,h.sourceEndIndex+=A.length,A="",S-=1,m[m.length-1].sourceEndIndex=f,m.pop(),h=m[S],t=h.nodes;else{s=f;do p===Jl&&(s+=1),s+=1,p=r.charCodeAt(s);while(s<d&&!(p<=32||p===Do||p===Yl||p===Xl||p===Zl||p===Dr||p===Ql||p===ko&&h&&h.type==="function"&&h.value==="calc"||p===Dr&&h.type==="function"&&h.value==="calc"||p===Kl&&S));i=r.slice(f,s),Ql===p?v=i:(xw===i.charCodeAt(0)||ww===i.charCodeAt(0))&&Rw===i.charCodeAt(1)&&Nw.test(i.slice(2))?t.push({type:"unicode-range",sourceIndex:f,sourceEndIndex:s,value:i}):t.push({type:"word",sourceIndex:f,sourceEndIndex:s,value:i}),f=s}for(f=m.length-1;f;f-=1)m[f].unclosed=!0,m[f].sourceEndIndex=r.length;return m[0].nodes}});var Ih=g((Wk,Nh)=>{Nh.exports=function e(t,r,s){var n,o,i,a;for(n=0,o=t.length;n<o;n+=1)i=t[n],s||(a=r(i,n,t)),a!==!1&&i.type==="function"&&Array.isArray(i.nodes)&&e(i.nodes,r,s),s&&r(i,n,t)}});var kh=g((zk,Dh)=>{function Oh(e,t){var r=e.type,s=e.value,n,o;return t&&(o=t(e))!==void 0?o:r==="word"||r==="space"?s:r==="string"?(n=e.quote||"",n+s+(e.unclosed?"":n)):r==="comment"?"/*"+s+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+s+(e.after||""):Array.isArray(e.nodes)?(n=Ph(e.nodes,t),r!=="function"?n:s+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):s}function Ph(e,t){var r,s;if(Array.isArray(e)){for(r="",s=e.length-1;~s;s-=1)r=Oh(e[s],t)+r;return r}return Oh(e,t)}Dh.exports=Ph});var Lh=g((Gk,Mh)=>{var Mo="-".charCodeAt(0),Lo="+".charCodeAt(0),eu=".".charCodeAt(0),Iw="e".charCodeAt(0),Ow="E".charCodeAt(0);function Pw(e){var t=e.charCodeAt(0),r;if(t===Lo||t===Mo){if(r=e.charCodeAt(1),r>=48&&r<=57)return!0;var s=e.charCodeAt(2);return r===eu&&s>=48&&s<=57}return t===eu?(r=e.charCodeAt(1),r>=48&&r<=57):t>=48&&t<=57}Mh.exports=function(e){var t=0,r=e.length,s,n,o;if(r===0||!Pw(e))return!1;for(s=e.charCodeAt(t),(s===Lo||s===Mo)&&t++;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;if(s=e.charCodeAt(t),n=e.charCodeAt(t+1),s===eu&&n>=48&&n<=57)for(t+=2;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;if(s=e.charCodeAt(t),n=e.charCodeAt(t+1),o=e.charCodeAt(t+2),(s===Iw||s===Ow)&&(n>=48&&n<=57||(n===Lo||n===Mo)&&o>=48&&o<=57))for(t+=n===Lo||n===Mo?3:2;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;return{number:e.slice(0,t),unit:e.slice(t)}}});var Ae=g((Hk,Uh)=>{var Dw=Rh(),Fh=Ih(),Vh=kh();function Pt(e){return this instanceof Pt?(this.nodes=Dw(e),this):new Pt(e)}Pt.prototype.toString=function(){return Array.isArray(this.nodes)?Vh(this.nodes):""};Pt.prototype.walk=function(e,t){return Fh(this.nodes,e,t),this};Pt.unit=Lh();Pt.walk=Fh;Pt.stringify=Vh;Uh.exports=Pt});var By=g((rn,Lr)=>{var nR=200,dy="__lodash_hash_undefined__",my=9007199254740991,yu="[object Arguments]",oR="[object Array]",hy="[object Boolean]",yy="[object Date]",iR="[object Error]",gu="[object Function]",gy="[object GeneratorFunction]",Wo="[object Map]",Sy="[object Number]",Su="[object Object]",ry="[object Promise]",vy="[object RegExp]",zo="[object Set]",by="[object String]",_y="[object Symbol]",cu="[object WeakMap]",Ay="[object ArrayBuffer]",Go="[object DataView]",Cy="[object Float32Array]",Ey="[object Float64Array]",Ty="[object Int8Array]",xy="[object Int16Array]",wy="[object Int32Array]",Ry="[object Uint8Array]",Ny="[object Uint8ClampedArray]",Iy="[object Uint16Array]",Oy="[object Uint32Array]",aR=/[\\^$.*+?()[\]{}|]/g,lR=/\w*$/,uR=/^\[object .+?Constructor\]$/,cR=/^(?:0|[1-9]\d*)$/,H={};H[yu]=H[oR]=H[Ay]=H[Go]=H[hy]=H[yy]=H[Cy]=H[Ey]=H[Ty]=H[xy]=H[wy]=H[Wo]=H[Sy]=H[Su]=H[vy]=H[zo]=H[by]=H[_y]=H[Ry]=H[Ny]=H[Iy]=H[Oy]=!0;H[iR]=H[gu]=H[cu]=!1;var fR=typeof global=="object"&&global&&global.Object===Object&&global,pR=typeof self=="object"&&self&&self.Object===Object&&self,pt=fR||pR||Function("return this")(),Py=typeof rn=="object"&&rn&&!rn.nodeType&&rn,sy=Py&&typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,dR=sy&&sy.exports===Py;function mR(e,t){return e.set(t[0],t[1]),e}function hR(e,t){return e.add(t),e}function yR(e,t){for(var r=-1,s=e?e.length:0;++r<s&&t(e[r],r,e)!==!1;);return e}function gR(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e}function Dy(e,t,r,s){var n=-1,o=e?e.length:0;for(s&&o&&(r=e[++n]);++n<o;)r=t(r,e[n],n,e);return r}function SR(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function vR(e,t){return e?.[t]}function ky(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function ny(e){var t=-1,r=Array(e.size);return e.forEach(function(s,n){r[++t]=[n,s]}),r}function vu(e,t){return function(r){return e(t(r))}}function oy(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var bR=Array.prototype,_R=Function.prototype,Ho=Object.prototype,uu=pt["__core-js_shared__"],iy=function(){var e=/[^.]+$/.exec(uu&&uu.keys&&uu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),My=_R.toString,kt=Ho.hasOwnProperty,Qo=Ho.toString,AR=RegExp("^"+My.call(kt).replace(aR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ay=dR?pt.Buffer:void 0,ly=pt.Symbol,uy=pt.Uint8Array,CR=vu(Object.getPrototypeOf,Object),ER=Object.create,TR=Ho.propertyIsEnumerable,xR=bR.splice,cy=Object.getOwnPropertySymbols,wR=ay?ay.isBuffer:void 0,RR=vu(Object.keys,Object),fu=Ur(pt,"DataView"),sn=Ur(pt,"Map"),pu=Ur(pt,"Promise"),du=Ur(pt,"Set"),mu=Ur(pt,"WeakMap"),nn=Ur(Object,"create"),NR=tr(fu),IR=tr(sn),OR=tr(pu),PR=tr(du),DR=tr(mu),fy=ly?ly.prototype:void 0,py=fy?fy.valueOf:void 0;function er(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function kR(){this.__data__=nn?nn(null):{}}function MR(e){return this.has(e)&&delete this.__data__[e]}function LR(e){var t=this.__data__;if(nn){var r=t[e];return r===dy?void 0:r}return kt.call(t,e)?t[e]:void 0}function FR(e){var t=this.__data__;return nn?t[e]!==void 0:kt.call(t,e)}function VR(e,t){var r=this.__data__;return r[e]=nn&&t===void 0?dy:t,this}er.prototype.clear=kR;er.prototype.delete=MR;er.prototype.get=LR;er.prototype.has=FR;er.prototype.set=VR;function dt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function UR(){this.__data__=[]}function $R(e){var t=this.__data__,r=Ko(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():xR.call(t,r,1),!0}function qR(e){var t=this.__data__,r=Ko(t,e);return r<0?void 0:t[r][1]}function jR(e){return Ko(this.__data__,e)>-1}function BR(e,t){var r=this.__data__,s=Ko(r,e);return s<0?r.push([e,t]):r[s][1]=t,this}dt.prototype.clear=UR;dt.prototype.delete=$R;dt.prototype.get=qR;dt.prototype.has=jR;dt.prototype.set=BR;function Fr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function WR(){this.__data__={hash:new er,map:new(sn||dt),string:new er}}function zR(e){return Yo(this,e).delete(e)}function GR(e){return Yo(this,e).get(e)}function HR(e){return Yo(this,e).has(e)}function QR(e,t){return Yo(this,e).set(e,t),this}Fr.prototype.clear=WR;Fr.prototype.delete=zR;Fr.prototype.get=GR;Fr.prototype.has=HR;Fr.prototype.set=QR;function Vr(e){this.__data__=new dt(e)}function KR(){this.__data__=new dt}function YR(e){return this.__data__.delete(e)}function JR(e){return this.__data__.get(e)}function XR(e){return this.__data__.has(e)}function ZR(e,t){var r=this.__data__;if(r instanceof dt){var s=r.__data__;if(!sn||s.length<nR-1)return s.push([e,t]),this;r=this.__data__=new Fr(s)}return r.set(e,t),this}Vr.prototype.clear=KR;Vr.prototype.delete=YR;Vr.prototype.get=JR;Vr.prototype.has=XR;Vr.prototype.set=ZR;function eN(e,t){var r=_u(e)||EN(e)?SR(e.length,String):[],s=r.length,n=!!s;for(var o in e)(t||kt.call(e,o))&&!(n&&(o=="length"||bN(o,s)))&&r.push(o);return r}function Ly(e,t,r){var s=e[t];(!(kt.call(e,t)&&$y(s,r))||r===void 0&&!(t in e))&&(e[t]=r)}function Ko(e,t){for(var r=e.length;r--;)if($y(e[r][0],t))return r;return-1}function tN(e,t){return e&&Fy(t,Au(t),e)}function hu(e,t,r,s,n,o,i){var a;if(s&&(a=o?s(e,n,o,i):s(e)),a!==void 0)return a;if(!Jo(e))return e;var l=_u(e);if(l){if(a=gN(e),!t)return mN(e,a)}else{var u=Zt(e),c=u==gu||u==gy;if(xN(e))return aN(e,t);if(u==Su||u==yu||c&&!o){if(ky(e))return o?e:{};if(a=SN(c?{}:e),!t)return hN(e,tN(a,e))}else{if(!H[u])return o?e:{};a=vN(e,u,hu,t)}}i||(i=new Vr);var f=i.get(e);if(f)return f;if(i.set(e,a),!l)var p=r?yN(e):Au(e);return yR(p||e,function(d,m){p&&(m=d,d=e[m]),Ly(a,m,hu(d,t,r,s,m,e,i))}),a}function rN(e){return Jo(e)?ER(e):{}}function sN(e,t,r){var s=t(e);return _u(e)?s:gR(s,r(e))}function nN(e){return Qo.call(e)}function oN(e){if(!Jo(e)||AN(e))return!1;var t=jy(e)||ky(e)?AR:uR;return t.test(tr(e))}function iN(e){if(!Uy(e))return RR(e);var t=[];for(var r in Object(e))kt.call(e,r)&&r!="constructor"&&t.push(r);return t}function aN(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function bu(e){var t=new e.constructor(e.byteLength);return new uy(t).set(new uy(e)),t}function lN(e,t){var r=t?bu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function uN(e,t,r){var s=t?r(ny(e),!0):ny(e);return Dy(s,mR,new e.constructor)}function cN(e){var t=new e.constructor(e.source,lR.exec(e));return t.lastIndex=e.lastIndex,t}function fN(e,t,r){var s=t?r(oy(e),!0):oy(e);return Dy(s,hR,new e.constructor)}function pN(e){return py?Object(py.call(e)):{}}function dN(e,t){var r=t?bu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function mN(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function Fy(e,t,r,s){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n],a=s?s(r[i],e[i],i,r,e):void 0;Ly(r,i,a===void 0?e[i]:a)}return r}function hN(e,t){return Fy(e,Vy(e),t)}function yN(e){return sN(e,Au,Vy)}function Yo(e,t){var r=e.__data__;return _N(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ur(e,t){var r=vR(e,t);return oN(r)?r:void 0}var Vy=cy?vu(cy,Object):NN,Zt=nN;(fu&&Zt(new fu(new ArrayBuffer(1)))!=Go||sn&&Zt(new sn)!=Wo||pu&&Zt(pu.resolve())!=ry||du&&Zt(new du)!=zo||mu&&Zt(new mu)!=cu)&&(Zt=function(e){var t=Qo.call(e),r=t==Su?e.constructor:void 0,s=r?tr(r):void 0;if(s)switch(s){case NR:return Go;case IR:return Wo;case OR:return ry;case PR:return zo;case DR:return cu}return t});function gN(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&kt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function SN(e){return typeof e.constructor=="function"&&!Uy(e)?rN(CR(e)):{}}function vN(e,t,r,s){var n=e.constructor;switch(t){case Ay:return bu(e);case hy:case yy:return new n(+e);case Go:return lN(e,s);case Cy:case Ey:case Ty:case xy:case wy:case Ry:case Ny:case Iy:case Oy:return dN(e,s);case Wo:return uN(e,s,r);case Sy:case by:return new n(e);case vy:return cN(e);case zo:return fN(e,s,r);case _y:return pN(e)}}function bN(e,t){return t=t??my,!!t&&(typeof e=="number"||cR.test(e))&&e>-1&&e%1==0&&e<t}function _N(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function AN(e){return!!iy&&iy in e}function Uy(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ho;return e===r}function tr(e){if(e!=null){try{return My.call(e)}catch{}try{return e+""}catch{}}return""}function CN(e,t){return hu(e,!0,!0,t)}function $y(e,t){return e===t||e!==e&&t!==t}function EN(e){return TN(e)&&kt.call(e,"callee")&&(!TR.call(e,"callee")||Qo.call(e)==yu)}var _u=Array.isArray;function qy(e){return e!=null&&wN(e.length)&&!jy(e)}function TN(e){return RN(e)&&qy(e)}var xN=wR||IN;function jy(e){var t=Jo(e)?Qo.call(e):"";return t==gu||t==gy}function wN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=my}function Jo(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function RN(e){return!!e&&typeof e=="object"}function Au(e){return qy(e)?eN(e):iN(e)}function NN(){return[]}function IN(){return!1}Lr.exports=CN});var Ou=g((ZM,Zy)=>{function MN(){}function LN(e){return function(){return e}}function Br(e){this.states=this.compileStates(e)}Br.prototype.compileStates=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=this.compileState(e[r],e)},this),t};Br.prototype.compileState=function(e,t){var r=[];function s(l,u){r.push({groups:Br.getGroupCount(l),regExp:l,value:u})}function n(l){if(Array.isArray(l))l.forEach(n);else if(typeof l=="object")Object.keys(l).forEach(function(u){s(u,l[u])});else if(typeof l=="string")n(t[l]);else throw new Error("Unexpected 'state' format")}n(e);var o=r.map(function(l){return"("+l.regExp+")"}).join("|"),i=[],a=1;return r.forEach(function(l){var u;typeof l.value=="function"?u=l.value:typeof l.value=="string"?u=LN(l.value):u=MN,i.push({name:l.regExp,fn:u,pos:a,pos2:a+l.groups+1}),a+=l.groups+1}),{regExp:new RegExp(o,"g"),actions:i}};Br.getGroupCount=function(e){return new RegExp("("+e+")|^$").exec("").length-2};Br.prototype.parse=function(e,t,r){r=r||{};for(var s=e,n=0;;){var o=this.states[s],i=o.regExp;i.lastIndex=n;var a=i.exec(t);if(!a)return r;var l=o.actions;n=o.regExp.lastIndex;for(var u=0;u<l.length;u++){var c=l[u];if(a[c.pos]){var f=c.fn.apply(r,Array.prototype.slice.call(a,c.pos,c.pos2).concat([o.regExp.lastIndex-a[0].length,a[0].length]));if(f){if(!(f in this.states))throw new Error("State '"+f+"' doesn't exist");s=f}break}}}};Zy.exports=Br});var Pu=g((e1,eg)=>{eg.exports={typeMatchClass:"\\.((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",typeMatchId:"#((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",identifierEscapeRegexp:"(^[\\0-,\\.-@\\[-\\^`\\{-\\x9F]|^\\x2D\\x2D|[\\0-,\\.\\/:-@\\[-\\^`\\{-\\x9F])"}});var og=g((t1,ng)=>{"use strict";var FN=Ou(),tg=Pu();function Wr(e){return e.replace(/\\(.)/g,"$1")}function VN(e,t){this.selector.nodes.push({type:"comment",content:t})}function ti(e){return function(t,r){this.selector.nodes.push({type:e,name:Wr(r)})}}function UN(e,t){var r={type:"pseudo-class",name:Wr(t),content:""};return this.selector.nodes.push(r),this.token=r,this.brackets=1,"inBrackets"}function $N(e,t,r){var s={type:"selector",nodes:[]},n={type:"nested-pseudo-class",name:Wr(t),nodes:[s]};r&&(s.before=r),this.selector.nodes.push(n),this.stack.push(this.root),this.root=n,this.selector=s}function qN(e,t){this.stack.length>0?(t&&(this.selector.after=t),this.root=this.stack.pop(),this.selector=this.root.nodes[this.root.nodes.length-1]):this.selector.nodes.push({type:"invalid",value:e})}function jN(e,t,r,s){var n={type:"operator",operator:r};t&&(n.before=t),s&&(n.after=s),this.selector.nodes.push(n)}function BN(e){this.selector.nodes.push({type:"spacing",value:e})}function rg(e,t,r){var s={type:"element",name:Wr(r)};t&&(s.namespace=Wr(t.substr(0,t.length-1))),this.selector.nodes.push(s)}function sg(e,t){var r={type:"universal"};t&&(r.namespace=Wr(t.substr(0,t.length-1))),this.selector.nodes.push(r)}function WN(e,t){this.selector.nodes.push({type:"attribute",content:t})}function zN(e){this.selector.nodes.push({type:"invalid",value:e})}function GN(e){this.selector.before=e}function HN(e){this.selector.after=e}function QN(e,t,r){var s={type:"selector",nodes:[]};t&&(this.selector.after=t),r&&(s.before=r),this.root.nodes.push(s),this.selector=s}function ln(e){this.token.content+=e}function KN(e){this.token.content+=e,this.brackets++}function YN(e){if(--this.brackets===0)return"selector";this.token.content+=e}function JN(){var e={"/\\*([\\s\\S]*?)\\*/":VN};e[tg.typeMatchClass]=ti("class"),e[tg.typeMatchId]=ti("id");var t={":(not|any|-\\w+?-any|matches|is|where|has|local|global)\\((\\s*)":$N,":((?:\\\\.|[A-Za-z_\\-0-9])+)\\(":UN,":((?:\\\\.|[A-Za-z_\\-0-9])+)":ti("pseudo-class"),"::((?:\\\\.|[A-Za-z_\\-0-9])+)":ti("pseudo-element"),"(\\*\\|)((?:\\\\.|[A-Za-z_\\-0-9])+)":rg,"(\\*\\|)\\*":sg,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?\\*":sg,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?((?:\\\\.|[A-Za-z_\\-])(?:\\\\.|[A-Za-z_\\-0-9])*)":rg,"\\[([^\\]]+)\\]":WN,"(\\s*)\\)":qN,"(\\s*)((?:\\|\\|)|(?:>>)|[>+~])(\\s*)":jN,"(\\s*),(\\s*)":QN,"\\s+$":HN,"^\\s+":GN,"\\s+":BN,".":zN},r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var XN=new FN({selector:JN(),inBrackets:{"/\\*[\\s\\S]*?\\*/":ln,'"([^\\\\"]|\\\\.)*"':ln,"'([^\\\\']|\\\\.)*'":ln,"[^()'\"/]+":ln,"\\(":KN,"\\)":YN,".":ln}});function ZN(e){var t={type:"selector",nodes:[]},r={type:"selectors",nodes:[t]};return XN.parse("selector",e,{stack:[],root:r,selector:t}),r}ng.exports=ZN});var ag=g((r1,ig)=>{"use strict";var e0=Pu(),t0=new RegExp(e0.identifierEscapeRegexp,"g");function Mt(e,t){return e==="*"?"*":t?e.replace(t0,"\\$1"):e.replace(/(^[^A-Za-z_\\-]|^--|[^A-Za-z_0-9\\-])/g,"\\$1")}function r0(e){switch(e.type){case"selectors":return e.nodes.map(ri).join(",");case"selector":return e.nodes.map(ri).join("");case"element":return(typeof e.namespace=="string"?Mt(e.namespace)+"|":"")+Mt(e.name);case"class":return"."+Mt(e.name,!0);case"id":return"#"+Mt(e.name,!0);case"attribute":return"["+e.content+"]";case"spacing":return e.value;case"pseudo-class":return":"+Mt(e.name)+(typeof e.content=="string"?"("+e.content+")":"");case"nested-pseudo-class":return":"+Mt(e.name)+"("+e.nodes.map(ri).join(",")+")";case"pseudo-element":return"::"+Mt(e.name);case"universal":return(typeof e.namespace=="string"?Mt(e.namespace)+"|":"")+"*";case"operator":return e.operator;case"comment":return"/*"+e.content+"*/";case"invalid":return e.value}}function ri(e){var t=r0(e);return e.before&&(t=e.before+t),e.after&&(t=t+e.after),t}ig.exports=ri});var cg=g((s1,ug)=>{"use strict";var s0=Ou();function n0(e,t){this.value.nodes.push({type:"comment",content:t})}function o0(e){var t=this.value.nodes[this.value.nodes.length-1];t.after=(t.after||"")+e}function i0(e){this.value.before=e}function a0(e){this.value.after=e}function si(e){return e.replace(/\\(?:([a-fA-F0-9]{1,6})|(.))/g,function(t,r,s){if(s)return s;var n=parseInt(r,16);return n<65536?String.fromCharCode(n):String.fromCharCode(Math.floor((n-65536)/1024)+55296)+String.fromCharCode((n-65536)%1024+56320)})}function lg(e,t){var r=si(t);this.value.nodes.push({type:"string",value:r,stringType:e[0]})}function l0(e,t){var r={type:"value",nodes:[]};t&&(r.before=t),this.root.nodes.push(r),this.value=r}function u0(e){this.value.nodes.push({type:"item",name:e})}function c0(e,t,r){this.stack.push(this.root),this.root={type:"nested-item",name:t,nodes:[{type:"value",nodes:[]}]},r&&(this.root.nodes[0].before=r),this.value.nodes.push(this.root),this.value=this.root.nodes[0]}function f0(e,t,r){if(this.stack.length===0){if(t){var s=this.value.nodes[this.value.nodes.length-1];s.after=(s.after||"")+t}this.value.nodes.push({type:"invalid",value:r})}else t&&(this.value.after=t),this.root=this.stack.pop(),this.value=this.root.nodes[this.root.nodes.length-1]}function Du(e,t,r,s){var n={type:"url"};switch(t&&(n.innerSpacingBefore=t),s&&(n.innerSpacingAfter=s),r[0]){case'"':n.stringType='"',n.url=si(r.substr(1,r.length-2));break;case"'":n.stringType="'",n.url=si(r.substr(1,r.length-2));break;default:n.url=si(r);break}this.value.nodes.push(n)}var p0=new s0({decl:{"^\\s+":i0,"/\\*([\\s\\S]*?)\\*/":n0,'"((?:[^\\\\"]|\\\\.)*)"':lg,"'((?:[^\\\\']|\\\\.)*)'":lg,'url\\((\\s*)("(?:[^\\\\"]|\\\\.)*")(\\s*)\\)':Du,"url\\((\\s*)('(?:[^\\\\']|\\\\.)*')(\\s*)\\)":Du,"url\\((\\s*)((?:[^\\\\)'\"]|\\\\.)*)(\\s*)\\)":Du,"([\\w-]+)\\((\\s*)":c0,"(\\s*)(\\))":f0,",(\\s*)":l0,"\\s+$":a0,"\\s+":o0,"[^\\s,)]+":u0}});function d0(e){var t={type:"value",nodes:[]},r={type:"values",nodes:[t]};return p0.parse("decl",e,{stack:[],root:r,value:t}),r}ug.exports=d0});var dg=g((n1,pg)=>{"use strict";var m0=jt(),un;function fg(e,t){return m0(e,{quotes:t==='"'?"double":"single"})}function h0(e){switch(e.type){case"values":return e.nodes.map(un).join(",");case"value":return e.nodes.map(un).join("");case"item":return e.name;case"nested-item":return e.name+"("+e.nodes.map(un).join(",")+")";case"invalid":return e.value;case"comment":return"/*"+e.content+"*/";case"string":switch(e.stringType){case"'":return"'"+fg(e.value,"'")+"'";case'"':return'"'+fg(e.value,'"')+'"'}throw new Error("Invalid stringType");case"url":var t="url("+(e.innerSpacingBefore||""),r=(e.innerSpacingAfter||"")+")";switch(e.stringType){case"'":return t+"'"+e.url.replace(/(\\)/g,"\\$1").replace(/'/g,"\\'")+"'"+r;case'"':return t+'"'+e.url.replace(/(\\)/g,"\\$1").replace(/"/g,'\\"')+'"'+r;default:return t+e.url.replace(/("|'|\)|\\)/g,"\\$1")+r}}}un=function(t){var r=h0(t);return t.before&&(r=t.before+r),t.after&&(r=r+t.after),r};pg.exports=un});var mg=g(cn=>{cn.parse=og();cn.stringify=ag();cn.parseValues=cg();cn.stringifyValues=dg()});var Hu=g(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.color=O.call=O.resolution=O.frequency=O.time=O.flex=O.percentage=O.angle=O.length=O.unknownUnit=O.number=O.integer=O.string=O.dashedIdent=O.customIdent=O.comment=O.space=O.cssWideKeyword=O.literal=O.invalid=void 0;var O0=e=>({start:0,end:0,value:"",...e,type:"invalid"});O.invalid=O0;var P0=e=>({start:0,end:0,before:"",after:"",value:"",...e,type:"literal"});O.literal=P0;var D0=e=>({start:0,end:0,value:"initial",...e,type:"css-wide-keyword"});O.cssWideKeyword=D0;var k0=e=>({start:0,end:0,before:"",after:"",value:" ",...e,type:"space"});O.space=k0;var M0=e=>({start:0,end:0,before:"",after:"",value:"",...e,type:"comment"});O.comment=M0;var L0=e=>({start:0,end:0,value:"",...e,type:"<custom-ident>"});O.customIdent=L0;var F0=e=>({start:0,end:0,value:"-",...e,type:"<dashed-ident>"});O.dashedIdent=F0;var V0=e=>({start:0,end:0,value:'""',...e,type:"<string>"});O.string=V0;var U0=e=>({start:0,end:0,value:"0",...e,type:"<integer>"});O.integer=U0;var $0=e=>({start:0,end:0,value:"0",...e,type:"<number>"});O.number=$0;var q0=e=>({start:0,end:0,value:"0",unit:"",integer:!1,...e,type:"unknown-unit"});O.unknownUnit=q0;var j0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<length>"});O.length=j0;var B0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<angle>"});O.angle=B0;var W0=e=>({start:0,end:0,value:"0",unit:"%",integer:!1,...e,type:"<percentage>"});O.percentage=W0;var z0=e=>({start:0,end:0,value:"0",unit:"fr",integer:!1,...e,type:"<flex>"});O.flex=z0;var G0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<time>"});O.time=G0;var H0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<frequency>"});O.frequency=H0;var Q0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<resolution>"});O.resolution=Q0;var K0=e=>({start:0,end:0,value:"",args:e.args||[],before:"",after:"",...e,type:"call"});O.call=K0;var Y0=e=>({start:0,end:0,value:"#000000",...e,type:"<color>"});O.color=Y0});var Ag=g($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.resolutionValidUnits=$e.frequencyValidUnits=$e.timeValidUnits=$e.angleValidUnits=$e.lengthValidUnits=void 0;$e.lengthValidUnits=["px","em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","q","in","pt","pc"];$e.angleValidUnits=["deg","grad","rad","turn"];$e.timeValidUnits=["s","ms"];$e.frequencyValidUnits=["hz","khz"];$e.resolutionValidUnits=["dpi","dpcm","dppx"]});var Cg=g(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.tokenizeValue=void 0;var gt=ot();function J0(e,t={}){return(0,gt.tokenize)(e,{isDelimiter:X0,isStringDelimiter(s,n){return n!=="\\"&&(0,gt.isStringDelimiter)(s)},isWhitespace:gt.isWhitespace,shouldAddToken:()=>!0,createToken:gt.createToken,getCommentStartType:gt.getMultilineCommentStartType,isCommentEnd:gt.isCommentEnd,getUnclosedComment:gt.getUnclosedComment,shouldClose(s,n){return(0,gt.isWhitespace)(s)&&(0,gt.isWhitespace)(n)||n==="\\"||/[-_a-zA-Z0-9]/.test(s)?!1:s.charCodeAt(0)<=127},offset:t.offset})}li.tokenizeValue=J0;var X0=(e,t)=>t!=="\\"&&(e==="("||e===")"||e==="["||e==="]"||e==="<"||e===">"||e==="{"||e==="}"||e==="@"||e==="|"||e===":"||e===";"||e==="~"||e==="&"||e===","||e==="/"||e==="+"||e==="-"||e==="*"||e==="#"||e==="%"||e===".")});var Qu=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.stringifyCSSValue=void 0;function Tg(e){if(!Array.isArray(e))return Eg(e);let t="";for(let r of e)t+=Eg(r);return t}ui.stringifyCSSValue=Tg;function Eg(e){return Z0[e.type]?.(e)||""}var Z0={space:({before:e,value:t,after:r})=>e+t+r,literal:({before:e,value:t,after:r})=>e+t+r,"css-wide-keyword":({value:e})=>e,invalid:({value:e})=>e,comment:({value:e})=>e,call:({value:e,before:t,after:r,args:s})=>`${e}(${t}${Tg(s)}${r})`,"<custom-ident>":({value:e})=>e,"<dashed-ident>":({value:e})=>e,"<string>":({value:e})=>e,"<number>":({value:e})=>e,"<integer>":({value:e})=>e,"<length>":({value:e,unit:t})=>e+t,"<percentage>":({value:e,unit:t})=>e+t,"<angle>":({value:e,unit:t})=>e+t,"<time>":({value:e,unit:t})=>e+t,"<frequency>":({value:e,unit:t})=>e+t,"<resolution>":({value:e,unit:t})=>e+t,"<flex>":({value:e,unit:t})=>e+t,"unknown-unit":({value:e,unit:t})=>e+t,"<color>":({value:e})=>e}});var Pg=g(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.parseCSSValue=void 0;var Z=Hu(),pn=Ag(),eI=Cg(),xg=Qu(),Ng=ot();function tI(e,t){let r=(0,eI.tokenizeValue)(e);return new Ng.Seeker(r).run(Ig,[],e)}ci.parseCSSValue=tI;function Ig(e,t,r,s){let{type:n,value:o,start:i,end:a}=e;if(n==="space"){let l=o.indexOf(" ");l===-1&&(l=o.indexOf(`
`)),l===-1&&(l=o.indexOf("	"));let u=l!==-1?o.substring(0,l):"",c=l!==-1?o.substring(l+1):o.substring(1);t.push((0,Z.space)({value:l!==-1?o[l]:o[0],start:i,end:a,before:u,after:c}))}else if(n==="text"||n==="-"){if(Ku(e,t,r,s))return;let l=rI(e,t,r,s);if(s.peek().type==="("){s.next();let u=[];s.run((p,d)=>p.type===")"?!1:Ig(p,d,r,s),u,r);let c=u.length&&u[0].type==="space"?(0,xg.stringifyCSSValue)(u.shift()):"",f=u.length&&u[u.length-1].type==="space"?(0,xg.stringifyCSSValue)(u.pop()):"";t.push((0,Z.call)({value:l,start:i,end:s.peek(0).end,args:u,before:c,after:f}))}else l.match(/^inherit|unset|initial$/i)?t.push((0,Z.cssWideKeyword)({value:l,start:e.start,end:s.peek(0).end})):l.match(/^--/)?t.push((0,Z.dashedIdent)({value:l,start:e.start,end:s.peek(0).end})):l.match(/^[-][a-z]|[a-z]/i)?t.push((0,Z.customIdent)({value:l,start:e.start,end:s.peek(0).end})):t.push((0,Z.literal)({value:l,start:i,end:s.peek(0).end}))}else if(n==="string")t.push((0,Z.string)({value:o,start:i,end:a}));else if(n==="+"){if(Ku(e,t,r,s))return;t.push((0,Z.literal)({value:o,start:i,end:a}))}else if(n==="#"){let l=s.next();l.type==="text"&&l.value.match(/^[0-9a-f]{3,8}$/i)&&l.value.length!==5&&l.value.length!==7?t.push((0,Z.color)({value:o+l.value,start:i,end:l.end})):(s.back(),t.push((0,Z.invalid)({value:"#",start:i,end:a})))}else n==="."?Ku(e,t,r,s)||t.push((0,Z.literal)({start:i,end:a,value:o})):(0,Ng.isComment)(n)?t.push((0,Z.comment)({value:o,start:i,end:a})):o.length===1?t.push((0,Z.literal)({start:i,end:a,value:o})):t.push((0,Z.invalid)({value:o,start:i,end:a}))}function rI(e,t,r,s){let n="",o=0,i=e;for(;i.type==="text"||i.type==="-";)n+=i.value,o++,i=s.peek(o);return s.index+=o-1,n}function Ku(e,t,r,s){let{value:n,start:o}=e,i=wg(n);if(!i)return!1;let[a,l]=i;if(l&&!Yu(a)){let f=Rg(n);if(!f)return;[a,l]=f}let u=1;if(!l){let f=s.peek(u);for(;f.type==="-"||f.type==="+"||f.type==="."||f.type==="%"||f.type==="text";){let p=a+f.value;if(i=wg(p),!i){if(!Yu(a))return;u--;break}u++;let[d,m]=i;if(a=d,m){l=m;break}f=s.peek(u)}if(!Yu(a)){let p=Rg(a+l);if(!p)return;[a,l]=p}s.index+=u-1,!l&&s.peek().type==="text"&&(l=s.next().value)}let c=a.match(nI);if(l){let f=sI[l.toLowerCase()]||Z.unknownUnit;t.push(f({value:a,unit:l,integer:!!c,start:o,end:s.peek(0).end}))}else{let f=c?Z.integer:Z.number;t.push(f({value:a,start:o,end:s.peek(0).end}))}return!0}var sI={"%":Z.percentage,fr:Z.flex,...pn.lengthValidUnits.reduce((e,t)=>(e[t]=Z.length,e),{}),...pn.angleValidUnits.reduce((e,t)=>(e[t]=Z.angle,e),{}),...pn.timeValidUnits.reduce((e,t)=>(e[t]=Z.time,e),{}),...pn.frequencyValidUnits.reduce((e,t)=>(e[t]=Z.frequency,e),{}),...pn.resolutionValidUnits.reduce((e,t)=>(e[t]=Z.resolution,e),{})},Og=/^[-+]?(\d+\.?\d*|\d*\.?\d+)(e[-+]?\d+)?/i,nI=/^[-+]?\d+$/i,oI=[/[-+]?(\d+\.?\d*|\d*\.?\d+)(e[-+]?\d*)?/,/[-+]?\d+(e[-+]?\d*)?/,/[-+]/,/[-+]?\./].map(e=>e.source).join("|");function Yu(e){let r=e.match(Og)?.[0];return!!r&&r===e}function wg(e){let r=e.match(new RegExp("^("+oI+")","i"))?.[0];return r?[r,e.substring(r.length)]:!1}function Rg(e){let r=e.match(Og)?.[0];return r?[r,e.substring(r.length)]:!1}});var pi=g(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.defineProperty=void 0;function Dg(e){return{}}fi.defineProperty=Dg;Dg.errors={unexpectedType:(e,t)=>`expected to get ${t}, but got ${e.type}`,unexpectedComma:()=>"unexpected comma"}});var kg=g(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.background=void 0;var iI=pi();di.background=(0,iI.defineProperty)({name:"background",syntax:"[ <bg-layer> , ]* <final-bg-layer>",subSyntax:{"<bg-layer>":"<bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>","<final-bg-layer>":"<'background-color'> || <bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>"},subProperties:{},topLevelCommaSeparation:!0,classifications:{"background-image":()=>!1,"background-position":()=>!1,"background-size":{syntax:"<bg-size>",match:()=>!0},"background-repeat":()=>!1,"background-origin":()=>!1,"background-clip":()=>!1,"background-attachment":()=>!1,"background-color":{inTopLevelIndex:(e,t)=>e===t-1,match:()=>!1}}})});var Mg=g(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.margin=void 0;var aI=pi(),mi={top:[0,1,0,0],left:[0,0,1,3],bottom:[0,1,2,2],right:[0,0,1,1]};hi.margin=(0,aI.defineProperty)({name:"margin",syntax:"<length>{1,4}",formats:{all:"<length>","horizontal-vertical":"<length><length>","top-horizontal-bottom":"<length><length><length>","top-right-bottom-left":"<length><length><length><length>"},classifications:{"margin-top":(e,{amountOfType:t,indexOfType:r})=>mi.top[t-1]===r,"margin-right":(e,{amountOfType:t,indexOfType:r})=>mi.right[t-1]===r,"margin-bottom":(e,{amountOfType:t,indexOfType:r})=>mi.bottom[t-1]===r,"margin-left":(e,{amountOfType:t,indexOfType:r})=>mi.left[t-1]===r}})});var Gg=g(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.stringify=j.doubleBar=j.doubleAmpersand=j.bar=j.juxtaposing=j.group=j.dataType=j.property=j.keyword=j.literal=j.parseValueSyntax=j.isWhitespace=void 0;var nr=ot(),lI=e=>e==="<"||e===">"||e==="["||e==="]"||e===","||e==="/"||e==="|"||e==="&"||e==="#"||e==="("||e===")"||e==="{"||e==="}"||e==="?"||e==="!"||e==="*"||e==="+",uI=e=>e===" "||e==="	"||e==="\r"||e===`
`||e==="\f";j.isWhitespace=uI;function cI(e){return fI((0,nr.tokenize)(e,{isDelimiter:lI,isWhitespace:j.isWhitespace,createToken:nr.createToken,isStringDelimiter:()=>!1,shouldAddToken:()=>!0,getCommentStartType:()=>"",isCommentEnd:()=>!1,getUnclosedComment:()=>""}),e)}j.parseValueSyntax=cI;function Gr(e,t=!1,r){return{type:"literal",name:e,enclosed:t,multipliers:r}}j.literal=Gr;function Vg(e,t){return{type:"keyword",name:e,multipliers:t}}j.keyword=Vg;function Ug(e,t,r){return{type:"property",name:e,range:t,multipliers:r}}j.property=Ug;function $g(e,t,r){return{type:"data-type",name:e,range:t,multipliers:r}}j.dataType=$g;function qg(e,t){return{type:"group",nodes:e,multipliers:t}}j.group=qg;function jg(e){return{type:"juxtaposing",nodes:e}}j.juxtaposing=jg;function Bg(e){return{type:"|",nodes:e}}j.bar=Bg;function Wg(e){return{type:"&&",nodes:e}}j.doubleAmpersand=Wg;function zg(e){return{type:"||",nodes:e}}j.doubleBar=zg;function fI(e,t){let r=(n,{ast:o},i,a)=>{if(n.type==="<"){let l=!1;a.eat("space");let u=a.run((d,m)=>{let{type:S}=d;if(S==="space"||S==="["||S===">")return!1;m.push(d)},[],i);if(u.length===0)throw new Error("missing data type name");a.back();let c=(0,nr.getText)(u,void 0,void 0,t),f=Fg(c),p;if(f==="invalid")throw new Error("missing data type name");{let d=a.eat("space").next();if(d.type===">")l=!0;else if(d.type==="["){let m=a.eat("space").take("text"),S=a.eat("space").take(","),h=a.eat("space").take("text"),v=a.eat("space").take("]");if(m&&S&&h&&v)p=[zr(m.value),zr(h.value)];else throw new Error("Invalid range");a.eat("space").take(">")&&(l=!0)}}if(!l)throw new Error('missing ">"');f==="quoted"?o.push(Ug(c.slice(1,-1),p)):o.push($g(c,p))}else if(n.type==="["){let l=a.run(r,{ast:[]},t);Lg(l.ast),o.push(qg(l.ast))}else{if(n.type==="]")return!1;if(n.type==="text"){let l=Fg(n.value);if(l==="invalid")if(n.value.startsWith("'")){let u=a.run((c,f)=>(f.push(c),c.value.endsWith("'")?!1:void 0),[n],t);if(u.length<=2)throw new Error("unclosed or empty literal");o.push(Gr((0,nr.getText)(u,void 0,void 0,t).slice(1,-1),!0))}else throw new Error("invalid literal");else l==="quoted"?o.push(Gr(n.value.slice(1,-1),!0)):o.push(Vg(n.value))}else if(n.type===","||n.type==="/"||n.type==="("||n.type===")")o.push(Gr(n.value));else if(n.type==="space")a.eat("space");else if(pI(n)){let l=Ju(o);if(!l||l.type==="juxtaposing"||Qr(l))throw new Error("unexpected modifier");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=dI(n.type)}else if(n.type==="{")if(a.peekBack().type==="space")o.push(Gr(n.value,!1));else{let l=Ju(o);if(!l||Qr(l)||l.type==="juxtaposing")throw new Error("unexpected range modifier");let u=a.eat("space").take("text");if(!u)throw new Error("missing range start value");if(a.eat("space").take(",")){let f=a.eat("space").take("text");if(!a.eat("space").take("}"))throw new Error("missing }");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=[zr(u.value),zr(f?.value??"\u221E")]}else{if(!a.eat("space").take("}"))throw new Error("missing }");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=[zr(u.value),zr(u.value)]}}else if(n.type==="#"){let l=Ju(o);if(!l||l.type==="juxtaposing"||Qr(l))throw new Error("unexpected list modifier");l.multipliers??(l.multipliers={}),l.multipliers.list=!0}else if(n.type==="&"){if(!a.take("&"))throw new Error("missing &");o.push(Wg([]))}else if(n.type==="|")o.push(a.take("|")?zg([]):Bg([]));else if(n.type==="}")o.push(Gr(n.value,!1));else throw new Error(`UnHandled ${JSON.stringify(n)}`)}mI(o)},s=new nr.Seeker(e).run(r,{ast:[]},t);return Lg(s.ast),s.ast[0]}function Ju(e){let t=(0,nr.last)(e);return t?.type==="juxtaposing"?(0,nr.last)(t.nodes):t}function Lg(e){let t=["&&","||","|"];for(let r=0;r<t.length;r++){let s=t[r];for(let n=0;n<e.length;n++){let o=e[n];if(o.type===s){let i=e[n-1],a=e[n+1];if(!i)throw new Error(`missing node before ${s}`);if(!a)throw new Error(`missing node after ${s}`);if(a.type===s)throw new Error("invalid grouping");i.type===s?(i.nodes.push(a),e.splice(n-1,3,i)):(o.nodes.push(i,a),e.splice(n-1,3,o)),n--}}}if(e.length>1)throw new Error("could not applyPrecedence")}function zr(e){return e==="\u221E"?1/0:e==="-\u221E"?-1/0:parseFloat(e)}function pI(e){let{type:t}=e;return t==="!"||t==="?"||t==="+"||t==="*"}function dI(e){switch(e){case"!":return[1,1];case"*":return[0,1/0];case"+":return[1,1/0];case"?":return[0,1]}}function mI(e){if(e.length>1){let t=e[e.length-1],r=e[e.length-2];r.type==="juxtaposing"&&!Qr(t)?(e.length=e.length-1,r.nodes.push(t)):!Qr(r)&&!Qr(t)&&e.splice(e.length-2,2,jg([r,t]))}}function Qr(e){let{type:t}=e;return t==="&&"||t==="|"||t==="||"}function Hr(e){let{type:t}=e;if("multipliers"in e)throw new Error("TODO: multipliers");if(t==="property")return`<'${e.name}'${e.range?` [${e.range}]`:""}>`;if(t==="data-type")return`<${e.name}${e.range?` [${e.range}]`:""}>`;if(t==="literal")return e.enclosed?`'${e.name}'`:`${e.name}`;if(t==="group")return`[ ${e.nodes.map(r=>Hr(r)).join("")} ]`;if(t==="&&")return e.nodes.map(r=>Hr(r)).join(" && ");if(t==="||")return e.nodes.map(r=>Hr(r)).join(" || ");if(t==="|")return e.nodes.map(r=>Hr(r)).join(" | ");if(t==="juxtaposing")return e.nodes.map(r=>Hr(r)).join(" ");if(t==="keyword")return e.name;throw new Error(`missing stringify for node ${JSON.stringify(e)}`)}j.stringify=Hr;function Fg(e){return e.startsWith("'")?e.endsWith("'")&&e.length>1?"quoted":"invalid":"literal"}});var Xu=g(fe=>{"use strict";var hI=fe&&fe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),yI=fe&&fe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hI(t,e,r)};Object.defineProperty(fe,"__esModule",{value:!0});fe.parseValueSyntax=fe.margin=fe.background=fe.defineProperty=fe.stringifyCSSValue=fe.parseCSSValue=void 0;yI(Hu(),fe);var gI=Pg();Object.defineProperty(fe,"parseCSSValue",{enumerable:!0,get:function(){return gI.parseCSSValue}});var SI=Qu();Object.defineProperty(fe,"stringifyCSSValue",{enumerable:!0,get:function(){return SI.stringifyCSSValue}});var vI=pi();Object.defineProperty(fe,"defineProperty",{enumerable:!0,get:function(){return vI.defineProperty}});var bI=kg();Object.defineProperty(fe,"background",{enumerable:!0,get:function(){return bI.background}});var _I=Mg();Object.defineProperty(fe,"margin",{enumerable:!0,get:function(){return _I.margin}});var AI=Gg();Object.defineProperty(fe,"parseValueSyntax",{enumerable:!0,get:function(){return AI.parseValueSyntax}})});var hS=g((lF,mS)=>{"use strict";mS.exports=function(){return["-ms-","mso-","-moz-","-o-","-xv-","-atsc-","-wap-","-khtml-","-webkit-","prince-","-ah-","-hp-","-ro-","-rim-","-tc-"]}});var vc=g((uF,yS)=>{var rO=hS();yS.exports=e=>{if(typeof e!="string")throw new TypeError("is-vendor-prefixed expected a string");return new RegExp("^("+rO().join("|")+")([a-z-]+)$","i").test(e)}});var VS=g((sU,FS)=>{"use strict";FS.exports={_extensions:{}}});function kc(e,t,r=[],s={}){function n(a,l=!1){let u=t(a,"utf8"),c=s[a];return(l||!c||c&&c.content!==u)&&(s[a]={value:o(u,a),content:u}),s[a].value}function o(a,l){return r.reduce((u,c)=>c(u,l),e(l,a))}function i(a,l){let u;try{u=t(a,"utf8")}catch{u=""}s[a]={value:l,content:u}}return{processContent:o,postProcessors:r,cache:s,process:n,add:i}}var B=I(qt(),1),As=B.default,zP=B.default.stringify,GP=B.default.fromJSON,HP=B.default.plugin,Cs=B.default.parse,QP=B.default.list,KP=B.default.document,YP=B.default.comment,Wn=B.default.atRule,ye=B.default.rule,_e=B.default.decl,Sr=B.default.root,JP=B.default.CssSyntaxError,XP=B.default.Declaration,ZP=B.default.Container,eD=B.default.Processor,tD=B.default.Document,rD=B.default.Comment,sD=B.default.Warning,nD=B.default.AtRule,oD=B.default.Result,iD=B.default.Input,lp=B.default.Rule,aD=B.default.Root,lD=B.default.Node;var Wd=I(Ad());var Ar=I(Vd(),1),Ud=Ar.default,wD=Ar.default.objectify,RD=Ar.default.parse,ND=Ar.default.async,ID=Ar.default.sync;var GE=I(Bd()),HE=As([(0,Wd.default)()]);function zd(e,t=""){let r=HE.process(e,{from:t,parser:Ud});return r.root.type==="document"?r.root.nodes[0]:r.root}var ie=class{constructor(t=[]){this.reports=t}report(t,r){let s=r.node;this.reports.push({filePath:s.source?.input.from,...t,...r})}};function y(e,t,r){let s=(...n)=>({code:e,severity:t,message:r(...n)});return s.code=e,s.severity=t,s}var Gd=["active","any","any-link","checked","default","defined","dir","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-within","focus-visible","has","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","placeholder-shown","read-only","read-write","required","right","root","scope","target","valid","visited","where"],Hd=["initial","inherit","unset"],vl=["not","any","matches","is","where","has","host","host-context","nth-child","nth-last-child","nth-of-type","nth-last-of-type","global","local"],Qd=vl.filter(e=>{switch(e){case"global":case"local":case"nth-of-type":case"nth-last-of-type":return!1}return!0}),Kd=["after","backdrop","before","cue","first-letter","first-line","grammar-error","marker","placeholder","selection","slotted","spelling-error"],bl={annotation:{preserveQuotes:!1},attr:{preserveQuotes:!1},blur:{preserveQuotes:!1},brightness:{preserveQuotes:!1},calc:{preserveQuotes:!1},"character-variant":{preserveQuotes:!1},circle:{preserveQuotes:!1},clamp:{preserveQuotes:!1},"conic-gradient":{preserveQuotes:!1},constant:{preserveQuotes:!1},contrast:{preserveQuotes:!1},counter:{preserveQuotes:!1},counters:{preserveQuotes:!1},"cubic-bezier":{preserveQuotes:!1},"drop-shadow":{preserveQuotes:!1},ellipse:{preserveQuotes:!1},env:{preserveQuotes:!1},"fit-content":{preserveQuotes:!1},format:{preserveQuotes:!1},grayscale:{preserveQuotes:!1},hsl:{preserveQuotes:!1},hsla:{preserveQuotes:!1},"hue-rotate":{preserveQuotes:!1},hwb:{preserveQuotes:!1},image:{preserveQuotes:!1},inset:{preserveQuotes:!1},invert:{preserveQuotes:!1},leader:{preserveQuotes:!1},"linear-gradient":{preserveQuotes:!1},local:{preserveQuotes:!1},matrix:{preserveQuotes:!1},matrix3d:{preserveQuotes:!1},max:{preserveQuotes:!1},min:{preserveQuotes:!1},minmax:{preserveQuotes:!1},opacity:{preserveQuotes:!1},ornaments:{preserveQuotes:!1},paint:{preserveQuotes:!1},path:{preserveQuotes:!0},perspective:{preserveQuotes:!1},polygon:{preserveQuotes:!1},"radial-gradient":{preserveQuotes:!1},rect:{preserveQuotes:!1},repeat:{preserveQuotes:!1},"repeating-linear-gradient":{preserveQuotes:!1},"repeating-radial-gradient":{preserveQuotes:!1},"repeating-conic-gradient":{preserveQuotes:!1},rgb:{preserveQuotes:!1},rgba:{preserveQuotes:!1},rotate:{preserveQuotes:!1},rotate3d:{preserveQuotes:!1},rotateX:{preserveQuotes:!1},rotateY:{preserveQuotes:!1},rotateZ:{preserveQuotes:!1},saturate:{preserveQuotes:!1},scale:{preserveQuotes:!1},scale3d:{preserveQuotes:!1},scaleX:{preserveQuotes:!1},scaleY:{preserveQuotes:!1},scaleZ:{preserveQuotes:!1},scroll:{preserveQuotes:!1},sepia:{preserveQuotes:!1},skew:{preserveQuotes:!1},skewX:{preserveQuotes:!1},skewY:{preserveQuotes:!1},steps:{preserveQuotes:!1},styleset:{preserveQuotes:!1},stylistic:{preserveQuotes:!1},swash:{preserveQuotes:!1},symbols:{preserveQuotes:!1},translate:{preserveQuotes:!1},translate3d:{preserveQuotes:!1},translateX:{preserveQuotes:!1},translateY:{preserveQuotes:!1},translateZ:{preserveQuotes:!1},url:{preserveQuotes:!1},var:{preserveQuotes:!1},color:{preserveQuotes:!0},"color-mix":{preserveQuotes:!0},lab:{preserveQuotes:!0},oklab:{preserveQuotes:!0},lch:{preserveQuotes:!0},oklch:{preserveQuotes:!0},supports:{preserveQuotes:!0},anchor:{preserveQuotes:!0},selector:{preserveQuotes:!0},style:{preserveQuotes:!0},"image-set":{preserveQuotes:!0},sin:{preserveQuotes:!0},cos:{preserveQuotes:!0},tan:{preserveQuotes:!0},asin:{preserveQuotes:!0},acos:{preserveQuotes:!0},atan:{preserveQuotes:!0},atan2:{preserveQuotes:!0},pow:{preserveQuotes:!0},sqrt:{preserveQuotes:!0},hypot:{preserveQuotes:!0},log:{preserveQuotes:!0},exp:{preserveQuotes:!0},abs:{preserveQuotes:!0},sign:{preserveQuotes:!0}};var _h=I(Pe());var Ot=I(it()),Ir=I(jl());var Y=Ot.stringifySelectorAst,ee=Ot.walk,Nr=new Map;function L(e,t={}){Nr.has(e)||(Nr.size>1e4&&Nr.delete(Nr.keys().next().value),Nr.set(e,(0,Ot.parseCssSelector)(e)));let r=Nr.get(e);return t.clone?(0,Ir.default)(r):r}function uh(e){return(0,Ir.default)(e)}function To(e){return L(e).map(r=>{let s="";return(0,Ot.walk)(r,n=>{if(n.type!=="class"&&n.type!=="type"||s||n.nodes)return s="complex",Ot.walk.stopAll;s=n.type},{ignoreList:["selector","comment"]}),s==="class"||s==="type"?{type:s,isSimple:!0}:{type:"complex",isSimple:!1}})}function ch(e){return e.value="",Yt(e)}function Ys(e){let t=e;return t.type="class",t.dotComments=[],t}function fh(e){let t=e;return t.type="invalid",t}function Yt(e){let t=e;return t.type="selector",t.before||="",t.after||="",t}function ph(e,t,r){let s=e;return s.type="pseudo_class",s.value=t,s.colonComments=[],r?s.nodes=r:delete s.nodes,s}function Bl(e){let t=e.combinator||"space";return{type:"combinator",combinator:t,value:e.value??(t==="space"?" ":t),before:e.before??"",after:e.after??"",start:e.start??0,end:e.end??0,invalid:e.invalid??!1}}function dh(e){for(let t of e)if(t.type==="pseudo_class")return!0;return!1}function Js(e,t){return e.type===t.type&&e.value===t.value}function Jt(e){return e.charAt(0).match(/[A-Z]/)}var lw=e=>e.type==="nesting";function ut(e,t,r=!1,s=lw){let n=[];return t.forEach(o=>{e.forEach(i=>{let a=(0,Ir.default)(o);a.before=i.before||a.before;let l=a.nodes[0];ee(a,d=>(l=d,ee.stopAll),{ignoreList:["selector"]});let u=l.type==="nesting",c=l.type==="pseudo_class"&&l.value==="global",f=r?i.nodes.every((d,m)=>Js(d,a.nodes[m])):!1,p=!1;ee(a,(d,m,S)=>{s(d)&&(p=!0,S.splice(m,1,{type:"selector",nodes:(0,Ir.default)(i.nodes),start:d.start,end:d.end,after:"",before:""}))}),l&&!u&&!f&&!c&&!p&&a.nodes.unshift(...(0,Ir.default)(i.nodes),{type:"combinator",combinator:"space",value:" ",before:"",after:"",start:l.start,end:l.start,invalid:!1}),n.push(a)})}),{selector:Y(n),ast:n}}var gh=I(it());var xo=I(it()),Wl=I(jl());function mh(e,t){let r={},s=(n,o)=>{let i=e[n];i&&(r[n]=Xs(i,a=>{let l=`:--${a}`;return o.includes(l)?(t({type:"circular",path:o}),(0,xo.parseCssSelector)(l)):(r[a]||s(a,[...o,l]),r[a])},({type:a,unknown:l})=>t({type:a,origin:n,unknown:l})))};for(let n of Object.keys(e))s(n,[`:--${n}`]);return r}function uw(e){return e.type==="pseudo_class"&&e.value.startsWith("--")}function Xs(e,t,r){let s=[];for(let n of e)s.push(...cw(n,t,r));return s}function cw(e,t,r){let s=[];(0,xo.walk)(e,(o,i,a,l)=>{if(uw(o)){let u=o.value.slice(2),c=t(u);if(!c)r({type:"unknown",origin:"",unknown:u});else if(c.length!==0){let f=l[l.length-1];if(f&&"nodes"in f&&f.nodes){let p=0;s.push(d=>{d&&p++;let m=p===c.length;m&&(p=0);let S=c[p];return S.before=S.after="",f.nodes[i]=S,m})}}}});let n=[];if(s.length){s.forEach(i=>i(!1)),n.push((0,Wl.default)(e));let o=!0;for(;o;){let i=0;for(let a=0;a<s.length;++a){let l=s[a];if(l(a===i))if(i<s.length-1)i++;else return o=!1,n;else break}n.push((0,Wl.default)(e))}}return[e]}function et(e,t){let r=e.parent;for(;r;){if(r.type==="atrule"&&r.name===t)return!0;r=r.parent}return!1}function Sh(e,t=!0){let r=e.parent;return r&&(t&&r.type==="root"||r.type==="atrule"&&(r.name==="media"||r.name==="supports"))}function wo(e,t,r,s=!1,n,o=!1){let i=L(t),a=i[0].nodes[0],l=vh.bind(null,a),u=r||Sr();return e.nodes.forEach(c=>{if(c.type==="decl")r?.append(c.clone());else{if(c.type==="rule"&&(c.selector===":vars"||c.selector===":import"))return;if(c.type==="rule"){let f=L(c.selector,{clone:!0}),p=s?ut(i,f,!0).ast:f;n&&(p=Xs(p,n,()=>{}));let d=s||o?p:p.filter(m=>l(m));if(d.length){let m=Y(d.map(h=>(s||(h=yh(h,a)),hh(h,a),h))),S=wo(c,t,c.clone({selector:m,nodes:[]}),s,n,!0);u.append(S)}}else if(c.type==="atrule")if(c.name==="media"||c.name==="supports"||c.name==="st-scope"||c.name==="layer"||c.name==="container"){let f=c.name==="st-scope"?c.params:"",p=o||!1;if(f){let m=L(f,{clone:!0}),S=s?m:m.filter(h=>l(h));S.length&&(p=!0,f=Y(S.map(h=>(s||(h=yh(h,a)),hh(h,a),h))))}let d=wo(c,t,Wn({params:f||c.params,name:c.name}),s,n,p);d.nodes&&u.append(d)}else s&&u.append(c.clone())}}),u}var Ro="st-mixin-marker",No=e=>e.type==="attribute"&&e.value===Ro;function hh(e,t){ee(e,r=>{Js(r,t)&&(Yt(r).nodes=[{type:"attribute",value:Ro,start:r.start,end:r.end}])})}function yh(e,t){let r=(0,gh.groupCompoundSelectors)(e,{deep:!0,splitPseudoElements:!1});return ee(r,s=>{if(s.type==="compound_selector"){let n=s.nodes;for(let o=1;o<n.length;o++){let i=n[o];if(Js(i,t)){let a=n.splice(o,n.length-o);n.unshift(...a);break}}}}),r}function vh(e,t){let r=!1;return ee(t,s=>{if(s.type==="combinator")return ee.stopAll;if(s.type==="pseudo_class"){if(s.nodes)for(let n of s.nodes)vh(e,n)&&(r=!0);return ee.skipNested}else if(Js(s,e))return r=!0,ee.stopAll}),r}function bh(e,t,r=s=>s.prop==="-st-extends"){let s=null;return e.walkRules(t,n=>{let o=n.nodes?n.nodes.findIndex(r):-1;To(n.selector).reduce((l,{isSimple:u})=>u?l:!1,!0)&&~o&&(s=n.nodes[o])}),s}function Ah(e){return typeof e.value=="string"}var Zs={INVALID_MERGE_OF:y("14001","error",e=>`invalid merge of: 
"${e}"`),INVALID_RECURSIVE_MIXIN:y("10010","error",()=>"invalid recursive mixin")};function Io(e,t,r,s,n){let o=null,i=et(t,"keyframes"),a=n?"&":"["+Ro+"]",l=n?void 0:No;if(e.walkRules(u=>{if(!et(u,"keyframes"))if(u.selector===a&&!o)if(u.parent===e)o=u;else{let{selector:c}=ut(L(t.selector),L(u.selector),!1,l);o="NoRoot",u.selector=c}else if(dw(u,o))u.selector.includes(a)&&(u.selector=u.selector.split(a).join("&"),s?.report(Zs.INVALID_RECURSIVE_MIXIN(),{node:t}));else{let{selector:c}=ut(L(t.selector),L(u.selector),!1,l);u.selector=c}}),e.nodes){let u=t,c=!fw(r),f=c?t:ye({selector:"&"}),p=m=>{c?f.insertBefore(r,m):(m.raws.before=(m.raws.before||"")+"    ",f.append(m)),!d&&m.type!=="decl"&&pw(r)&&(d=!0)},d=!1;if(e.nodes.slice().forEach(m=>{if(m===o)for(let S of[...m.nodes])p(S);else m.type==="decl"?p(m):(m.type==="rule"||m.type==="atrule")&&(!i?(t.parent.last===u?t.parent.append(m):t.parent.insertAfter(u,m),u=m):s?.report(Zs.INVALID_MERGE_OF(m.toString()),{node:t}))}),f!==t&&f.nodes.length&&r.before(f),d){let m=ye({selector:"&"});for(;r.next();){let S=r.next();S.raws.before=(S.raws.before||"")+"    ",m.append(S)}r.after(m)}}return t}function fw(e){let t=e.prev();for(;t;){if(t.type!=="decl"&&t.type!=="comment")return!0;t=t.prev()}return!1}function pw(e){let t=e.next();for(;t;){if(t.type==="decl")return!0;t=t.prev()}return!1}var dw=(e,t)=>{let r=e.parent;for(;r;){if(r===t)return!0;r=r.parent}return!1},mw={MISSING_SOURCE_FILENAME:y("17001","error",()=>"missing source filename")};function Ch(e,t){let r=e.source&&e.source.input.file||"";if(!r)t.report(mw.MISSING_SOURCE_FILENAME(),{node:e});else if(!(0,_h.isAbsolute)(r))throw new Error('source filename is not absolute path: "'+r+'"');return r}function Oo(e){if((e._kind==="class"||e._kind==="element")&&!e["-st-extends"])return e.alias}var se={};pe(se,{addSymbol:()=>de,diagnostics:()=>Gl,get:()=>D,getAll:()=>vw,getAllByType:()=>ue,hooks:()=>Sw,readableTypeMap:()=>zl,reportRedeclare:()=>bw});var Or={strictCustomProperty:!1},hw={metaInit(){},analyzeInit(){},analyzeAtRule(){},analyzeSelectorNode(){},analyzeSelectorDone(){},analyzeDeclaration(){},analyzeDone(){},prepareAST(){},transformInit(){},transformResolve(){return{}},transformAtRuleNode(){},transformSelectorNode(){},transformDeclaration(){},transformValue(){},transformJSExports(){},transformLastPass(){}};function k(e){return{...hw,...e}}var Dk=Symbol(),_={key(e){return Symbol(e)},set(e,t,r){e[t]=r},get(e,t){return e[t]},getAssure(e,t){if(!e[t])throw new Error(`key ${t.description} is missing on map`);return e[t]},getUnsafe(e,t){return e[t]}};var yw={import:"main",class:"main",cssVar:"main",element:"main",keyframes:"keyframes",layer:"layer",container:"container",var:"main"},zl={class:"css class",element:"css element type",cssVar:"css custom property",import:"stylable imported symbol",keyframes:"css keyframes",layer:"css layer",container:"css container name",var:"stylable var"};function gw(e){return{byNS:{main:e?[...e.byNS.main]:[],keyframes:e?[...e.byNS.keyframes]:[],layer:e?[...e.byNS.layer]:[],container:e?[...e.byNS.container]:[]},byNSFlat:{main:e?{...e.byNSFlat.main}:{},keyframes:e?{...e.byNSFlat.keyframes}:{},layer:e?{...e.byNSFlat.layer}:{},container:e?{...e.byNSFlat.container}:{}},byType:{import:e?{...e.byType.import}:{},class:e?{...e.byType.class}:{},cssVar:e?{...e.byType.cssVar}:{},element:e?{...e.byType.element}:{},keyframes:e?{...e.byType.keyframes}:{},layer:e?{...e.byType.layer}:{},container:e?{...e.byType.container}:{},var:e?{...e.byType.var}:{}}}}var Pr=_.key("mappedSymbols"),Gl={REDECLARE_SYMBOL:y("06001","warning",e=>`redeclare symbol "${e}"`),REDECLARE_ROOT:y("06002","error",()=>"root is used for the stylesheet and cannot be overridden")},Sw=k({metaInit({meta:e}){_.set(e.data,Pr,gw())}});function D(e,t,r){let{byNSFlat:s,byType:n}=_.getUnsafe(e.data,Pr);return r?n[r][t]:s.main[t]}function vw(e,t){let{byNSFlat:r}=_.getUnsafe(e.data,Pr);return r[t||"main"]}function ue(e,t){let{byType:r}=_.getUnsafe(e.data,Pr);return r[t]}function de({context:e,symbol:t,node:r,safeRedeclare:s=!1,localName:n}){let{byNS:o,byNSFlat:i,byType:a}=_.getUnsafe(e.meta.data,Pr),l=n||t.name,u=a[t._kind],c=yw[t._kind];if(r&&l==="root"&&c==="main"&&i[c][l]){e.diagnostics.report(Gl.REDECLARE_ROOT(),{node:r,word:"root"});return}return o[c].push({name:l,symbol:t,ast:r,safeRedeclare:s}),i[c][l]=t,u[l]=t,t}function bw(e){let{byNS:t}=_.getUnsafe(e.meta.data,Pr);for(let r of Object.values(t)){let s={},n=new Set;for(let o of r){let{name:i,safeRedeclare:a}=o;s[i]=s[i]||[],!a&&s[i].length&&n.add(i),s[i].push(o)}for(let o of n)for(let{safeRedeclare:i,ast:a}of s[o])!i&&a&&e.diagnostics.report(Gl.REDECLARE_SYMBOL(o),{node:a,word:o})}}var me={};pe(me,{ImportTypeHook:()=>Dt,PseudoImport:()=>Yh,PseudoImportDecl:()=>ou,StylablePublicApi:()=>iu,createImportSymbol:()=>au,diagnostics:()=>ze,getImportStatements:()=>Jh,hooks:()=>Ww});var Le={INVALID_FUNCTIONAL_SELECTOR:y("00001","error",(e,t)=>`"${e}" ${t} is not functional`),FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:y("05014","error",e=>`cannot define "${e}" inside a complex selector`)};var kr=I(Pe()),Bh=I(Th());function ve(e){return e.replace(/^['"](.*?)['"]$/g,"$1")}function xh(e){return Tw(e.replace(/(?=.*)\.\w+$/,"").replace(/\.st$/,""))}function Tw(e){return e.replace(/[^0-9a-zA-Z_]/gm,"").replace(/^[^a-zA-Z_]+/gm,"")}var ru=I(Ae()),Ne={ST_IMPORT_STAR:y("05001","error",()=>"@st-import * is not supported"),INVALID_ST_IMPORT_FORMAT:y("05002","error",e=>`Invalid @st-import format:
 - ${e.join(`
 - `)}`),ST_IMPORT_EMPTY_FROM:y("05003","error",()=>'@st-import must specify a valid "from" string value'),EMPTY_IMPORT_FROM:y("05004","error",()=>'"-st-from" cannot be empty'),MULTIPLE_FROM_IN_IMPORT:y("05005","warning",()=>'cannot define multiple "-st-from" declarations in a single import'),DEFAULT_IMPORT_IS_LOWER_CASE:y("05006","warning",()=>"Default import of a Stylable stylesheet must start with an upper-case letter"),ILLEGAL_PROP_IN_IMPORT:y("05007","warning",e=>`"${e}" css attribute cannot be used inside :import block`),FROM_PROP_MISSING_IN_IMPORT:y("05008","error",()=>'"-st-from" is missing in :import block'),INVALID_NAMED_IMPORT_AS:y("05009","error",e=>`Invalid named import "as" with name "${e}"`),INVALID_NESTED_KEYFRAMES:y("05010","error",e=>`Invalid nested keyframes import "${e}"`),INVALID_NESTED_TYPED_IMPORT:y("05019","warning",(e,t)=>`Invalid nested ${e} import "${t}"`)},tu={ATTEMPT_OVERRIDE_SYMBOL:y("16001","error",(e,t,r)=>`Attempt to override existing ${e} import symbol. ${t} -> ${r}`),PATCH_CONTAINS_NEW_IMPORT_IN_NEW_IMPORT_NONE_MODE:y("16002","error",()=>'Attempt to insert new a import in newImport "none" mode')};function $h(e){let t=Object.entries(e.named||{}),r=Object.entries(e.keyframes||{}),s="";if(e.defaultExport&&(s+=e.defaultExport),e.defaultExport&&(t.length||r.length)&&(s+=", "),t.length||r.length){s+="[";let n=Fo(t),o=Fo(r);s+=n.join(", "),o.length&&(n.length&&(s+=", "),s+=`keyframes(${o.join(", ")})`),s+="]"}return s+=` from ${JSON.stringify(e.request||"")}`,{name:"st-import",params:s}}function kw(e,t,r,s=new ie){let n=Mw(e,t,r,s);if(!s.reports.length)for(let o of n)o();return{diagnostics:s}}function Mw(e,t,{newImport:r},s){let n=[],o=new Set;for(let i of e.nodes)if(i.type==="atrule"&&i.name==="st-import"){let a=Vo(i,"*",s);jh(a,t,o,s),n.push(()=>i.assign($h(a)))}else if(i.type==="rule"&&i.selector===":import"){let a=Uo(i,"*",s);jh(a,t,o,s),n.push(()=>{let l=zh(a),{defaultDecls:u,namedDecls:c}=Uw(i,l,a);a.defaultExport&&qh(u,i,"-st-default",a.defaultExport),l.length&&qh(c,i,"-st-named",l.join(", "))})}if(r==="none")return o.size!==t.length&&s.report(tu.PATCH_CONTAINS_NEW_IMPORT_IN_NEW_IMPORT_NONE_MODE(),{node:e}),n;if(o.size===t.length)return n;for(let i of t)o.has(i)||$w(i)&&(r==="st-import"?n.push(()=>{e.prepend(Wn($h({defaultExport:i.defaultExport||"",keyframes:i.keyframes||{},named:i.named||{},request:i.request})))}):n.push(()=>{e.prepend(ye(Vw(i)))}));return n}function Wh(e,t,r){!kr.default.isAbsolute(e)&&!e.startsWith(".")?(r.request=e,r.from=e):(r.request=e,r.from=kr.default.posix&&kr.default.posix.isAbsolute(t)?kr.default.posix.resolve(t,e):kr.default.resolve(t,e))}function Lw(e,t,r){return e.type==="atrule"?Vo(e,t,r):Uo(e,t,r)}function Vo(e,t,r){let s={},n={defaultExport:"",from:"",request:"",named:{},rule:e,context:t,keyframes:s,typed:{keyframes:s}},o=(0,Bh.parseImports)(`import ${e.params}`,"[","]",!0)[0];if(o&&o.star)r.report(Ne.ST_IMPORT_STAR(),{node:e});else{if(Wh(o.from||"",t,n),n.defaultExport=o.defaultName||"",n.defaultExport&&!Jt(n.defaultExport)&&n.from.endsWith(".css")&&r.report(Ne.DEFAULT_IMPORT_IS_LOWER_CASE(),{node:e,word:n.defaultExport}),o.tagged){for(let[i,a]of Object.entries(o.tagged))if(a)for(let[l,u]of a)n.typed[i]??={},n.typed[i][u]=l}if(o.named)for(let[i,a]of o.named)n.named[a]=i;o.errors.length?r.report(Ne.INVALID_ST_IMPORT_FORMAT(o.errors),{node:e}):o.from?.trim()||r.report(Ne.ST_IMPORT_EMPTY_FROM(),{node:e})}return n}function Uo(e,t,r){let s=!1,n={},o={defaultExport:"",from:"",request:"",named:{},keyframes:n,typed:{keyframes:n},rule:e,context:t};return e.walkDecls(i=>{switch(i.prop){case"-st-from":{let a=ve(i.value);a.trim()||r.report(Ne.EMPTY_IMPORT_FROM(),{node:i}),s&&r.report(Ne.MULTIPLE_FROM_IN_IMPORT(),{node:e}),Wh(a,t,o),s=!0;break}case"-st-default":o.defaultExport=i.value,!Jt(o.defaultExport)&&o.from.endsWith(".css")&&r.report(Ne.DEFAULT_IMPORT_IS_LOWER_CASE(),{node:i,word:o.defaultExport});break;case"-st-named":{let{typedMap:a,namedMap:l}=Fw(i.value,i,r);o.named=l,o.keyframes=a.keyframes||{},o.typed=a}break;default:r.report(Ne.ILLEGAL_PROP_IN_IMPORT(i.prop),{node:i,word:i.prop});break}}),o.from||r.report(Ne.FROM_PROP_MISSING_IN_IMPORT(),{node:e}),o}function Fw(e,t,r){let s={},n={};return e&&Gh((0,ru.default)(e),s,n,t,r),{namedMap:s,typedMap:n}}function Vw(e){let t=[],r=zh(e);return e.request&&t.push(_e({prop:"-st-from",value:JSON.stringify(e.request)})),e.defaultExport&&t.push(_e({prop:"-st-default",value:e.defaultExport})),r.length&&t.push(_e({prop:"-st-named",value:r.join(", ")})),{selector:":import",nodes:t}}function Uw(e,t,r){let s=[],n=[];for(let o of e.nodes)o.type==="decl"&&(o.prop==="-st-named"?(o.assign({value:t.join(", ")}),s.push(o)):o.prop==="-st-default"&&(o.assign({value:r.defaultExport}),n.push(o)));return{defaultDecls:n,namedDecls:s}}function qh(e,t,r,s){if(!e.length)t.append(_e({prop:r,value:s}));else if(e.length>1)for(let n=0;n<e.length-1;n++)e[n].remove()}function Fo(e){let t=[];for(let[r,s]of e)r===s?t.push(s):t.push(`${s} as ${r}`);return t}function zh({named:e={},keyframes:t={}}){let r=Fo(Object.entries(e)),s=Fo(Object.entries(t));return s.length&&r.push(`keyframes(${s.join(", ")})`),r}function $w({named:e={},keyframes:t={},defaultExport:r}){return r||Object.keys(e).length||Object.keys(t).length}function jh(e,t,r,s){let n=["named","keyframes"];for(let o of t)if(!r.has(o)&&e.request===o.request){for(let i of n){let a=o[i];if(a)for(let[l,u]of Object.entries(a)){let c=e[i][l];c!==u&&(c?s.report(tu.ATTEMPT_OVERRIDE_SYMBOL(i,c===l?c:`${c} as ${l}`,u===l?u:`${u} as ${l}`),{node:e.rule}):e[i][l]=u)}}o.defaultExport&&(e.defaultExport?e.defaultExport!==o.defaultExport&&s.report(tu.ATTEMPT_OVERRIDE_SYMBOL("default",e.defaultExport,o.defaultExport),{node:e.rule}):e.defaultExport=o.defaultExport),r.add(o)}}function Gh(e,t,r,s,n){let{nodes:o}=e;for(let i=0;i<o.length;i++){let a=o[i];if(a.type==="word"){let l=o[i+1],u=o[i+2],c=o[i+3],f=o[i+4];if(qw(l,u))if(c?.type==="space"&&f?.type==="word")t[f.value]=a.value,i+=4;else{i+=f?2:3,n.report(Ne.INVALID_NAMED_IMPORT_AS(a.value),{node:s});continue}else t[a.value]=a.value}else a.type==="function"&&(r?(r[a.value]??={},Gh(a,r[a.value],null,s,n)):n.report(Ne.INVALID_NESTED_TYPED_IMPORT(a.value,ru.default.stringify(a)),{node:s}))}}function qw(e,t){return e?.type==="space"&&t?.type==="word"&&t?.value==="as"}function su(e,t,r=new Set,s=void 0,n=0){for(let{context:o,request:i}of t.getImportStatements())try{let a=e.resolvePath(o,i);s?.({context:o,request:i,resolved:a,depth:n}),r.has(a)||(r.add(a),a.endsWith(".st.css")&&su(e,e.analyze(a),r,s,n+1))}catch{}return r}var jw="*",Bw=["initial-value","syntax","inherits"],Xt={MISSING_REQUIRED_DESCRIPTOR:y("01001","error",e=>`@property rules require a "${e}" descriptor`),MISSING_REQUIRED_INITIAL_VALUE_DESCRIPTOR:y("01002","warning",()=>'@property "initial-value" descriptor is optional only if the "syntax" is the universal syntax definition, otherwise the descriptor is required'),INVALID_DESCRIPTOR_TYPE:y("01003","error",e=>`@property does not support descriptor of type "${e}"`),INVALID_DESCRIPTOR_NAME:y("01004","error",e=>`@property does not support descriptor named "${e}"`)};function Hh(e,t){let r=e.params,s=new Map;if(!e.nodes?.length)return{valid:!0};for(let n of e.nodes){if(n.type!=="decl"){(n.type==="atrule"||n.type==="rule")&&t.report(Xt.INVALID_DESCRIPTOR_TYPE(n.type),{node:n,word:"params"in n?n.params:n.selector});continue}if(!Bw.includes(n.prop)){t.report(Xt.INVALID_DESCRIPTOR_NAME(n.prop),{node:n,word:n.prop});continue}s.set(n.prop,ve(n.value))}return s.has("syntax")?s.has("inherits")?!s.has("initial-value")&&s.get("syntax")!==jw?(t.report(Xt.MISSING_REQUIRED_INITIAL_VALUE_DESCRIPTOR(),{node:e,word:r}),{valid:!1}):{valid:!0}:(t.report(Xt.MISSING_REQUIRED_DESCRIPTOR("inherits"),{node:e,word:r}),{valid:!1}):(t.report(Xt.MISSING_REQUIRED_DESCRIPTOR("syntax"),{node:e,word:r}),{valid:!1})}function Fe(e){return e.startsWith("--")}function nu(e,t){return`--${e}-${t}`}var Kh=I(Pe());var Yh=":import",ou={DEFAULT:"-st-default",NAMED:"-st-named",FROM:"-st-from"},Dt=new Map,$o=_.key("imports"),ze={...Ne,FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:Le.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR,NO_ST_IMPORT_IN_NESTED_SCOPE:y("05011","error",()=>'cannot use "@st-import" inside of nested scope'),NO_PSEUDO_IMPORT_IN_NESTED_SCOPE:y("05012","error",()=>'cannot use ":import" inside of nested scope'),INVALID_CUSTOM_PROPERTY_AS_VALUE:y("05013","error",(e,t)=>`invalid alias for custom property "${e}" as "${t}"; custom properties must be prefixed with "--" (double-dash)`),UNKNOWN_IMPORTED_SYMBOL:y("05015","error",(e,t)=>`cannot resolve imported symbol "${e}" from stylesheet "${t}"`),UNKNOWN_IMPORTED_FILE:y("05016","error",(e,t)=>`cannot resolve imported file: "${e}"${t?`
Failed with:
${t}`:""}`),UNKNOWN_TYPED_IMPORT:y("05018","error",e=>`Unknown type import "${e}"`),NO_DEFAULT_EXPORT:y("05020","error",e=>`Native CSS files have no default export. Imported file: "${e}"`),UNSUPPORTED_NATIVE_IMPORT:y("05021","warning",()=>"Unsupported @import within imported native CSS file")},Ww=k({metaInit({meta:e}){_.set(e.data,$o,[])},analyzeInit(e){let t=_.getUnsafe(e.meta.data,$o),r=Kh.default.dirname(e.meta.source);for(let s of e.meta.sourceAst.nodes){if(!Qh(s))continue;let n=s.type==="atrule"?Vo(s,r,e.diagnostics):Uo(s,r,e.diagnostics);t.push(n),Gw(n,e,r)}},analyzeAtRule({context:e,atRule:t}){t.name==="st-import"&&t.parent?.type!=="root"?e.diagnostics.report(ze.NO_ST_IMPORT_IN_NESTED_SCOPE(),{node:t}):t.name==="import"&&e.meta.type==="css"&&e.diagnostics.report(ze.UNSUPPORTED_NATIVE_IMPORT(),{node:t})},analyzeSelectorNode({context:e,rule:t,node:r}){if(r.value==="import"){if(t.selector!==":import"){e.diagnostics.report(ze.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR(Yh),{node:t});return}t.parent?.type!=="root"&&e.diagnostics.report(ze.NO_PSEUDO_IMPORT_IN_NESTED_SCOPE(),{node:t})}},prepareAST({node:e,toRemove:t}){Qh(e)&&t.push(e)},transformInit({context:e}){Qw(e),zw(e)}}),iu=class{constructor(t){this.stylable=t}analyze(t){return Jh(t).map(({request:r,defaultExport:s,named:n,keyframes:o})=>({from:r,default:s,named:n,typed:{keyframes:o}}))}};function zw(e){let t=0,r=su(e.resolver,e.meta,new Set,({depth:s})=>{t=Math.max(t,s)},1);e.meta.transformCssDepth={cssDepth:t,deepDependencies:r}}function Qh(e){return e.type==="atrule"&&e.name==="st-import"||e.type==="rule"&&e.selector===":import"}function Jh({data:e}){return _.getUnsafe(e,$o)}function au(e,t,r,s){return{_kind:"import",type:t==="default"?"default":"named",name:t==="default"?r:e.named[r],import:e,context:s}}function Gw(e,t,r){Hw(e,t),e.defaultExport&&de({context:t,localName:e.defaultExport,symbol:au(e,"default","default",r),node:e.rule}),Object.keys(e.named).forEach(s=>{de({context:t,localName:s,symbol:au(e,"named",s,r),node:e.rule})});for(let[s,n]of Object.entries(e.typed)){let o=Dt.get(s);if(o)for(let[i,a]of Object.entries(n))o(t,i,a,e);else t.diagnostics.report(ze.UNKNOWN_TYPED_IMPORT(s),{node:e.rule,word:s})}}function Hw(e,t){for(let[r,s]of Object.entries(e.named))Fe(s)&&!Fe(r)&&t.diagnostics.report(ze.INVALID_CUSTOM_PROPERTY_AS_VALUE(s,r),{node:e.rule})}function Qw(e){let t=_.getUnsafe(e.meta.data,$o);for(let r of t){let s=e.resolver.getModule(r);if(s.value)if(s.kind==="css"){let n=s.value;if(n.type==="css"){let o=!1;for(let i of n.diagnostics.reports)if(i.code==="05021"){o=!0;break}o&&e.diagnostics.report(ze.UNSUPPORTED_NATIVE_IMPORT(),{node:r.rule,word:r.defaultExport})}n.type!=="stylable"&&r.defaultExport&&e.diagnostics.report(ze.NO_DEFAULT_EXPORT(r.request),{node:r.rule,word:r.defaultExport});for(let o in r.named){let i=r.named[o],a=e.resolver.resolveImported(r,i);if(a===null||!a.symbol){let l=r.rule.nodes&&r.rule.nodes.find(u=>u.type==="decl"&&u.prop===ou.NAMED);e.diagnostics.report(ze.UNKNOWN_IMPORTED_SYMBOL(i,r.request),{node:l||r.rule,word:i})}}}else s.kind;else{let n=r.rule.nodes&&r.rule.nodes.find(o=>o.type==="decl"&&o.prop===ou.FROM);e.diagnostics.report(ze.UNKNOWN_IMPORTED_FILE(r.request,Kw(s)),{node:n||r.rule,word:r.request})}}}function Kw(e){if("error"in e){let{error:t}=e;return typeof t=="object"&&t?"details"in t?String(t.details):"message"in t?String(t.message):String(t):String(t)}return""}var Ve={};pe(Ve,{defaultProcessNamespace:()=>Jw,diagnostics:()=>ft,hooks:()=>Yw,parseNamespace:()=>Xh,setMetaNamespace:()=>Xw});var qo=I(Pe());var jo=I(Ae());function en(e,t=0){let r=e.length&3,s=e.length-r,n=3432918353,o=461845907,i=t,a=0,l=0,u=0;for(;a<s;)l=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,++a,l=(l&65535)*n+(((l>>>16)*n&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(l&65535)*o+(((l>>>16)*o&65535)<<16)&4294967295,i^=l,i=i<<13|i>>>19,u=(i&65535)*5+(((i>>>16)*5&65535)<<16)&4294967295,i=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(l=0,r){case 3:l^=(e.charCodeAt(a+2)&255)<<16;case 2:l^=(e.charCodeAt(a+1)&255)<<8;case 1:l^=e.charCodeAt(a)&255,l=(l&65535)*n+(((l>>>16)*n&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(l&65535)*o+(((l>>>16)*o&65535)<<16)&4294967295,i^=l}return i^=e.length,i^=i>>>16,i=(i&65535)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(i&65535)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,i^=i>>>16,i>>>0}var ft={INVALID_NAMESPACE_DEF:y("11007","error",()=>"invalid @st-namespace"),EMPTY_NAMESPACE_DEF:y("11008","error",()=>"@st-namespace must contain at least one character or digit"),EXTRA_DEFINITION:y("11012","error",()=>"@st-namespace must contain a single string definition"),INVALID_NAMESPACE_VALUE:y("11013","error",()=>"@st-namespace must contain only letters, numbers or dashes"),INVALID_NAMESPACE_REFERENCE:y("11010","error",()=>"st-namespace-reference dose not have any value"),NATIVE_OVERRIDE_DEPRECATION:y("11014","info",()=>"@namespace will stop working in version 6, use @st-namespace instead")},tn=_.key("namespace"),Yw=k({metaInit({meta:e}){_.set(e.data,tn,{namespaces:[],usedNativeNamespace:[],usedNativeNamespaceNodes:[],foundStNamespace:!1})},analyzeAtRule({context:e,atRule:t}){let r=t.name==="st-namespace",s=t.name==="namespace";if(!r&&!s)return;let n=_.getUnsafe(e.meta.data,tn);if(n.foundStNamespace&&s)return;let o=r?e.diagnostics:void 0,i=Xh(t,o);i&&(n.namespaces.push(i),s?(n.usedNativeNamespace.push(t.params),n.usedNativeNamespaceNodes.push(t)):(n.usedNativeNamespace.length=0,n.usedNativeNamespaceNodes.length=0,n.foundStNamespace=!0))},analyzeDone(e){let{usedNativeNamespaceNodes:t}=_.getUnsafe(e.meta.data,tn);for(let r of t)e.diagnostics.report(ft.NATIVE_OVERRIDE_DEPRECATION(),{node:r})},prepareAST({context:e,node:t,toRemove:r}){let{usedNativeNamespace:s}=_.getUnsafe(e.meta.data,tn);t.type==="atrule"&&(t.name==="st-namespace"||t.name==="namespace"&&s.includes(t.params))&&r.push(t)}});function Xh(e,t){let{nodes:r}=(0,jo.default)(e.params);if(!r.length){t?.report(ft.EMPTY_NAMESPACE_DEF(),{node:e});return}let s=!1,n;for(let o of r)switch(o.type){case"string":{n===void 0?s||(n=ve(o.value)):(t?.report(ft.EXTRA_DEFINITION(),{node:e,word:jo.default.stringify(o)}),s=!0,n=void 0);break}case"comment":case"space":break;default:t?.report(ft.EXTRA_DEFINITION(),{node:e,word:jo.default.stringify(o)}),s=!0,n=void 0}if(n===void 0){t?.report(ft.INVALID_NAMESPACE_DEF(),{node:e});return}if(n!==void 0&&n.trim()===""){t?.report(ft.EMPTY_NAMESPACE_DEF(),{node:e});return}if(!n.match(/^([a-zA-Z-_]|[^\x00-\x7F]+)([a-zA-Z-_0-9]|[^\x00-\x7F])*$/)){t?.report(ft.INVALID_NAMESPACE_VALUE(),{node:e,word:n});return}return n}function Jw(e,t,r){return e+en(t)}function Xw(e,t){let r=e.meta,{namespaces:s}=_.getUnsafe(r.data,tn),n=s[s.length-1]||xh(qo.default.basename(r.source))||"s",o,i=r.sourceAst.nodes.length;for(;i--;){let a=r.sourceAst.nodes[i];if(a.type==="comment"&&a.text.includes("st-namespace-reference")){let l=a.text.indexOf("=");l===-1?e.diagnostics.report(ft.INVALID_NAMESPACE_REFERENCE(),{node:a}):o=ve(a.text.slice(l+1));break}}r.namespace=t(n,o?qo.default.resolve(qo.default.dirname(r.source),o):r.source,r.source)}var Ge={};pe(Ge,{diagnostics:()=>Zh,getGlobalRules:()=>eR,hooks:()=>Zw,unwrapPseudoGlobals:()=>ey});var Bo=_.key("globals"),Zh={UNSUPPORTED_MULTI_SELECTOR_IN_GLOBAL:y("04001","error",()=>"unsupported multi selector in :global()")},Zw=k({metaInit({meta:e}){_.set(e.data,Bo,{rules:new Map})},analyzeSelectorNode({context:e,node:t,topSelectorIndex:r,rule:s,originalNode:n}){let{rules:o}=_.getUnsafe(e.meta.data,Bo);if(t.type==="selector"||t.type==="combinator"||t.type==="comment")return;o.has(n)||o.set(n,{isGlobal:!0,checkedRule:s,topLevelSelectorsFlags:[]});let i=o.get(n);if(t.type==="pseudo_class"&&t.value==="global")return i.topLevelSelectorsFlags[r]??=!0,t.nodes&&t.nodes?.length>1&&e.diagnostics.report(Zh.UNSUPPORTED_MULTI_SELECTOR_IN_GLOBAL(),{node:s,word:Y(t.nodes)}),ee.skipNested;t.type==="universal"||t.type==="type"&&!Jt(t.value)?i.topLevelSelectorsFlags[r]??=!0:i.topLevelSelectorsFlags[r]=!1},analyzeSelectorDone({context:e,originalNode:t}){let{rules:r}=_.getUnsafe(e.meta.data,Bo),s=r.get(t);if(!s)return;if(!s.topLevelSelectorsFlags.find(o=>o)){s.isGlobal=!1;return}let n=t.parent;for(;n;){let o=r.get(n);if(o){s.isGlobal=o.isGlobal;break}n=n.parent}},transformInit({context:e}){e.meta.globals={}},transformLastPass({context:{meta:e},ast:t}){t.walkRules(r=>{if(!r.selector.includes(":global("))return;let s=L(r.selector,{clone:!0});ee(ey(s),n=>{n.type==="class"&&(e.globals[n.value]=!0)}),r.selector=Y(s)})}});function eR(e){let{rules:t}=_.getUnsafe(e.data,Bo),r=[];for(let[s,{isGlobal:n,checkedRule:o}]of t)n&&o===s&&s.type==="rule"&&r.push(s);return r}function ey(e){let t=[];return ee(e,r=>{if(r.type==="pseudo_class"&&r.value==="global")return r.nodes?.length===1&&t.push(ch(r)),ee.skipNested}),t}var Ie={};pe(Ie,{StylablePublicApi:()=>lu,diagnostics:()=>tR,hooks:()=>rR,isStScopeStatement:()=>Mr});var tR={},rR=k({analyzeAtRule({context:e,atRule:t,analyzeRule:r}){Mr(t)&&(r(ye({selector:t.params,source:t.source}),{isScoped:!0,originalNode:t}),e.meta.scopes.push(t))},prepareAST({node:e,toRemove:t}){Mr(e)&&(ty(e),t.push(()=>e.replaceWith(e.nodes||[])))},transformAtRuleNode({context:{meta:e,inferredSelectorMixin:t},atRule:r,transformer:s}){if(Mr(r)){let{selector:n,inferredSelector:o}=s.scopeSelector(e,r.params,r,void 0,t);r.params=n,s.containerInferredSelectorMap.set(r,o)}},transformLastPass({ast:e}){let t=[];for(let r of e.nodes)Mr(r)&&(ty(r),t.push(()=>r.replaceWith(r.nodes||[])));t.forEach(r=>r())}}),lu=class{constructor(t){this.stylable=t}getStScope(t){return sR(t)}};function Mr(e){return e.type==="atrule"&&e.name==="st-scope"}function ty(e){let t=e.params;t&&e.walkRules(r=>{r.selector=ut(L(t),L(r.selector)).selector,r.stScopeSelector=e.params})}function sR(e){let t=e;for(;t?.parent;)if(t=t.parent,Mr(t)&&t.parent?.type==="root")return t}var Se={};pe(Se,{StylablePublicApi:()=>Uu,diagnostics:()=>Ue,get:()=>b0,hooks:()=>v0,parseVarsFromExpr:()=>ai,resolveReferencedVarNames:()=>qu});var Qy=I(By()),Eu=I(Ae());var mt=I(Ae());var Xo={INVALID_NAMED_PARAMS:y("13001","error",()=>'invalid named parameters (e.g. "func(name value, [name value, ...])")'),MISSING_REQUIRED_FORMATTER_ARG:y("13002","error",(e,t)=>`${mt.default.stringify(e)}: argument at index ${t} is empty`)};function on(e){let t=[];return e.nodes.length&&(t.push([]),e.nodes.forEach(r=>{if(r.type==="div")t.push([]);else{let{sourceIndex:s,sourceEndIndex:n,...o}=r;t[t.length-1].push(o)}})),t.length&&t[t.length-1].length===0?t.slice(0,-1):t}function tt(e,t,r=!1){return`${e}(${$r(t,!1,void 0,r).join(", ")})`}function $r(e,t=!1,r,s=!1){let n=[],o="",i=0;for(let u of e.nodes)u.type==="div"&&u.value===","?(l(),i++,n.push(o.trim()),o=""):u.type==="comment"?t&&(o+=u.resolvedValue||mt.default.stringify(u)):u.type==="string"?o+=s?mt.default.stringify(u):u.value:o+=u.resolvedValue||mt.default.stringify(u);l(),n.push(o.trim());let a=n.length;for(;a--;)if(n[a]==="")n.pop();else return n;return n;function l(){r&&n.length&&o.trim()===""&&r(Xo.MISSING_REQUIRED_FORMATTER_ARG(e,i))}}function ht(e){return mt.default.stringify(e,t=>{if(t.resolvedValue!==void 0)return t.resolvedValue})}function Wy(e){return Zo(e.nodes).map(t=>mt.default.stringify(t,r=>r.type==="div"?null:r.type==="string"?r.value:void 0)).filter(t=>typeof t=="string")}function Zo(e,t="div"){let r=[],s=[];e.forEach(o=>{o.type===t?(r.push(s),s=[]):s.push(o)});let n=r[r.length-1];return(n&&n!==s&&s.length||!n&&s.length)&&r.push(s),r}function zy(e,t,r="div",s=["comment"]){t=1;let n=e.nodes[t];for(;n&&n.type!==r;){if(!s.includes(n.type))return!1;t++,n=e.nodes[t]}return!0}var ei={named:(e,t)=>{let r={};return on(e).forEach(s=>{let n=s[1];if(s.length<3||n&&n.type!=="space"){if(t){let o=s[0];t(Xo.INVALID_NAMED_PARAMS(),{word:o.value})}return}r[s[0].value]=ON(s.slice(2))}),r},args:(e,t)=>$r(e,!0,t).map(r=>({value:r}))};function ON(e){return mt.default.stringify(e,t=>t.type==="function"?mt.default.stringify(t):t.type==="div"?null:t.type==="string"?t.value:void 0)}var an=class extends Error{constructor(r,s){super(r);this.fallbackValue=s}};function Tu(e,t,r){return{type:e,value:t,flatValue:r}}function xu(e){return Tu("st-string",e,e)}function He(e,t=!0,r,s){if(typeof e=="string")return t?e:xu(e);if(typeof e=="object"&&e){let n=r?.[e.type],o=e.value;return n?.flattenValue&&s&&(o=n.getValue([],e,s,r)),(0,Qy.default)(o,i=>He(i,t,r,s))}}function Gy(){return Nu({processArgs:(e,t,r)=>Ru.args(e,t,r),createValue:e=>e,getValue:(e,t)=>e[parseInt(t,10)]})}function Cu(){return Nu({processArgs:(e,t,r)=>Ru.named(e,t,r),createValue:e=>e,getValue:(e,t)=>e[t]})}var Ky={stArray:Gy().register("stArray"),stMap:Cu().register("stMap"),"st-array":Gy().register("st-array"),"st-map":Cu().register("st-map"),"st-string":Cu().register("st-string")},wu={stArray:{alternativeName:"st-array"},stMap:{alternativeName:"st-map"}},Ru={args:(e,t,r)=>{let s=$r(e),n=[];for(let o of s){let i=(0,Eu.default)(o).nodes[0],a=i.type==="function"&&i.value,l=typeof a=="string"&&t[a]?t[a].evalVarAst(i,t,r):He(o,!r);n.push(l)}return n},named:(e,t,r)=>{let s={},n=on(e);for(let[o,i,...a]of n){if(i.type!=="space")throw new Error("Invalid argument");let l;if(a.length!==0){let u=a.filter(c=>c.type!=="comment");if(u.length===1){let c=u[0];if(l=c.resolvedValue,l){if(typeof l=="string"){let f=(0,Eu.default)(l).nodes[0],p=f.type==="function"&&f.value;l=typeof p=="string"&&t[p]?t[p].evalVarAst(f,t,r):He(l,!r)}}else{let f=t[c.value];c.type==="function"&&f?l=f.evalVarAst(c,t,r):l=He(ht(c),!r)}}else l=He(ht(a),!r)}l&&(s[o.value]=l)}return s}};function Nu({processArgs:e,createValue:t,flattenValue:r,getValue:s}){return{_kind:"CustomValue",register(n){return{flattenValue:r,evalVarAst(o,i,a){let l=e(o,i,a),u=t(l),c;return r&&(c=Hy(r,Tu(n,u),o,i)),Tu(n,u,c)},getValue(o,i,a,l){if(o.length===0){if(r)return Hy(r,i,a,l);{let c=ht([a]);throw new an(`/* Error trying to flat -> */${c}`,c)}}let u=s(i.value,o[0]);return Yy(o.slice(1),u,a,l)}}}}}function Hy(e,t,r,s){let{delimiter:n,parts:o}=e(t);return o.map(i=>Yy([],i,r,s)).join(n)}function Yy(e,t,r,s){if(typeof t=="string"||t.type==="st-string")return He(t,!0,s);if(t&&s[t.type])return s[t.type].getValue(e,t,r,s);throw new Error("Unknown Type "+JSON.stringify(t))}function Jy(e){return e?._kind==="CustomValue"}function PN(e,{symbol:{name:t},meta:{source:r}}){return e.find(({symbol:{name:s},meta:{source:n}})=>t===s&&n===r)}var DN=";:",qr=class{constructor(t,r,s,n){this.fileProcessor=t;this.requireModule=r;this.moduleResolver=s;this.cache=n}getModule({context:t,request:r}){let s,n,o=Xy(t,r);if(this.cache?.has(o)){let i=this.cache.get(o);if(i.kind==="resolve")n=i.resolvedPath;else return i}try{n||=this.moduleResolver(t,r)}catch(i){return s={kind:r.endsWith("css")?"css":"js",value:null,error:i,request:r,context:t,resolvedPath:void 0},this.cache?.set(o,s),s}if(n.endsWith(".css")){let i="css";try{s={kind:i,value:this.fileProcessor.process(n),resolvedPath:n}}catch(a){s={kind:i,value:null,error:a,request:r,context:t,resolvedPath:n}}}else{let i="js";try{s={kind:i,value:this.requireModule(n),resolvedPath:n}}catch(a){s={kind:i,value:null,error:a,request:r,context:t,resolvedPath:n}}}return this.cache?.set(o,s),s}analyze(t){return this.fileProcessor.process(t)}resolvePath(t,r){let s=Xy(t,r),n=this.cache?.get(s)?.resolvedPath;return n!==void 0||(n=this.moduleResolver(t,r),this.cache?.set(s,{resolvedPath:n,value:null,kind:"resolve"})),n}resolveImported(t,r,s="mappedSymbols"){let n=this.getModule(t);if(n.value===null)return null;if(n.kind==="css"){let{value:o}=n,i=s==="mappedSymbols"?"main":s==="mappedKeyframes"?"keyframes":s;return r=!r&&i==="main"?o.root:r,{_kind:"css",symbol:se.getAll(o,i)[r],meta:o}}else{let{value:o}=n;return{_kind:"js",symbol:r?o[r]:o.default||o,meta:null}}}resolveImport(t){let r=t.type==="named"?t.name:"";return this.resolveImported(t.import,r)}resolve(t){if(!t||t._kind!=="import")if(t&&t._kind!=="var"&&t._kind!=="cssVar"&&t._kind!=="keyframes"&&t._kind!=="layer"&&t._kind!=="container")if(t.alias&&!t["-st-extends"])t=t.alias;else if(t["-st-extends"])t=t["-st-extends"];else return null;else if(t&&t._kind==="cssVar")if(t.alias)t=t.alias;else return null;else return null;return!t||t._kind!=="import"?null:this.resolveImport(t)}deepResolve(t,r=[]){let s=this.resolve(t);for(;s&&s._kind==="css"&&s.symbol&&s.symbol._kind==="import";)s=this.resolve(s.symbol);return s&&s.symbol&&s.meta&&((s.symbol._kind==="class"||s.symbol._kind==="element")&&s.symbol.alias&&!s.symbol["-st-extends"]||s.symbol._kind==="cssVar"&&s.symbol.alias)?r.includes(s.symbol)?{_kind:"css",symbol:s.symbol,meta:s.meta}:(r.push(s.symbol),this.deepResolve(s.symbol.alias,r)):s}resolveSymbolOrigin(t,r,s=[]){if(!t||!r)return null;if(t._kind==="element"||t._kind==="class")return s.includes(t)?{meta:r,symbol:t,_kind:"css"}:(s.push(t),t.alias&&!t["-st-extends"]?this.resolveSymbolOrigin(t.alias,r,s):{meta:r,symbol:t,_kind:"css"});if(t._kind==="cssVar"){if(s.includes(t))return{meta:r,symbol:t,_kind:"css"}}else if(t._kind==="import"){let n=this.resolveImport(t);return n&&n.symbol&&n._kind==="css"?this.resolveSymbolOrigin(n.symbol,n.meta,s):null}return null}resolveSymbols(t,r){let s={mainNamespace:{},class:{},element:{},var:{},js:{},customValues:{...Ky},keyframes:{},layer:{},container:{},cssVar:{},import:{}};for(let[n,o]of Object.entries(t.getAllSymbols())){let i;if(o._kind==="import"||o._kind==="cssVar"&&o.alias){if(i=this.deepResolve(o),!i||!i.symbol)continue;if(i?._kind==="js"){s.js[n]=i,s.mainNamespace[n]="js";let a=i.symbol;Jy(a)&&(s.customValues[n]=a.register(n));continue}else o._kind!=="cssVar"&&(i.symbol._kind==="class"||i.symbol._kind==="element")&&(i={_kind:"css",meta:t,symbol:U.createSymbol({name:n,alias:o})})}else i={_kind:"css",meta:t,symbol:o};switch(i.symbol._kind){case"class":s.class[n]=this.resolveExtends(t,i.symbol,!1,void 0,kN(t,n,r,i));break;case"element":s.element[n]=this.resolveExtends(t,n,!0);break;case"var":s.var[n]=i;break;case"cssVar":s.cssVar[n]=i;break}s.mainNamespace[n]=i.symbol._kind}for(let[n,o]of Object.entries(Oe.getAll(t))){let i=Iu(t,o,this,"keyframes");i&&(s.keyframes[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}for(let[n,o]of Object.entries(xe.getAll(t))){let i=Iu(t,o,this,"layer");i&&(s.layer[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}for(let[n,o]of Object.entries(we.getAll(t))){let i=Iu(t,o,this,"container");i&&(s.container[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}return s}resolveExtends(t,r,s=!1,n,o){let i=typeof r=="string"?r:r.name,a=typeof r=="string"?s?t.getTypeElement(r):t.getClass(r):r,l=s?null:be.getCustomSelectorExpended(t,i);if(!a&&!l)return[];if(l&&n){let f=n.resolveSelectorElements(t,l);return f.length===1?f[0][f[0].length-1].resolved:[]}if(!a)return[];let u={_kind:"css",symbol:a,meta:t},c=[];for(;u?.symbol&&!PN(c,u);){c.push(u);let f=u.symbol["-st-extends"]||u.symbol.alias;if(f)if(f._kind==="import"){let p=this.resolve(f);if(p&&p._kind==="css"&&p.symbol&&(p.symbol._kind==="element"||p.symbol._kind==="class")){let{_kind:d,meta:m,symbol:S}=p;u={_kind:d,meta:m,symbol:S}}else{o&&o(p,f,c,t,i,s);break}}else u={_kind:"css",symbol:f,meta:u.meta};else break}return c}};function Xy(e,t){return`${e}${DN}${t}`}function kN(e,t,r,s){return(n,o)=>{let i=bh(e.sourceAst,"."+t);i?n&&n._kind==="js"?r.report(U.diagnostics.CANNOT_EXTEND_JS(),{node:i,word:i.value}):n&&!n.symbol?r.report(U.diagnostics.CANNOT_EXTEND_UNKNOWN_SYMBOL(o.name),{node:i,word:i.value}):r.report(U.diagnostics.IMPORT_ISNT_EXTENDABLE(),{node:i,word:i.value}):s?.symbol.alias&&e.sourceAst.walkRules(new RegExp("\\."+t),a=>(r.report(U.diagnostics.UNKNOWN_IMPORT_ALIAS(t),{node:a,word:t}),!1))}}function jr(e,t){let r=new WeakMap;return s=>{let n=r.get(s);return n||(n=e.resolveSymbols(s,t),r.set(s,n)),n}}function Iu(e,t,r,s){let n={meta:e,symbol:t};for(;"import"in n.symbol&&n.symbol.import;){let o=r.resolveImported(n.symbol.import,n.symbol.name,s);if(o?._kind==="css"&&o.symbol?._kind===s)({meta:n.meta,symbol:n.symbol}=o);else return}if(n.symbol?._kind===s)return n}var ii=I(Pe()),gg=I(Ae());var fn=I(Pe());var ni=I(mg());function rr(e,t,r=!1){let s=(0,ni.parseValues)(e.value);s.nodes.forEach(n=>ku(n,t,1)),r&&(e.value=(0,ni.stringifyValues)(s))}function ku(e,t,r){switch(e.type){case"value":case"values":t(e,r),e.nodes.forEach(s=>ku(s,t,r));break;case"url":case"item":t(e,r);break;case"nested-item":t(e,r),e.nodes.forEach(s=>ku(s,t,r+1));break}}function y0(e){return e===""||e.startsWith("data:")||g0(e)}function g0(e){if(e=e.trim(),e.includes(" "))return!1;try{return new URL(e),!0}catch{return!1}}function S0(e){return!y0(e)}function Mu(e,t,r){e.walkDecls(s=>{rr(s,n=>{if(n.type==="url"){if(!n.url||!S0(n.url)||!n.url.startsWith("."))return;let o=fn.default.join(fn.default.relative(fn.default.dirname(r),fn.default.dirname(t)),n.url).replace(/\\/gm,"/");n.url=Lu(o)}},!0)})}function Lu(e){return!e.startsWith("./")&&!e.startsWith("../")?"./"+e:e}var hg=I(jt());function oi(e){return e.replace(/\\(.)/g,"$1")}function Fu(e,t){return t?(0,hg.default)(t,{isIdentifier:!0})+"__"+e:e}var sr=class{constructor(t){this.valueHook=t.valueHook,this.stVarOverride=t.stVarOverride,this.getResolvedSymbols=t.getResolvedSymbols}evaluateValue(t,r){return vg(t.resolver,this.getResolvedSymbols,r.value,r.meta,r.node,r.stVarOverride||this.stVarOverride,this.valueHook,t.diagnostics,t.passedThrough,r.cssVarsMapping,r.args,r.rootArgument,r.initialNode)}},yg={FAIL_TO_EXECUTE_FORMATTER:y("15001","error",(e,t)=>`failed to execute formatter "${e}" with error: "${t}"`),UNKNOWN_FORMATTER:y("15002","error",e=>`cannot find native function or custom formatter called ${e}`)};function Sg(e,t,r,s,n,o,i,a){let l={};for(let u in e)l[u]=Vu(t.resolver,oi(e[u]),r,n,o,t.replaceValueHook,s,i,a,void 0);return l}function vg(e,t,r,s,n,o,i,a=new ie,l=[],u={},c=[],f,p){let d=new sr({stVarOverride:o,valueHook:i,getResolvedSymbols:t}),m=t(s),S=(0,gg.default)(r);S.walk(x=>{let{type:C,value:N}=x;if(C==="function"){if(N==="value")Se.hooks.transformValue({context:{meta:s,diagnostics:a,resolver:e,evaluator:d,getResolvedSymbols:t,passedThrough:l},data:{value:N,node:n,meta:s,stVarOverride:o,cssVarsMapping:u,args:c,rootArgument:f,initialNode:p},node:x});else if(N==="")x.resolvedValue=tt(N,x);else if(!m.customValues[N])if(N==="url"){let M=x.nodes[0];if((M.type==="word"||M.type==="string")&&M.value.startsWith("~")){let Q=(0,ii.dirname)(s.source);M.value=Lu((0,ii.relative)(Q,e.resolvePath(Q,M.value.slice(1))).replace(/\\/gm,"/"))}}else if(N==="format")x.resolvedValue=tt(N,x,!0);else if(m.js[N]){let M=m.js[N],Q=$r(x);try{x.resolvedValue=M.symbol.apply(null,Q),d.valueHook&&typeof x.resolvedValue=="string"&&(x.resolvedValue=d.valueHook(x.resolvedValue,{name:x.value,args:Q},!0,l))}catch(Vt){x.resolvedValue=tt(N,x),a&&n&&a.report(yg.FAIL_TO_EXECUTE_FORMATTER(x.resolvedValue,Vt?.message),{node:n,word:n.value})}}else if(N==="var")he.hooks.transformValue({context:{meta:s,diagnostics:a,resolver:e,evaluator:d,getResolvedSymbols:t,passedThrough:l},data:{value:N,node:n,meta:s,stVarOverride:o,cssVarsMapping:u,args:c,rootArgument:f,initialNode:p},node:x});else if(bl[N]){let{preserveQuotes:M}=bl[N];x.resolvedValue=tt(N,x,M)}else n&&(x.resolvedValue=tt(N,x),a.report(yg.UNKNOWN_FORMATTER(N),{node:n,word:N}))}},!0);let h="",v=null,T=null,A;for(let x of S.nodes)if(x.type==="function"){let C=m.customValues[x.value];if(C)try{v=C.evalVarAst(x,m.customValues,!0),T=He(v,!0,m.customValues,x);try{h+=C.getValue(c,v,x,m.customValues)}catch(N){if(N instanceof an)h+=N.fallbackValue;else throw N}}catch(N){A=N;let M=p||n;M&&a.report(Se.diagnostics.COULD_NOT_RESOLVE_VALUE([...f?[f]:[],...c].join(", ")),{node:M,word:r})}else h+=ht([x])}else h+=ht([x]);return{outputValue:h,topLevelType:v,typeError:A,runtimeValue:T}}function Vu(e,t,r,s,n,o,i,a=[],l,u=[],c=jr(e,i||new ie)){return vg(e,c,t,r,s,n,o,i,a,l,u).outputValue}var $u=I(Ae()),Ue={FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:Le.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR,NO_VARS_DEF_IN_ST_SCOPE:y("07002","error",()=>'cannot define ":vars" inside of "@st-scope"'),DEPRECATED_ST_FUNCTION_NAME:y("07003","info",(e,t)=>`"${e}" is deprecated, use "${t}"`),CYCLIC_VALUE:y("07004","error",e=>`Cyclic value definition detected: "${e.map((t,r)=>(r===e.length-1?"\u21BB ":r===0?"\u2192 ":"\u21AA ")+t).join(`
`)}"`),MISSING_VAR_IN_VALUE:y("07005","error",()=>"invalid value() with no var identifier"),COULD_NOT_RESOLVE_VALUE:y("07006","error",e=>`cannot resolve value function${e?` using the arguments provided: "${e}"`:""}`),MULTI_ARGS_IN_VALUE:y("07007","error",e=>`value function accepts only a single argument: "value(${e})"`),CANNOT_USE_AS_VALUE:y("07008","error",(e,t)=>`${e} "${t}" cannot be used as a variable`),CANNOT_USE_JS_AS_VALUE:y("07009","error",(e,t)=>`JavaScript ${e} import "${t}" cannot be used as a variable`),UNKNOWN_VAR:y("07010","error",e=>`unknown var "${e}"`),UNKNOWN_CUSTOM_PROP:y("07011","info",e=>`${e.length>1?`Unknown custom-properties "${e.join(", ")}" are`:`Unknown custom-property "${e[0]}" is`} currently not namespaced. However, in Stylable 6, it will be namespaced to the stylesheet. To maintain the current behavior, either wrap the value in quotes or establish a global custom property. If you intend for the custom property to be namespaced based on a different stylesheet context where the variable may be utilized, please reconsider your approach, as this will not be supported in future versions.`)},v0=k({analyzeSelectorNode({context:e,node:t,rule:r}){if(!(t.type!=="pseudo_class"||t.value!=="vars")){if(r.selector===":vars")return et(r,"st-scope")?e.diagnostics.report(Ue.NO_VARS_DEF_IN_ST_SCOPE(),{node:r}):_0(e,r),ee.stopAll;e.diagnostics.report(Ue.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR(":vars"),{node:r})}},transformInit({context:e}){let{cssVar:t}=e.getResolvedSymbols(e.meta);for(let[r,s]of Object.entries(ue(e.meta,"var"))){let n=(0,$u.default)(ve(s.text)),o=[];n.walk(i=>{if(i.type==="function"&&i.value.toLowerCase()==="var")for(let a of i.nodes)a.type==="word"&&a.value.startsWith("--")&&!t[a.value]&&o.push(a.value)}),o.length&&e.diagnostics.report(Ue.UNKNOWN_CUSTOM_PROP(o),{node:s.node})}},prepareAST({node:e,toRemove:t}){e.type==="rule"&&e.selector===":vars"&&t.push(e)},transformResolve({context:e}){let t={},r=ue(e.meta,"var"),s={...e,diagnostics:new ie};for(let n of Object.keys(r)){let o=r[n],i=e.evaluator.evaluateValue(s,{value:ve(o.text),meta:e.meta,node:o.node});t[n]=i}return t},transformValue({context:e,node:t,data:r}){E0(e,t,r)},transformJSExports({exports:e,resolved:t}){for(let[r,{topLevelType:s,outputValue:n}]of Object.entries(t))e.stVars[r]=s?He(s):n}});function b0(e,t){return D(e,t,"var")}var Uu=class{constructor(t){this.stylable=t}getComputed(t){let r=new ie,s=jr(this.stylable.resolver,r),n=new sr({getResolvedSymbols:s}),{var:o}=s(t),i={};for(let[a,l]of Object.entries(o)){let u=new ie,{outputValue:c,topLevelType:f,runtimeValue:p}=n.evaluateValue({resolver:this.stylable.resolver,evaluator:n,meta:t,diagnostics:u},{meta:l.meta,value:ve(l.symbol.text),node:l.symbol.node}),d={value:p??c,input:f??He(c,!1),diagnostics:u};i[a]=d}return i}flatten(t){let r=this.getComputed(t),s=[];for(let[n,o]of Object.entries(r))s.push(...this.flatSingle(o.input,[n]));return s}flatSingle(t,r){let s=[];if(t.flatValue&&s.push({value:t.flatValue,path:r}),typeof t.value=="object"&&t.value!==null)for(let[n,o]of Object.entries(t.value))s.push(...this.flatSingle(typeof o=="string"?xu(o):o,[...r,n]));return s}};function ai(e){let t=new Set;return(0,$u.default)(e).walk(r=>{if(r.type==="function"&&r.value==="value")for(let s of r.nodes)switch(s.type){case"word":t.add(s.value);return;case"div":if(s.value===",")return}}),t}function _0(e,t){t.walkDecls(r=>{C0(e.meta,r),A0(e,r);let s=null,n=r.prev();if(n&&n.type==="comment"){let i=n.text.match(/^@type (.+)$/);i&&(s=i[1])}let o=r.prop;de({context:e,symbol:{_kind:"var",name:o,value:"",text:r.value,node:r,valueType:s},node:r})})}function A0(e,t){rr(t,r=>{if(r.type==="nested-item"&&wu[r.name]){let{alternativeName:s}=wu[r.name];e.diagnostics.report(Ue.DEPRECATED_ST_FUNCTION_NAME(r.name,s),{node:t,word:r.name})}},!1)}function C0(e,t){rr(t,r=>{r.type==="url"&&e.urls.push(r.url)},!1)}function E0(e,t,r){let{stVarOverride:s,value:n,node:o}=r,i=e.passedThrough||[],a=ei.args(t).map(c=>c.value),l=a[0],u=a.slice(1);if(!l)o&&e.diagnostics.report(Ue.MISSING_VAR_IN_VALUE(),{node:o,word:ht(t)});else if(a.length>=1){if(s?.[l]){t.resolvedValue=s?.[l];return}let c=w0(r.meta.source,l);if(i.includes(c)){x0(e,i,c,r.node,n,t);return}let f=e.getResolvedSymbols(r.meta),p=f.var[l],d=p?.symbol,m=D(e.meta,l);if(d){let{outputValue:S,topLevelType:h,typeError:v}=e.evaluator.evaluateValue({...e,passedThrough:i.concat(c)},{...r,value:ve(d.text),args:u,node:d.node,meta:p.meta,rootArgument:l,initialNode:o});if(o){let T=a.join(", ");!v&&!h&&a.length>1&&e.diagnostics.report(Ue.MULTI_ARGS_IN_VALUE(T),{node:o})}t.resolvedValue=e.evaluator.valueHook?e.evaluator.valueHook(S,l,!0,i):S}else if(m){let S=f.mainNamespace[l];if(S==="js"){let h=f.js[l],v=typeof h.symbol;v==="string"?t.resolvedValue=e.evaluator.valueHook?e.evaluator.valueHook(h.symbol,l,!1,i):h.symbol:o&&e.diagnostics.report(Ue.CANNOT_USE_JS_AS_VALUE(v,l),{node:o,word:l})}else if(S){let h=f[S][l],v={_kind:"css",meta:r.meta,symbol:m};h instanceof Array?v=h[h.length-1]:h._kind==="css"&&(v=h),T0(e,l,v,o)}else o&&e.diagnostics.report(Ue.UNKNOWN_VAR(l),{node:o,word:l})}else o&&e.diagnostics.report(Ue.UNKNOWN_VAR(l),{node:o,word:l})}}function qu(e,t){let r=new Set,s=[{meta:e.meta,name:t}],n=new Set;for(;s.length;){let{meta:o,name:i}=s.shift(),a=o.source+"/"+i;if(!n.has(a)){n.add(a),r.add(i);let l=D(o,i);switch(l?._kind){case"var":ai(l.text).forEach(u=>s.push({meta:o,name:u}));break;case"import":{let u=e.resolver.deepResolve(l);u?._kind==="css"&&u.symbol._kind==="var"&&s.push({meta:u.meta,name:u.symbol.name});break}}}}return r}function T0(e,t,r,s){let n=r.symbol,o=n._kind==="class"&&n["-st-root"]?"stylesheet":n._kind;s&&e.diagnostics.report(Ue.CANNOT_USE_AS_VALUE(o,t),{node:s,word:t})}function x0(e,t,r,s,n,o){if(s){let i=t.map(a=>a||"");i.push(r),e.diagnostics.report(Ue.CYCLIC_VALUE(i),{node:s,word:r})}return tt(n,o)}function w0(e,t){return`${e}: ${t}`}var be={};pe(be,{CUSTOM_SELECTOR_RE:()=>ju,diagnostics:()=>Wu,getCustomSelector:()=>zu,getCustomSelectorExpended:()=>bg,getCustomSelectorNames:()=>I0,getCustomSelectors:()=>Gu,hooks:()=>R0,isScoped:()=>N0,transformCustomSelectorInline:()=>_g});var Bu=I(it());var Wu={UNKNOWN_CUSTOM_SELECTOR:y("18001","error",e=>`The selector '${e}' is undefined`)},yt=_.key("st-custom-selector"),ju=/:--[\w-]+/g,R0=k({metaInit({meta:e}){_.set(e.data,yt,{})},analyzeAtRule({context:e,atRule:t,analyzeRule:r}){let n=t.params.split(/\s/).shift();if(n&&n.match(ju)){let o=t.params.replace(n,"").trim(),i=L(o,{clone:!0}),a=r(ye({selector:o,source:t.source}),{isScoped:!1,originalNode:t}),l=_.getUnsafe(e.meta.data,yt),u=n.slice(3);l[u]={selector:o,ast:i,isScoped:a,def:t}}},analyzeDone(e){let t=_.getUnsafe(e.meta.data,yt),r={};for(let[n,o]of Object.entries(t))r[n]=o.ast;let s=mh(r,n=>{if(n.type==="unknown"&&t[n.origin]){let o=`:--${n.unknown}`;e.diagnostics.report(Wu.UNKNOWN_CUSTOM_SELECTOR(o),{node:t[n.origin].def,word:o})}else n.type});for(let[n,o]of Object.entries(s))t[n].ast=o,t[n].selector=(0,Bu.stringifySelectorAst)(o)},prepareAST({context:e,node:t,toRemove:r}){t.type==="rule"&&t.selector.match(ju)?t.selector=_g(e.meta,t.selector,{diagnostics:e.diagnostics,node:t}):t.type==="atrule"&&t.name==="custom-selector"&&r.push(t)},transformSelectorNode({context:e,selectorContext:t,node:r}){let s=r.value.startsWith("--")&&bg(e.meta,r.value.slice(2));if(s){let n=L(s,{clone:!0}),o=t.createNestedContext(n);t.scopeSelectorAst(o);let i=t.experimentalSelectorInference?o.inferredMultipleSelectors:o.inferredSelector;t.setNextSelectorScope(i,r),t.transform&&t.transformIntoMultiSelector(r,n)}return!!s},transformAtRuleNode({atRule:e}){e.name==="custom-selector"&&e.remove()}});function N0(e,t){return _.getUnsafe(e.data,yt)[t]?.isScoped}function zu(e,t){return _.getUnsafe(e.data,yt)[t]?.ast}function Gu(e){let t=_.getUnsafe(e.data,yt);return Object.entries(t).reduce((r,[s,{ast:n}])=>(r[s]=n,r),{})}function bg(e,t){return _.getUnsafe(e.data,yt)[t]?.selector}function I0(e){let t=_.getUnsafe(e.data,yt);return Object.keys(t).map(r=>`:--${r}`)}function _g(e,t,r={}){let s=L(t,{clone:!0}),n=_.getUnsafe(e.data,yt),o=Xs(s,i=>n[i]?.ast,i=>{if(r.diagnostics&&r.node){let a=`:--${i.unknown}`;r.diagnostics.report(Wu.UNKNOWN_CUSTOM_SELECTOR(a),{node:r.node,word:a})}});return(0,Bu.stringifySelectorAst)(o)}var ir={};pe(ir,{createBooleanStateClassName:()=>nc,createStateWithParamClassName:()=>oc,delimiters:()=>DI,diagnostics:()=>OI,hooks:()=>PI,isTemplateState:()=>xi,parsePseudoStates:()=>Ci,parseStateValue:()=>Ei,resolveStateParam:()=>ic,sysValidationErrors:()=>Ce,systemValidators:()=>hn,transformPseudoClassToCustomState:()=>Ti});var or=I(Ae()),_i=I(jt());var Qg=I(Xu());function yi(e,t,r){return vi(e,t,()=>!0,r)}function gi(e,t,r){let[s,n,o]=dn(e,t,{...r,name:"="});if(s){let i=e[t+s];if(Si(i,">"))return[s+1,i,s+1]}return[0,void 0,o]}function Si(e,t){return e&&e.type==="literal"&&e.value===t}function Zu(e,t,r){let s=r?.name||"",n=t;for(;n<e.length;){let[o,i]=dn(e,n,{...r,name:"."});if(o){n+=o;let[a,l]=mn(e,n,{name:s,stopOnFail:!0});if(a)return[o+a,l,n-t+1]}if(r?.stopOnFail)break;n++}return[0,void 0,e.length-t]}function ec(e,t,r){let s=r?.name||"",n=t;for(;n<e.length;){let[o]=dn(e,n,{...r,name:":"});if(o){n+=o;let i={name:s,stopOnFail:!0,ignoreComments:!0,ignoreWhitespace:!1},[a,l]=mn(e,n,i);if(a)return[o+a,l,n-t+1];{let[u,c]=tc(e,n,i);if(u)return[o+u,c,n-t+1];break}}else{if(r?.stopOnFail)break;n++}}return[0,void 0,e.length-t]}function Hg(e,t,r){let s=t;for(;s<e.length;){let[n]=dn(e,s,{...r,name:":"});if(n){s+=n;let[o]=dn(e,s,{...r,name:":",stopOnFail:!0,ignoreWhitespace:!1});if(o){s+=o;let[i,a]=mn(e,s,{...r,stopOnFail:!0});if(a)return[s-t+i,a,s-t+i]}}if(r?.stopOnFail)break;s++}return[0,void 0,s-t]}function dn(e,t,r){let s=r?.name||"";return vi(e,t,n=>n.type==="literal"&&(!s||n.value===s),r)}function mn(e,t,r){let s=r?.name||"";return vi(e,t,n=>n.type==="<custom-ident>"&&(!s||n.value===s),r)}function tc(e,t,r){let s=r?.name||"";return vi(e,t,n=>n.type==="call"&&(!s||n.value===s),r)}function vi(e,t,r,{stopOnFail:s=!0,ignoreWhitespace:n=!0,ignoreComments:o=!0,stopOnMatch:i}={}){let a=t;for(;a<e.length;){let l=e[a];if(!(o&&l.type==="comment")){if(!(n&&l.type==="space")){if(r(l))return[a-t+1,l,a-t+1];if(s||i?.(l,a,e))break}}a++}return[0,void 0,a-t]}var Kr="-",Ai="--",rc=Ai+Kr,ce={MISSING_TYPE_OR_TEMPLATE:y("08000","error",e=>`pseudo-state "${e}" missing type or template`),UNKNOWN_STATE_TYPE:y("08002","error",(e,t)=>`pseudo-state "${e}" defined with unknown type: "${t}"`),TOO_MANY_STATE_TYPES:y("08003","error",(e,t)=>`pseudo-state "${e}(${t.join(", ")})" definition must be of a single type`),NO_STATE_TYPE_GIVEN:y("08005","warning",e=>`pseudo-state "${e}" expected a definition of a single type, but received none`),TOO_MANY_ARGS_IN_VALIDATOR:y("08006","error",(e,t,r)=>`pseudo-state "${e}" expected "${t}" validator to receive a single argument, but it received "${r.join(", ")}"`),STATE_STARTS_WITH_HYPHEN:y("08007","error",e=>`state "${e}" declaration cannot begin with a "${Kr}" character`),RESERVED_NATIVE_STATE:y("08008","warning",e=>`state "${e}" is reserved for native pseudo-class`),DEFAULT_PARAM_FAILS_VALIDATION:y("08010","error",(e,t,r)=>`pseudo-state "${e}" default value "${t}" failed validation:
${r.join(`
`)}`),NO_STATE_ARGUMENT_GIVEN:y("08004","error",(e,t)=>`pseudo-state "${e}" expected argument of type "${t}" but got none`),FAILED_STATE_VALIDATION:y("08009","error",(e,t,r)=>[`pseudo-state "${e}" with parameter "${t}" failed validation:`,...r].join(`
`)),TEMPLATE_MISSING_PLACEHOLDER:y("08011","warning",(e,t)=>`pseudo-state "${e}" template "${t}" is missing a placeholder, use "$0" to set the parameter insertion place`),TEMPLATE_MULTI_PARAMETERS:y("08012","error",e=>`pseudo-state "${e}" template only supports a single parameter`),TEMPLATE_MISSING_PARAMETER:y("08013","error",e=>`pseudo-state "${e}" template expected a parameter definition`),UNSUPPORTED_MULTI_SELECTOR:y("08014","error",(e,t)=>`pseudo-state "${e}" resulted in an unsupported multi selector "${t}"`),UNSUPPORTED_COMPLEX_SELECTOR:y("08015","error",(e,t)=>`pseudo-state "${e}" resulted in an unsupported complex selector "${t}"`),INVALID_SELECTOR:y("08016","error",(e,t)=>`pseudo-state "${e}" resulted in an invalid selector "${t}"`),UNSUPPORTED_INITIAL_SELECTOR:y("08017","error",(e,t)=>`pseudo-state "${e}" result cannot start with a type or universal selector "${t}"`),NO_PARAM_REQUIRED:y("08018","error",(e,t)=>`pseudo-state "${e}" accepts no parameter, but received "${t}"`)};function Ci(e,t,r){let s={},n=(0,or.default)(e);return Zo(n.nodes).forEach(i=>{let[a,...l]=i,u=a.value;Kg(u,r,t)&&(a.type==="function"?Yg(a,s,l,r,t):a.type==="word"&&sc(s,a))}),s}function Kg(e,t,r){if(e.startsWith("-"))t.report(ce.STATE_STARTS_WITH_HYPHEN(e),{node:r,word:e});else if(vl.includes(e))return t.report(ce.RESERVED_NATIVE_STATE(e),{node:r,word:e}),!1;return!0}function Ei(e,t,r){let s="",n=null,o=0,i=mn(e,0),[a,l]=i[0]?i:tc(e,0);if(l&&Kg(l.value,r,t)&&(o+=a,s=l.value,l.type==="call")){o=e.length;let u=(0,or.default)((0,Qg.stringifyCSSValue)(e.slice(a-1))),[c,...f]=u.nodes,p={};Yg(c,p,f,r,t),p[s]&&(n=p[s])}return s?[o,n]:[0,void 0]}function sc(e,t){e[t.value]||(e[t.value]=null)}function Yg(e,t,r,s,n){let o=e.value;if(e.nodes.length===0){sc(t,e),s.report(ce.NO_STATE_TYPE_GIVEN(o),{node:n,word:n.value});return}let{paramType:i,argsFirstNode:a,argsFullValue:l}=TI(e.nodes);if(!i){s.report(ce.MISSING_TYPE_OR_TEMPLATE(o),{node:n});return}i?.type==="string"?CI(o,i,a,l,t,s,n):(l.length>1&&s.report(ce.TOO_MANY_STATE_TYPES(o,a.map(u=>u?or.default.stringify(u):"")),{node:n,word:n.value}),EI(o,i,r,t,s,e,n))}function CI(e,t,r,s,n,o,i){let a=ve(or.default.stringify(t));if(s.length===1)n[e]=a.trim().replace(/\\["']/g,'"');else if(s.length===2){a.includes("$0")||o.report(ce.TEMPLATE_MISSING_PLACEHOLDER(e,a),{node:i,word:a});let l=s[1],u=r[1];if(!u){o.report(ce.TEMPLATE_MISSING_PARAMETER(e),{node:i});return}let c=Jg(e+" parameter",u,l.splice(l.indexOf(u)+1),o,i);if(!c)return;let f={type:"template",template:a,params:[c]};n[e]=f}else o.report(ce.TEMPLATE_MULTI_PARAMETERS(e),{node:i})}function EI(e,t,r,s,n,o,i){if(t.value==="boolean")sc(s,o);else{let a=Jg(e,t,r,n,i);a&&(s[e]=a)}}function Jg(e,t,r,s,n){let o=t.value;if(o in hn&&(t.type==="function"||t.type==="word")){let i={type:o,arguments:[],defaultValue:or.default.stringify(r).trim()};return t.type==="function"&&t.nodes.length>0&&xI(t,i,e,s,n),i}else{let i=or.default.stringify(t);s.report(ce.UNKNOWN_STATE_TYPE(e,i),{node:n,word:i});return}}function TI(e){let t=[],r=[],s=[],n;for(let i of e)i.type==="div"?(t.push(s),r.push(n),s=[],n=void 0):(s.push(i),!n&&i.type!=="space"&&i.type!=="comment"&&(n=i));return s.length&&(t.push(s),r.push(n)),{paramType:r[0],argsFullValue:t,argsFirstNode:r}}function xI(e,t,r,s,n){Zo(e.nodes).forEach(i=>{let a=i[0];if(a.type==="function"){let l=Wy(a);l.length>1?s.report(ce.TOO_MANY_ARGS_IN_VALIDATOR(r,a.value,l),{node:n,word:n.value}):t.arguments.push({name:a.value,args:l})}else(a.type==="string"||a.type==="word")&&t.arguments.push(a.value)})}var Ce={string:{STRING_TYPE_VALIDATION_FAILED:e=>`"${e}" should be of type string`,REGEX_VALIDATION_FAILED:(e,t)=>`expected "${t}" to match regex "${e}"`,CONTAINS_VALIDATION_FAILED:(e,t)=>`expected "${t}" to contain string "${e}"`,MIN_LENGTH_VALIDATION_FAILED:(e,t)=>`expected "${t}" to be of length longer than or equal to ${e}`,MAX_LENGTH_VALIDATION_FAILED:(e,t)=>`expected "${t}" to be of length shorter than or equal to ${e}`,UKNOWN_VALIDATOR:e=>`encountered unknown string validator "${e}"`},number:{NUMBER_TYPE_VALIDATION_FAILED:e=>`expected "${e}" to be of type number`,MIN_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be larger than or equal to ${t}`,MAX_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be lesser then or equal to ${t}`,MULTIPLE_OF_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be a multiple of ${t}`,UKNOWN_VALIDATOR:e=>`encountered unknown number validator "${e}"`},enum:{ENUM_TYPE_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be one of the options: "${t.join(", ")}"`,NO_OPTIONS_DEFINED:()=>"expected enum to be defined with one option or more"}},hn={string:{validate(e,t,r,s,n){let o=e,i=[];return n&&typeof e!="string"&&i.push(Ce.string.STRING_TYPE_VALIDATION_FAILED(e)),t.length>0&&t.forEach(a=>{if(typeof a=="object")if(this.subValidators&&this.subValidators[a.name]){let l=this.subValidators[a.name],u=l(e,r(a.args[0]));n&&u.errors&&i.push(...u.errors)}else s&&i.push(Ce.string.UKNOWN_VALIDATOR(a.name))}),{res:o,errors:i.length?i:null}},subValidators:{regex:(e,t)=>{let s=new RegExp(t).test(e);return{res:e,errors:s?null:[Ce.string.REGEX_VALIDATION_FAILED(t,e)]}},contains:(e,t)=>{let r=!!~e.indexOf(t);return{res:e,errors:r?null:[Ce.string.CONTAINS_VALIDATION_FAILED(t,e)]}},minLength:(e,t)=>{let r=e.length>=Number(t);return{res:e,errors:r?null:[Ce.string.MIN_LENGTH_VALIDATION_FAILED(t,e)]}},maxLength:(e,t)=>{let r=e.length<=Number(t);return{res:e,errors:r?null:[Ce.string.MAX_LENGTH_VALIDATION_FAILED(t,e)]}}}},number:{validate(e,t,r,s,n){let o=e,i=[];return isNaN(e)?n&&i.push(Ce.number.NUMBER_TYPE_VALIDATION_FAILED(e)):t.length>0&&t.forEach(a=>{if(typeof a=="object")if(this.subValidators&&this.subValidators[a.name]){let l=this.subValidators[a.name],u=l(e,r(a.args[0]));n&&u.errors&&i.push(...u.errors)}else s&&i.push(Ce.number.UKNOWN_VALIDATOR(a.name))}),{res:o,errors:i.length?i:null}},subValidators:{min:(e,t)=>{let r=Number(e)>=Number(t);return{res:e,errors:r?null:[Ce.number.MIN_VALIDATION_FAILED(e,t)]}},max:(e,t)=>{let r=Number(e)<=Number(t);return{res:e,errors:r?null:[Ce.number.MAX_VALIDATION_FAILED(e,t)]}},multipleOf:(e,t)=>{let r=Number(e)%Number(t)===0;return{res:e,errors:r?null:[Ce.number.MULTIPLE_OF_VALIDATION_FAILED(e,t)]}}}},enum:{validate(e,t,r,s,n){let o=e,i=[],a=[];if(t.length){let l=t.some(u=>typeof u=="string"?(a.push(u),r(u)===e):!0);n&&!l&&i.push(Ce.enum.ENUM_TYPE_VALIDATION_FAILED(e,a))}else s&&i.push(Ce.enum.NO_OPTIONS_DEFINED());return{res:o,errors:i.length?i:null}}}};function Xg(e,t,r,s,n){let o=L(e);if(o.length&&o.length===1){let a=o[0].nodes;if(a.length===1&&a[0].type==="class"){let l=a[0].value,u=U.get(r,l),c=u?.["-st-states"];if(c&&u._kind==="class")for(let f in c){let p=c[f];if(p&&typeof p=="object"){let d=xi(p)?p.params[0]:p,{errors:m}=wI(d,r,d.defaultValue||"",s,n,t,!0,!!d.defaultValue);if(m){for(let S of t.nodes)if(S.type==="decl"&&S.prop==="-st-states"){n.report(ce.DEFAULT_PARAM_FAILS_VALIDATION(f,d.defaultValue||"",m),{node:S,word:S.value});break}}}}}}}function wI(e,t,r,s,n,o,i,a=!0){let l={res:bi(t,s,n,o,r||e.defaultValue),errors:null},{type:u}=e,c=hn[u];try{if(l.res||i){let{errors:f}=c.validate(l.res,e.arguments,bi.bind(null,t,s,n,o),!!i,a);l.errors=f}}catch{}return l}function Ti(e,t,r,s,n,o,i,a){e===null||typeof e=="string"?(s.nodes&&a&&i.report(ce.NO_PARAM_REQUIRED(r,Y(s.nodes)),{node:a,word:Y(s)}),e===null?Ys(s).value=nc(r,n):fh(s).value=e,delete s.nodes):typeof e=="object"&&(xi(e)?RI(t,o,i,a,s,e,r):NI(t,o,i,a,s,e,r,n))}function xi(e){return!!e&&typeof e=="object"&&e.type==="template"}function nc(e,t){return`${(0,_i.default)(t,{isIdentifier:!0})}${Ai}${e}`}function oc(e,t,r){return`${(0,_i.default)(t,{isIdentifier:!0})}${rc}${e}${ic(r,!0)}`}function ic(e,t=!1){let r=`${Kr}${e.length}${Kr}${e.replace(/\s/gm,"_")}`;return t?(0,_i.default)("s"+r,{isIdentifier:!0}).slice(1):r}function RI(e,t,r,s,n,o,i){let a=o.params[0],l=Zg(e,t,r,s,n,a,i);eS(e,t,r,s,a,l,i);let u=ve(l);II({stateName:i,template:o.template,param:u,node:n,selectorNode:s,diagnostics:r})}function Zg(e,t,r,s,n,o,i){let a=n.nodes&&n.nodes.length?Y(n.nodes):"",l=bi(e,t,r,s,a||o.defaultValue);return s&&!a&&!o.defaultValue&&r.report(ce.NO_STATE_ARGUMENT_GIVEN(i,o.type),{node:s,word:i}),l}function eS(e,t,r,s,n,o,i){let a=hn[n.type],l;try{l=a.validate(o,n.arguments,bi.bind(null,e,t,r,s),!1,!0)}catch{}l!==void 0&&(l.res!==o&&(o=l.res),s&&l.errors&&r.report(ce.FAILED_STATE_VALIDATION(i,o,l.errors),{node:s,word:o}))}function NI(e,t,r,s,n,o,i,a){let l=Zg(e,t,r,s,n,o,i);eS(e,t,r,s,o,l,i);let u=ve(l);Ys(n).value=oc(i,a,u),delete n.nodes}function II({stateName:e,template:t,param:r,node:s,selectorNode:n,diagnostics:o}){let i=t.replace(/\$0/g,r),a=L(i,{clone:!0});if(a.length>1){n&&o.report(ce.UNSUPPORTED_MULTI_SELECTOR(e,i),{node:n});return}else{let l=a[0].nodes.find(({type:c})=>c!=="comment");if(l?.type==="type"||l?.type==="universal"){n&&o.report(ce.UNSUPPORTED_INITIAL_SELECTOR(e,i),{node:n});return}let u;for(let c of a[0].nodes)if(c.type==="combinator"||c.type==="invalid"){u=c;break}if(u){if(n)switch(u.type){case"combinator":o.report(ce.UNSUPPORTED_COMPLEX_SELECTOR(e,i),{node:n});break;case"invalid":o.report(ce.INVALID_SELECTOR(e,i),{node:n});break}return}}Yt(s).nodes=a[0].nodes}function bi(e,t,r,s,n){return Vu(t,n||"",e,s,void 0,void 0,r)}var OI={...ce},PI=k({}),DI={booleanStateDelimiter:Ai,stateMiddleDelimiter:Kr,stateWithParamDelimiter:rc};var vt={};pe(vt,{MixinType:()=>ar,StylablePublicApi:()=>uc,diagnostics:()=>St,hooks:()=>kI});var tS=I(Ae()),wi={INVALID_NAMED_PARAMS:Xo.INVALID_NAMED_PARAMS,VALUE_CANNOT_BE_STRING:y("10008","error",()=>"value can not be a string (remove quotes?)")};function ac(e,t,r,s=!0){let n=(0,tS.default)(e.value),o=[];function i(a,l){s&&r?.report(a,{...l,node:e})}return n.nodes.forEach(a=>{a.type==="function"?o.push({type:a.value,options:ei[t(a.value)](a,i),valueNode:a,originDecl:e}):a.type==="word"?o.push({type:a.value,options:t(a.value)==="named"?{}:[],valueNode:a,originDecl:e}):a.type==="string"&&r?.report(wi.VALUE_CANNOT_BE_STRING(),{node:e,word:e.value})}),o}function rS(e,t,r,s){return ac(e,t,r,s).map(n=>(n.partial=!0,n))}var sS=I(Ae());var nS=I(Pe());var lc=I(it()),ar={ALL:"-st-mixin",PARTIAL:"-st-partial-mixin"},St={VALUE_CANNOT_BE_STRING:wi.VALUE_CANNOT_BE_STRING,INVALID_NAMED_PARAMS:wi.INVALID_NAMED_PARAMS,INVALID_MERGE_OF:Zs.INVALID_MERGE_OF,INVALID_RECURSIVE_MIXIN:Zs.INVALID_RECURSIVE_MIXIN,PARTIAL_MIXIN_MISSING_ARGUMENTS:y("10001","error",e=>`"${ar.PARTIAL}" can only be used with override arguments provided, missing overrides on "${e}"`),UNKNOWN_MIXIN:y("10002","error",e=>`unknown mixin: "${e}"`),OVERRIDE_MIXIN:y("10003","warning",e=>`override ${e} on same rule`),FAILED_TO_APPLY_MIXIN:y("10004","error",e=>`could not apply mixin: ${e}`),JS_MIXIN_NOT_A_FUNC:y("10005","error",()=>"js mixin must be a function"),UNSUPPORTED_MIXIN_SYMBOL:y("10007","error",(e,t)=>`cannot mix unsupported symbol "${e}" of type "${zl[t]}"`),CIRCULAR_MIXIN:y("10006","error",e=>`circular mixin found: ${e.join(" --> ")}`),UNKNOWN_ARG:y("10009","warning",e=>`unknown mixin argument "${e}"`)},kI=k({transformSelectorNode({selectorContext:e,node:t}){let r=No(t);return r&&e.setNextSelectorScope(e.inferredSelectorMixin,t,t.value),r},transformLastPass({context:e,ast:t,transformer:r,cssVarsMapping:s,path:n}){t.walkRules(o=>MI(e,r,o,s,n))}}),uc=class{constructor(t){this.stylable=t}resolveExpr(t,r,{diagnostics:s=new ie,resolveOptionalArgs:n=!1}={}){let o=this.stylable.resolver.resolveSymbols(t,s),{mainNamespace:i}=o,a=oS({meta:t,diagnostics:s},o,_e({prop:"-st-mixin",value:r}),u=>i[u]==="js"?"args":"named"),l=[];for(let{data:u}of a){let c=u.type,f=i[c];if(f==="class"||f==="element"){let p={name:c,kind:"css-fragment",args:[],optionalArgs:new Map};for(let[d,m]of Object.entries(u.options))p.args.push({[d]:m});if(n){let d=new Map,m=o[f][c];aS(t,m,({mixinRoot:S})=>{let h=new Set;iS({meta:t,resolver:this.stylable.resolver},S,h),h.forEach(v=>d.set(v,{name:v}))}),p.optionalArgs=d}l.push(p)}else if(f==="js"&&typeof o.js[c].symbol=="function"){let p={name:c,kind:"js-func",args:[],func:o.js[c].symbol};for(let d of Object.values(u.options))p.args.push(d.value);l.push(p)}else l.push({name:c,kind:"invalid",args:u.valueNode?.type==="function"?sS.default.stringify(u.valueNode.nodes):""})}return l}scopeNestedSelector(t,r){return ut((0,lc.parseCssSelector)(t),(0,lc.parseCssSelector)(r)).selector}};function MI(e,t,r,s,n=[]){let[o,i]=LI(e,r);if(!(!i||i.length===0)){for(let a of i)a.valid&&FI(e,{transformer:t,mixDef:a,rule:r,path:n,cssPropertyMapping:s});for(let a of o)a.remove()}}function LI(e,t){let r=[],s=e.getResolvedSymbols(e.meta),{mainNamespace:n}=s,o=[];for(let i of t.nodes)i.type==="decl"&&(i.prop==="-st-mixin"||i.prop==="-st-partial-mixin")&&(o.push(i),r=oS(e,s,i,a=>n[a]==="js"?"args":"named",r));return[o,r]}function oS(e,t,r,s,n){let{meta:o}=e,i=[],a=r.prop===ar.ALL?ac:r.prop===ar.PARTIAL?rS:null;if(!a)return n||i;if(a(r,s,e.diagnostics,!0).forEach(l=>{let u=D(o,l.type),c=l.type,f=t.mainNamespace[c];f&&(f==="js"&&typeof t.js[c].symbol=="function"||f==="class"||f==="element")?(i.push({valid:!0,data:l,symbol:u}),l.partial&&Object.keys(l.options).length===0&&e.diagnostics.report(St.PARTIAL_MIXIN_MISSING_ARGUMENTS(l.type),{node:r,word:l.type})):(i.push({valid:!1,data:l,symbol:u}),f==="js"?e.diagnostics.report(St.JS_MIXIN_NOT_A_FUNC(),{node:r,word:l.type}):f?e.diagnostics.report(St.UNSUPPORTED_MIXIN_SYMBOL(l.type,f),{node:r,word:l.type}):e.diagnostics.report(St.UNKNOWN_MIXIN(l.type),{node:r,word:l.type}))}),n){let l=n.filter(f=>f.data.partial),u=n.filter(f=>!f.data.partial),c=r.prop===ar.PARTIAL;(l.length&&r.prop===ar.PARTIAL||u.length&&r.prop===ar.ALL)&&e.diagnostics.report(St.OVERRIDE_MIXIN(r.prop),{node:r}),l.length&&u.length?i=c?u.concat(i):l.concat(i):l.length?i=c?i:l.concat(i):u.length&&(i=c?u.concat(i):i)}return i}function FI(e,t){if(VI(e,t))return;let r=e.getResolvedSymbols(e.meta),s=t.mixDef.data.type,n=r.mainNamespace[s];if(n==="class"||n==="element"){let o=r[n][s];$I(e,t,o);return}else if(n==="js"){let o=r.js[s];if(typeof o.symbol=="function")try{UI(e,t,o.symbol)}catch(i){e.diagnostics.report(St.FAILED_TO_APPLY_MIXIN(String(i)),{node:t.rule,word:t.mixDef.data.type});return}return}}function VI({meta:e,diagnostics:t},{mixDef:r,path:s,rule:n}){let o=r.symbol.name===e.root?r.symbol._kind==="class"?e.root:"default":r.data.type;return s.includes(o+" from "+e.source)?(t.report(St.CIRCULAR_MIXIN(s),{node:n,word:o}),!0):!1}function UI(e,t,r){let s=e.evaluator.stVarOverride||{},n=e.meta,o=t.mixDef,i=r(o.data.options.map(u=>u.value)),a=zd(i);a.walkDecls(u=>{Ah(u)||(u.value=String(u))}),t.transformer.transformAst(a,n,void 0,s,[],!0);let l=o.symbol.import.request;Mu(a,e.resolver.resolvePath((0,nS.dirname)(n.source),l),n.source),Io(a,t.rule,o.data.originDecl,e.diagnostics,!0)}function $I(e,t,r){let s=t.mixDef,n=s.data.partial,o=s.data.options,i=Object.keys(o);if(n&&i.length===0)return;let a=new Set,l=aS(e.meta,r,({mixinRoot:u,resolved:c,isRootMixin:f})=>{let p=e.evaluator.stVarOverride||{},d=t.mixDef,m=d.data.options;d.data.partial&&qI(e.meta,u,Object.keys(m));let S=Sg(m,t.transformer,e.meta,e.diagnostics,d.data.originDecl,p,t.path,t.cssPropertyMapping);iS({meta:c.meta,resolver:e.resolver},u,a);let h=c.meta,v=f&&c.meta!==e.meta?"default":d.data.type;t.transformer.transformAst(u,h,void 0,S,t.path.concat(v+" from "+e.meta.source),!0,t.transformer.createInferredSelector(h,{name:c.symbol.name,type:c.symbol._kind})),Mu(u,c.meta.source,e.meta.source)});for(let u of i)a.has(u)||e.diagnostics.report(St.UNKNOWN_ARG(u),{node:s.data.originDecl,word:u});if(l.length===1)Io(l[0],t.rule,s.data.originDecl,t.transformer.diagnostics,!1);else if(l.length>1){let u=Sr();l.forEach(c=>u.prepend(...c.nodes)),Io(u,t.rule,s.data.originDecl,t.transformer.diagnostics,!1)}}function iS(e,t,r=new Set){t.walk(s=>{let n=s.type==="decl"?s.value:s.type==="atrule"?s.params:"",o=ai(n);for(let i of o)for(let a of qu(e,i))r.add(a)})}function aS(e,t,r){let s=[];for(let n of t){let o=n.symbol.name===n.meta.root,i=wo(n.meta.sourceAst,(n.symbol._kind==="class"?".":"")+n.symbol.name,void 0,o,a=>zu(e,a));if(r({mixinRoot:i,resolved:n,isRootMixin:o}),s.push(i),n.symbol["-st-extends"])break}return s}function qI(e,t,r){let s,n=new Set(r),o;do{o=n.size,s=new RegExp(`value\\((\\s*${Array.from(n).join("\\s*)|(\\s*")}\\s*)\\)`);for(let{text:i,name:a}of Object.values(e.getAllStVars()))!n.has(a)&&i.match(s)&&n.add(a)}while(n.size!==o);t.walkDecls(i=>{if(!i.value.match(s)){let a=i.parent;i.remove(),a?.nodes?.length===0&&a.remove()}})}var U={};pe(U,{StylablePublicApi:()=>pc,addClass:()=>lr,addDevRules:()=>HI,checkForScopedNodeAfter:()=>Ri,createSymbol:()=>yc,createWarningRule:()=>fS,diagnostics:()=>Qe,disableDirectivesForClass:()=>gc,extendTypedRule:()=>Yr,get:()=>Jr,getAll:()=>hc,hooks:()=>GI,namespaceClass:()=>yn,parseStExtends:()=>pS,validateClassScoping:()=>QI});function Lt(e){for(let t of e){let{symbol:r}=t;if(r._kind==="class"||r._kind==="element"){if(r.alias&&!r["-st-extends"])continue;return t}}return e[0]}var jI="__";function bt(e,t){return t?t+jI+e:e}function BI(){return{name:"",version:"0.0.0",dirPath:""}}function cc({prefix:e,namespace:t,hashSalt:r,paths:s,packageInfo:n}){return{namespace:e+t,hashPart:r+n.name+"@"+n.version+"/"+s.origin}}function lS(e,t,r,s){throw new Error(`Could not create namespace for:
${r}
the last valid namespace tried was ${JSON.stringify(t)}${s?` that was used by:
${s}
`:e?" ":""}${e?"running on strict mode":""}`)}function WI(e){let{prefix:t="",hashSalt:r="",hashFragment:s="minimal",buildNamespace:n=cc,getPackageInfo:o=BI,handleNoMatch:i=lS,hashSeparator:a="-",strict:l=!1,hashFn:u=en,normalizePath:c}=e,f=new Map;return(p,d,m=d)=>{let S=o(m),h={prefix:t,hashSalt:r,namespace:p,paths:{file:S.dirPath?c(S.dirPath,m):m,origin:S.dirPath?c(S.dirPath,d):d},packageInfo:S},{namespace:v,hashPart:T}=n(h)??cc(h),A=u(T).toString(),x=typeof s=="number"?s:s==="full"?A.length:0,C="";for(;x<=A.length;){let N=A.slice(0,x);C=v+(N?a+N:"");let M=f.get(C);if(!M)return f.set(C,m),C;if(M===m)return C;if(l)return i(l,C,m,M);x++}return i(l,C,m,f.get(C))}}var dc=I(it());var fc=I(Pe());var cS=I(Ae());var zI={"-st-root":!0,"-st-states":!0,"-st-extends":!0,"-st-global":!0},Qe={INVALID_FUNCTIONAL_SELECTOR:Le.INVALID_FUNCTIONAL_SELECTOR,UNSCOPED_CLASS:y("00002","warning",e=>`unscoped class "${e}" will affect all elements of the same type in the document`),STATE_DEFINITION_IN_ELEMENT:y("11002","error",()=>"cannot define pseudo states inside a type selector"),STATE_DEFINITION_IN_COMPLEX:y("11003","error",()=>"cannot define pseudo states inside complex selectors"),OVERRIDE_TYPED_RULE:y("11006","warning",(e,t)=>`override "${e}" on typed rule "${t}"`),CANNOT_RESOLVE_EXTEND:y("11004","error",e=>`cannot resolve '-st-extends' type for '${e}'`),CANNOT_EXTEND_IN_COMPLEX:y("11005","error",()=>'cannot define "-st-extends" inside a complex selector'),EMPTY_ST_GLOBAL:y("00003","error",()=>"-st-global must contain a valid selector"),UNSUPPORTED_MULTI_SELECTORS_ST_GLOBAL:y("00004","error",()=>"unsupported multi selector in -st-global"),IMPORT_ISNT_EXTENDABLE:y("00005","error",()=>"import is not extendable"),CANNOT_EXTEND_UNKNOWN_SYMBOL:y("00006","error",e=>`cannot extend unknown symbol "${e}"`),CANNOT_EXTEND_JS:y("00007","error",()=>"JS import is not extendable"),UNKNOWN_IMPORT_ALIAS:y("00008","error",e=>`cannot use alias for unknown import "${e}"`),DISABLED_DIRECTIVE:y("00009","error",(e,t)=>{let r=t==="-st-extends"?` use "@st .${e} :is(.base)" instead`:t==="-st-global"?`use "@st .${e} => :global(<selector>)" instead`:t==="-st-states"?`use "@st .${e} { @st .state; }" instead`:"";return`cannot use ${t} on .${e} since class is defined with "@st" - ${r}`})},mc=_.key("st-structure"),GI=k({metaInit({meta:e}){_.set(e.data,mc,{classesDefinedWithAtSt:new Set})},analyzeSelectorNode({context:e,node:t,rule:r}){t.nodes&&e.diagnostics.report(Qe.INVALID_FUNCTIONAL_SELECTOR("."+t.value,"class"),{node:r,word:Y(t)}),lr(e,t.value,r)},analyzeDeclaration({context:e,decl:t}){e.meta.type==="stylable"&&KI(t)&&YI(e,t)},transformResolve({context:e}){let t=e.getResolvedSymbols(e.meta),r={};for(let[s,n]of Object.entries(t.class)){let o=[],i=!0;for(let{meta:l,symbol:u}of n){if(!i&&u["-st-root"])break;if(i=!1,u["-st-global"]){let c=!0,f=u["-st-global"].reduce((p,d)=>(d.type==="class"?(p.push(d.value),e.meta.globals[d.value]=!0):c=!1,p),[]);c&&o.push(...f);continue}u.alias&&!u["-st-extends"]||o.push(bt(u.name,l.namespace))}let a=oi(o.join(" "));a&&(r[s]=a)}return r},transformSelectorNode({context:e,selectorContext:t,node:r}){let{originMeta:s,resolver:n}=t,i=e.getResolvedSymbols(e.meta).class[r.value]||[{_kind:"css",meta:s,symbol:yc({name:r.value})}];t.setNextSelectorScope(i,r,r.value);let{symbol:a,meta:l}=Lt(i);t.originMeta===l&&a["-st-states"]&&Xg(t.selectorStr,t.ruleOrAtRule,e.meta,n,e.diagnostics),t.transform&&yn(l,a,r)},transformJSExports({exports:e,resolved:t}){Object.assign(e.classes,t)}}),pc=class{constructor(t){this.stylable=t}transformIntoSelector(t,r){let s=D(t,r),n=s?._kind==="import"?this.stylable.resolver.deepResolve(s):{_kind:"css",meta:t,symbol:s};if(n?._kind!=="css"||n.symbol?._kind!=="class")return;let o={type:"class",value:"",start:0,end:0,dotComments:[]};return yn(n.meta,n.symbol,o,!1),(0,dc.stringifySelectorAst)(o)}};function Jr(e,t){return D(e,t,"class")}function hc(e){return ue(e,"class")}function yc(e){let t=e["-st-parts"]||{};return{...e,_kind:"class","-st-parts":t}}function lr(e,t,r){let s=D(e.meta,t,"class");if(!s){let n=D(e.meta,t);n&&n._kind!=="import"&&(n=void 0),s=de({context:e,symbol:yc({name:t,alias:n}),node:r,safeRedeclare:!!n})}return e.meta.type==="css"&&!s["-st-global"]&&(s["-st-global"]=[{type:"class",value:t,dotComments:[],start:0,end:0}]),s}function yn(e,t,r,s=!0){if("-st-global"in t&&t["-st-global"])if(s){let n=t["-st-global"];ph(r,"global",[{type:"selector",nodes:n,after:"",before:"",end:0,start:0}])}else{let n=Yt(r),o=t["-st-global"];n.nodes=o}else r=Ys(r),r.value=Fu(t.name,e.namespace)}function uS(e,t){if("-st-global"in t&&t["-st-global"]){let r=t["-st-global"];return(0,dc.stringifySelectorAst)(r)}else return"."+Fu(t.name,e.namespace)}function HI({getResolvedSymbols:e,meta:t}){let r=e(t);for(let s of Object.values(r.class)){let n=s[0];if(s.length>1&&n.symbol["-st-extends"]){let o=s[s.length-1];t.targetAst.append(fS("."+o.symbol.name,uS(o.meta,o.symbol),(0,fc.basename)(o.meta.source),"."+n.symbol.name,uS(n.meta,n.symbol),(0,fc.basename)(n.meta.source)))}}}function fS(e,t,r,s,n,o){let i=`"class extending component '${s} => ${n}' in stylesheet '${o}' was set on a node that does not extend '${e} => ${t}' from stylesheet '${r}'" !important`;return ye({raws:{between:" "},selector:`${n}:not(${t})::before`,nodes:[_e({prop:"content",value:i}),_e({prop:"display",value:"block !important"}),_e({prop:"font-family",value:"monospace !important"}),_e({prop:"background-color",value:"red !important"}),_e({prop:"color",value:"white !important"})]})}function QI({context:e,classSymbol:t,locallyScoped:r,reportUnscoped:s,node:n,nodes:o,index:i,rule:a}){if(e.meta.type!=="stylable")return!0;if(t.alias){if(r===!1)return Ri(e,a,o,i)===!1?(s&&e.diagnostics.report(Qe.UNSCOPED_CLASS(n.value),{node:a,word:n.value}),!1):!0}else return!0;return r}function Ri(e,t,r,s){for(let n=s+1;n<r.length;n++){let o=r[n];if(!o||o.type==="combinator")break;if(o.type==="class"){let i=o.value,a=lr(e,i,t);if(a&&!a.alias)return!0}}return!1}function KI(e){return e.prop in zI}function gc(e,t){let{classesDefinedWithAtSt:r}=_.getUnsafe(e.meta.data,mc);r.add(t)}function YI(e,t){let r=t.parent;if(r?.type!=="rule")return;let n=To(r.selector).reduce((a,{type:l})=>a&&a!==l?"complex":l,""),o=n!=="complex",{classesDefinedWithAtSt:i}=_.getUnsafe(e.meta.data,mc);if(n==="class"&&i.has(r.selector.replace(".",""))){e.diagnostics.report(Qe.DISABLED_DIRECTIVE(r.selector.replace(".",""),t.prop),{node:t});return}else if(t.prop==="-st-states")o&&n!=="type"?Yr(e,t,r.selector,"-st-states",Ci(t.value,t,e.diagnostics)):n==="type"?e.diagnostics.report(Qe.STATE_DEFINITION_IN_ELEMENT(),{node:t}):e.diagnostics.report(Qe.STATE_DEFINITION_IN_COMPLEX(),{node:t});else if(t.prop==="-st-extends")if(o){let a=pS(t.value),l=a.types[0]&&a.types[0].symbolName,u=D(e.meta,l);u&&(u._kind==="import"||u._kind==="class"||u._kind==="element")||t.value===e.meta.root?Yr(e,t,r.selector,"-st-extends",Oo(u)||u):e.diagnostics.report(Qe.CANNOT_RESOLVE_EXTEND(t.value),{node:t,word:t.value})}else e.diagnostics.report(Qe.CANNOT_EXTEND_IN_COMPLEX(),{node:t});else if(t.prop==="-st-global"&&o&&n!=="type"){let a=r.selector.replace(".",""),l=Jr(e.meta,a);if(l){let u=JI(e,t);u&&(l["-st-global"]=u)}}}function Yr(e,t,r,s,n){let o=r.replace(".",""),i=D(e.meta,o);i&&i[s]&&e.diagnostics.report(Qe.OVERRIDE_TYPED_RULE(s,o),{node:t,word:o}),i&&(i[s]=n)}function pS(e){let t=(0,cS.default)(e),r=[];return t.walk(s=>{if(s.type==="function"){let n=on(s);return r.push({symbolName:s.value,args:n}),!1}else s.type==="word"&&r.push({symbolName:s.value,args:null})},!1),{ast:t,types:r}}function JI(e,t){let r=L(t.value.replace(/^['"]/,"").replace(/['"]$/,""),{clone:!0});if(r[0])r.length>1&&e.diagnostics.report(Qe.UNSUPPORTED_MULTI_SELECTORS_ST_GLOBAL(),{node:t});else{e.diagnostics.report(Qe.EMPTY_ST_GLOBAL(),{node:t});return}return r[0].nodes}var Ee={};pe(Ee,{addType:()=>dS,createSymbol:()=>gn,diagnostics:()=>Sc,get:()=>ZI,getAll:()=>eO,hooks:()=>XI,validateTypeScoping:()=>tO});var Sc={INVALID_FUNCTIONAL_SELECTOR:Le.INVALID_FUNCTIONAL_SELECTOR,UNSCOPED_TYPE_SELECTOR:y("03001","warning",e=>`unscoped type selector "${e}" will affect all elements of the same type in the document`)},XI=k({analyzeSelectorNode({context:e,node:t,rule:r,walkContext:[s,n]}){t.nodes&&e.diagnostics.report(Sc.INVALID_FUNCTIONAL_SELECTOR(t.value,"type"),{node:r,word:Y(t)}),dS(e,t.value,r)},transformSelectorNode({context:e,node:t,selectorContext:r}){let s=e.getResolvedSymbols(e.meta),n=s.element[t.value];if(!n){let o=s.class[t.value];o?.length>1&&o[0].symbol.alias?n=s.class[t.value]:n=[{_kind:"css",meta:e.meta,symbol:gn({name:"*"})}]}if(r.setNextSelectorScope(n,t,t.value),r.transform&&n&&n.length>1){let{symbol:o,meta:i}=Lt(n);o._kind==="class"?yn(i,o,t):t.value=o.name}}});function ZI(e,t){return D(e,t,"element")}function eO(e){return ue(e,"element")}function gn(e){let t=e["-st-parts"]||{};return{...e,_kind:"element","-st-parts":t}}function dS(e,t,r){if(!D(e.meta,t,"element")&&Jt(t)){let n=D(e.meta,t);n&&n._kind!=="import"&&(n=void 0),de({context:e,symbol:gn({name:t,alias:n}),node:r,safeRedeclare:!!n})}return D(e.meta,t,"element")}function tO({context:e,locallyScoped:t,reportUnscoped:r,node:s,nodes:n,index:o,rule:i}){if(e.meta.type!=="stylable")return!0;if(t===!1){if(Ri(e,i,n,o)===!1)return r&&e.diagnostics.report(Sc.UNSCOPED_TYPE_SELECTOR(s.value),{node:i,word:s.value}),!1;t=!0}return t}var Xr={};pe(Xr,{diagnostics:()=>SS,hooks:()=>sO});var gS=I(vc()),SS={UNKNOWN_STATE_USAGE:y("08001","error",e=>`unknown pseudo-class "${e}"`)},sO=k({transformSelectorNode({context:e,selectorContext:t}){let{inferredSelector:r,node:s,ruleOrAtRule:n,scopeSelectorAst:o}=t;if(s.type!=="pseudo_class")return;let i=s.value,a=r.getPseudoClasses({name:i})[i],l=!!a;if(a&&t.transform&&Ti(a.state,a.meta,s.value,s,a.meta.namespace,e.resolver,e.diagnostics,n),s.nodes&&!l)if(s.value==="global"){t.experimentalSelectorInference&&t.setNextSelectorScope([{_kind:"css",meta:e.meta,symbol:gn({name:"*"})}],s);return}else{let u=s.value.match(/not|any|-\w+?-any|matches|is|where|has|local|nth-child|nth-last-child/),c=s.nodes[0]&&s.nodes[0].type==="nth"?s.nodes.slice(1):s.nodes,f=t.createNestedContext(c,t.inferredSelector);if(o(f),u&&c.length){if(t.experimentalSelectorInference&&!s.value.match(/not|has/)){let p=t.lastInferredSelectorNode;p&&p.type!=="combinator"&&f.inferredMultipleSelectors.add(t.inferredSelector),t.setNextSelectorScope(f.inferredMultipleSelectors,s)}t.elements[t.selectorIndex].push(...f.elements[0])}}!l&&!Gd.includes(s.value)&&!(0,gS.default)(s.value)&&!t.isDuplicateStScopeDiagnostic()&&e.diagnostics.report(SS.UNKNOWN_STATE_USAGE(s.value),{node:n,word:s.value})}});var he={};pe(he,{diagnostics:()=>Ft,get:()=>iO,getRuntimeTypedDefinitionNames:()=>uO,getTransformedName:()=>bc,hooks:()=>oO,scopeCSSVar:()=>cO});var Re="st-global",nO=new RegExp(`^${Re}\\((.*?)\\)$`);function Zr(e){return e.match(nO)?.[1]}function es(e){if(e.value!==Re)return;let t="",r=!1;for(let{type:s,value:n}of e.nodes)s==="word"?t=n:s==="comment"||s==="space"||(r=!0);return r?void 0:t}var Ni=I(Ae()),Ft={...Xt,ILLEGAL_CSS_VAR_USE:y("01005","error",e=>`a custom css property must begin with "--" (double-dash), but received "${e}"`),ILLEGAL_CSS_VAR_ARGS:y("01006","error",e=>`custom property "${e}" usage (var()) must receive comma separated values`),DEPRECATED_ST_GLOBAL_CUSTOM_PROPERTY:y("01007","info",()=>`"st-global-custom-property" is deprecated and will be removed in the next version. Use "@property" with ${Re}`),GLOBAL_CSS_VAR_MISSING_COMMA:y("01008","error",e=>`"@st-global-custom-property" received the value "${e}", but its values must be comma separated`),ILLEGAL_GLOBAL_CSS_VAR:y("01009","error",e=>`"@st-global-custom-property" received the value "${e}", but it must begin with "--" (double-dash)`),MISSING_PROP_NAME:y("01010","error",()=>'missing custom property name for "var(--[PROP NAME])"'),UNDEFINED_CSS_CUSTOM_PROP:y("01011","error",e=>`Undefined "${e}" custom property. Please define the property using '@property' or import it with '@st-import' when 'strictCustomProperty' is enabled.`)},Ii=_.key("custom-property"),oO=k({metaInit({meta:e}){_.set(e.data,Ii,{stCustomGlobalProperty:{},typedDefinitions:{}})},analyzeInit(e){for(let[t,r]of Object.entries(ue(e.meta,"import")))if(Fe(t)){let s=D(e.meta,t,"import");if(!s){console.warn(`imported symbol "${t}" not found on "${e.meta.source}"`);continue}Sn({context:e,node:r.import.rule,name:t,global:!1,final:!0,alias:s})}},analyzeAtRule({context:e,atRule:t}){let r=e.meta.type==="stylable";if(t.name==="property"){let s=t.params,n=!r,o=r?Zr(s):void 0;o!==void 0&&(s=o.trim(),n=!0);let{stCustomGlobalProperty:i,typedDefinitions:a}=_.getUnsafe(e.meta.data,Ii);i[s]&&(n=!0),Sn({context:e,node:t,name:s,global:n,final:!0}),Hh(t,e.diagnostics),t.nodes&&(a[s]??=[],a[s].push(t))}else t.name==="st-global-custom-property"&&r&&lO(e,t)},analyzeDeclaration({context:e,decl:t}){Fe(t.prop)&&Sn({context:e,node:t,name:t.prop,global:e.meta.type==="css",final:!1}),t.value.includes("var(")&&aO(e,t)},prepareAST({context:e,node:t,toRemove:r}){t.type==="atrule"&&t.name==="st-global-custom-property"&&e.meta.type==="stylable"&&r.push(t)},transformResolve({context:{meta:e,getResolvedSymbols:t}}){let r={},s=t(e);for(let[n,o]of Object.entries(ue(e,"cssVar"))){let i=s.cssVar[n]||{_kind:"css",symbol:o,meta:e};r[n]=bc(i)}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(t.name==="property")if(t.nodes?.length){let s=Zr(t.params)||t.params;r[s]&&(t.params=r[s]||t.params)}else e.meta.type==="stylable"&&t.remove()},transformDeclaration({decl:e,resolved:t}){e.prop=t[e.prop]||e.prop},transformValue({node:e,data:{cssVarsMapping:t}}){let{value:r}=e,s=e.nodes[0]?.value||"";Fe(s)&&t&&t[s]&&(e.nodes[0].value=t[s]),e.nodes.length>2&&(e.resolvedValue=tt(r,e))},transformJSExports({exports:e,resolved:t}){for(let r of Object.keys(t))e.vars[r.slice(2)]=t[r]}});function iO(e,t){return D(e,t,"cssVar")}function Sn({context:e,node:t,name:r,global:s,final:n,alias:o}){if(!Fe(r)){e.diagnostics.report(Ft.ILLEGAL_CSS_VAR_USE(r),{node:t,word:r});return}if(!n){if(D(e.meta,r,"cssVar"))return;e.meta.type==="stylable"&&e.meta.flags.strictCustomProperty&&e.diagnostics.report(Ft.UNDEFINED_CSS_CUSTOM_PROP(r),{node:t,word:r})}de({context:e,symbol:{_kind:"cssVar",name:r,global:s,alias:o},safeRedeclare:!n||!!o,node:t})}function aO(e,t){(0,Ni.default)(t.value).walk(s=>{if(s.type==="function"&&s.value==="var"&&s.nodes){let n=s.nodes[0];if(!n){e.diagnostics.report(Ft.MISSING_PROP_NAME(),{node:t});return}if(!zy(s,1)){let o=Ni.default.stringify(s.nodes);e.diagnostics.report(Ft.ILLEGAL_CSS_VAR_ARGS(o),{node:t,word:o})}Sn({context:e,name:Ni.default.stringify(n)?.trim()||"",node:t,global:e.meta.type==="css",final:!1})}})}function lO(e,t){e.diagnostics.report(Ft.DEPRECATED_ST_GLOBAL_CUSTOM_PROPERTY(),{node:t});let r=t.params.split(",");if(t.params.trim().split(/\s+/g).filter(n=>n!==",").length>r.length){e.diagnostics.report(Ft.GLOBAL_CSS_VAR_MISSING_COMMA(t.params),{node:t,word:t.params});return}for(let n of r){let o=n.trim();if(Fe(o)){Sn({context:e,node:t,name:o,global:!0,final:!0});let{stCustomGlobalProperty:i}=_.getUnsafe(e.meta.data,Ii);i[o]=D(e.meta,o,"cssVar")}else e.diagnostics.report(Ft.ILLEGAL_GLOBAL_CSS_VAR(o),{node:t,word:o})}}function uO(e){let{typedDefinitions:t}=_.getUnsafe(e.data,Ii);return Object.keys(t)}function bc({symbol:e,meta:t}){return e.global?e.name:nu(t.namespace,e.name.slice(2))}function cO(e,t,r){let s=e.deepResolve(D(t,r));return s&&s._kind==="css"&&s.symbol&&s.symbol._kind==="cssVar"?bc(s):D(t,r,"cssVar")?.global?r:nu(t.namespace,r.slice(2))}var Oe={};pe(Oe,{diagnostics:()=>ts,get:()=>dO,getAll:()=>mO,getKeyframesStatements:()=>pO,hooks:()=>fO,reservedKeyFrames:()=>bS});var vS=I(Ae());var bS=["none","inherited","initial","unset","linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end","start","end","infinite","normal","reverse","alternate","alternate-reverse","forwards","backwards","both","running","paused"],ts={ILLEGAL_KEYFRAMES_NESTING:y("02001","error",()=>'illegal nested "@keyframes"'),MISSING_KEYFRAMES_NAME:y("02002","error",()=>'"@keyframes" missing parameter'),MISSING_KEYFRAMES_NAME_INSIDE_GLOBAL:y("02003","error",()=>`"@keyframes" missing parameter inside "${Re}()"`),KEYFRAME_NAME_RESERVED:y("02004","error",e=>`keyframes "${e}" is reserved`),UNKNOWN_IMPORTED_KEYFRAMES:y("02005","error",(e,t)=>`cannot resolve imported keyframes "${e}" from stylesheet "${t}"`)},Oi=_.key("keyframes");Dt.set("keyframes",(e,t,r,s)=>{_S({context:e,name:t,importName:r,ast:s.rule,importDef:s})});var fO=k({metaInit({meta:e}){_.set(e.data,Oi,{statements:[],paths:{},imports:[]})},analyzeAtRule({context:e,atRule:t}){let{params:r}=t;if(!Sh(t,!0)){e.diagnostics.report(ts.ILLEGAL_KEYFRAMES_NESTING(),{node:t});return}let{statements:s}=_.getUnsafe(e.meta.data,Oi);if(s.push(t),!r){e.diagnostics.report(ts.MISSING_KEYFRAMES_NAME(),{node:t});return}let n=e.meta.type==="stylable",o,i=n?Zr(r):void 0;if(i!==void 0&&(r=i,o=!0),r===""){e.diagnostics.report(ts.MISSING_KEYFRAMES_NAME_INSIDE_GLOBAL(),{node:t});return}bS.includes(r)&&e.diagnostics.report(ts.KEYFRAME_NAME_RESERVED(r),{node:t,word:r}),_S({context:e,name:r,importName:r,ast:t,global:n?o:!0})},transformResolve({context:e}){let t=ue(e.meta,"keyframes"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.keyframes[n];i?r[n]=i:o.import&&e.diagnostics.report(ts.UNKNOWN_IMPORTED_KEYFRAMES(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){let s=e.meta.type==="stylable"?Zr(t.params):void 0,n=s??t.params;if(!n)return;let o=r[n];t.params=o?_c(o):s??bt(n,e.meta.namespace)},transformDeclaration({decl:e,resolved:t}){let r=(0,vS.default)(e.value);r.nodes.forEach(s=>{let n=t[s.value],o=n&&_c(n);o&&(s.value=o)}),e.value=r.toString()},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.keyframes[r]=_c(s)}});function pO({data:e}){let{statements:t}=_.getUnsafe(e,Oi);return t}function dO(e,t){return D(e,t,"keyframes")}function mO(e){return ue(e,"keyframes")}function _S({context:e,name:t,importName:r,ast:s,global:n,importDef:o}){let a=hO(e.meta,t,s,!!o)&&!!D(e.meta,t,"keyframes");de({context:e,node:s,localName:t,symbol:{_kind:"keyframes",alias:t,name:r,global:n,import:o},safeRedeclare:a})}function hO(e,t,r,s){let n="",o=r.parent;for(;o;)o.type==="rule"?n+=" -> "+o.selector:o.type==="atrule"&&(n+=" -> "+o.name+" "+o.params),o=o.parent;let{paths:i,imports:a}=_.getUnsafe(e.data,Oi);i[n]||(i[n]=[]);let l=!i[n].includes(t),u=a.includes(t);return i[n].push(t),s&&a.push(t),l&&!u}function _c({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}var xe={};pe(xe,{diagnostics:()=>cr,get:()=>gO,getAll:()=>SO,getDefinition:()=>vO,hooks:()=>yO});var ur=I(Ae());var cr={MISSING_LAYER_NAME_INSIDE_GLOBAL:y("19001","warning",()=>`"@layer" missing parameter inside "${Re}()"`),LAYER_SORT_STATEMENT_WITH_STYLE:y("19002","error",()=>'"@layer" ordering statement cannot have a style block'),RESERVED_KEYWORD:y("19003","error",e=>`"@layer" name cannot be reserved word "${e}"`),NOT_IDENT:y("19004","error",e=>`"@layer" expected ident, but got "${e}"`),RECONFIGURE_IMPORTED:y("19005","error",e=>`cannot reconfigure imported layer "${e}"`),UNKNOWN_IMPORTED_LAYER:y("19006","error",(e,t)=>`cannot resolve imported layer "${e}" from stylesheet "${t}"`)},vn=_.key("layer");Dt.set("layer",(e,t,r,s)=>{Ec({context:e,name:t,importName:r,ast:s.rule,global:!1,importDef:s})});var yO=k({metaInit({meta:e}){_.set(e.data,vn,{analyzedParams:{},layerDefs:{}})},analyzeAtRule({context:e,atRule:t}){if(t.params){if(t.name==="import")_O(e,t);else if(t.name==="layer"){let r=_.getUnsafe(e.meta.data,vn),s=bO(t.params,e.diagnostics,t,e.meta.type==="stylable");s.multiple&&t.nodes&&e.diagnostics.report(cr.LAYER_SORT_STATEMENT_WITH_STYLE(),{node:t}),r.analyzedParams[t.params]=s;for(let n of s.names)Ec({context:e,name:n,importName:n,global:!!s.globals[n]||e.meta.type==="css",ast:t})}}},transformResolve({context:e}){let t=ue(e.meta,"layer"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.layer[n];i?r[n]=i:o.import&&e.diagnostics.report(cr.UNKNOWN_IMPORTED_LAYER(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(t.params){if(t.name==="import")AO(e,t,r);else if(t.name==="layer"){let{analyzedParams:s}=_.getUnsafe(e.meta.data,vn),n=s[t.params];n&&(t.params=n.transformNames(o=>r[o]?Ac(r[o]):o))}}},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.layers[r]=Ac(s)}});function gO(e,t){return D(e,t,"layer")}function SO(e){return ue(e,"layer")}function vO(e,t){return _.getUnsafe(e.data,vn).layerDefs[t]}function bO(e,t,r,s){let n=[],o={},i=!0,a=!1,l=(0,ur.default)(e).nodes,u={};for(let c=0;c<l.length;++c){let f=l[c],{type:p,value:d}=f;if(p==="word"){if(i){let m=[];for(let S of Cc(d)){let h={...f,value:S};m.length&&m.push({...f,value:"."}),m.push(h),u[S]??=[],u[S].push(h),n.push(S)}i=!1,l.splice(c,1,...m)}}else if(p==="function"&&d===Re&&i&&s){let m=es(f);m?(u[m]??=[],u[m].push(f),n.push(m),o[m]=!0):m===""&&t.report(cr.MISSING_LAYER_NAME_INSIDE_GLOBAL(),{node:r}),i=!1}else if(p==="div"&&d===",")i=!0,a=!0;else if(p!=="comment"){i=!1;let m=ur.default.stringify(f);t.report(cr.NOT_IDENT(m),{node:r,word:m})}}return{names:n,globals:o,multiple:a,transformNames(c){for(let[f,p]of Object.entries(u)){let d=c(f);for(let m of p)m.type==="function"&&(m.type="word"),m.value=d}return ur.default.stringify(l)}}}function Cc(e){if(!e.includes("."))return[e];let t=[],r=0;for(let s=0;s<e.length;++s)switch(e[s]){case".":{e[s-1]!=="\\"&&(t.push(e.substring(r,s)),r=s+1);break}}return r<=e.length-1&&t.push(e.substring(r,e.length)),t}function _O(e,t){let r=(0,ur.default)(t.params).nodes;for(let s=0;s<r.length;++s){let n=r[s],{type:o,value:i}=n;if(o==="function"&&i==="layer"&&n.nodes.length){for(let a of n.nodes)if(a.type==="word")for(let l of Cc(a.value))Ec({context:e,name:l,importName:l,ast:t,global:!1})}}}function AO(e,t,r){let s=(0,ur.default)(t.params).nodes;for(let n=0;n<s.length;++n){let o=s[n],{type:i,value:a}=o;if(i==="function"&&a==="layer"&&o.nodes.length)for(let l of o.nodes){let{type:u,value:c}=l;u==="word"&&(l.value=Cc(c).map(f=>r[f]?Ac(r[f]):f).join("."))}}t.params=ur.default.stringify(s)}function Ac({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}function Ec({context:e,name:t,importName:r,ast:s,global:n,importDef:o}){let i=D(e.meta,t,"layer");if(i)!i.import&&n?i.global=!0:i.import&&n&&e.diagnostics.report(cr.RECONFIGURE_IMPORTED(t),{node:s,word:t});else{Hd.includes(t)&&(n=!0,e.diagnostics.report(cr.RESERVED_KEYWORD(t),{node:s,word:t}));let a=_.getUnsafe(e.meta.data,vn);a.layerDefs[t]=s,de({context:e,node:s,localName:t,symbol:{_kind:"layer",name:r,alias:t,global:n,import:o},safeRedeclare:!1})}}var we={};pe(we,{diagnostics:()=>qe,get:()=>TO,getAll:()=>xO,getDefinition:()=>wO,hooks:()=>CO});var _t=I(Ae()),qe={UNEXPECTED_DECL_VALUE:y("20001","error",e=>`unexpected value: ${e}`),UNKNOWN_DECL_TYPE:y("20002","error",e=>`unknown container type: ${e}`),MISSING_DECL_TYPE:y("20003","error",()=>"missing container shorthand type"),INVALID_CONTAINER_NAME:y("20004","error",e=>`invalid container name: ${e}`),UNRESOLVED_CONTAINER_NAME:y("20005","error",e=>`unresolved container name: ${e}`),UNKNOWN_IMPORTED_CONTAINER:y("20006","error",(e,t)=>`cannot resolve imported container name "${e}" from stylesheet "${t}"`),MISSING_CONTAINER_NAME_INSIDE_GLOBAL:y("20007","warning",()=>`Missing container name inside "${Re}()"`),UNEXPECTED_DEFINITION:y("20008","error",e=>`Unexpected value in container definition: "${e}""`)},bn=_.key("container");Dt.set("container",(e,t,r,s)=>{xc({context:e,name:t,importName:r,ast:s.rule,global:!1,importDef:s,forceDefinition:!0})});var CO=k({metaInit({meta:e}){_.set(e.data,bn,{"container-name":{},container:{},definitions:{}})},analyzeDeclaration({context:e,decl:t}){let r=t.prop.toLowerCase();if(r!=="container-name"&&r!=="container")return;let n=_.getUnsafe(e.meta.data,bn)[r],o=t.value;if(n[o])return;let i=n[o]=EO(t,e);for(let{name:a,global:l}of i.containers)xc({context:e,ast:t,name:a,importName:a,global:l,forceDefinition:!1})},analyzeAtRule({context:e,atRule:t}){if(!t.nodes){let r=(0,_t.default)(t.params).nodes,s=!0,n="",o=!1;for(let i of r)if(!(i.type==="comment"||i.type==="space")){if(s&&i.type==="word")n=i.value;else if(s&&i.type==="function"&&i.value===Re)n=es(i)||"",o=!0;else{let a=_t.default.stringify(i);e.diagnostics.report(qe.UNEXPECTED_DEFINITION(a),{node:t,word:a});break}s=!1}n&&(AS[n]&&e.diagnostics.report(qe.INVALID_CONTAINER_NAME(n),{node:t,word:n}),xc({context:e,ast:t,name:n,importName:n,global:o,forceDefinition:!0}))}},transformResolve({context:e}){let t=ue(e.meta,"container"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.container[n];i?r[n]=i:o.import&&e.diagnostics.report(qe.UNKNOWN_IMPORTED_CONTAINER(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformDeclaration({context:e,decl:t,resolved:r}){let s=t.prop.toLowerCase();if(s!=="container-name"&&s!=="container")return;let o=_.getUnsafe(e.meta.data,bn)[s],i=t.value;t.value=o[i].transformNames(a=>r[a]?Tc(r[a]):a)},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(!t.nodes){t.remove();return}let s=(0,_t.default)(t.params).nodes,n=!1;e:for(let o of s)if(!(o.type==="comment"||o.type==="space"))if(o.type==="word"){let i=r[o.value];i?(o.value=Tc(i),n=!0):e.diagnostics.report(qe.UNRESOLVED_CONTAINER_NAME(o.value),{node:t,word:o.value});break e}else if(o.type==="function"&&o.value===Re){let i=es(o)||"";if(i){n=!0;let a=o;a.type="word",a.value=i}}else break e;n&&(t.params=_t.default.stringify(s)),t.params=e.evaluator.evaluateValue(e,{value:t.params,meta:e.meta,node:t,initialNode:t}).outputValue},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.containers[r]=Tc(s)}}),AS={and:!0,not:!0,or:!0};function EO(e,t){let{prop:r,value:s}=e,n=[],o={},i=(0,_t.default)(s).nodes,a=!1,l=u=>{let{type:c,value:f}=u;if(!(c==="comment"||c==="space"))if(c==="word"||c==="function"&&f===Re){let p=c==="function",d=p?es(u)||"":u.value;if(p&&!d&&t.diagnostics.report(qe.MISSING_CONTAINER_NAME_INSIDE_GLOBAL(),{node:e}),d==="none"){a=!0;return}p?(u.type="word",u.value=d):(n.push({name:d,global:p}),o[d]??=[],o[d].push(u)),AS[d]&&t.diagnostics.report(qe.INVALID_CONTAINER_NAME(d),{node:e,word:d})}else{let p=_t.default.stringify(u);return t.diagnostics.report(qe.UNEXPECTED_DECL_VALUE(p),{node:e,word:p}),!1}return!0};if(r.toLowerCase()==="container-name"){for(let u of i)if(!l(u))break}else{let u="name";for(let c of i){let{type:f,value:p}=c;if(!(f==="comment"||f==="space"))if(u==="name"){if(f==="div"&&p==="/")u="type";else if(!l(c))break}else if(f==="word"&&u==="type")p!=="normal"&&p!=="size"&&p!=="inline-size"&&t.diagnostics.report(qe.UNKNOWN_DECL_TYPE(p),{node:e,word:p}),u="";else{let d=_t.default.stringify(c);t.diagnostics.report(qe.UNEXPECTED_DECL_VALUE(d),{node:e,word:d})}}u==="type"&&t.diagnostics.report(qe.MISSING_DECL_TYPE(),{node:e})}return n.length>0&&a&&t.diagnostics.report(qe.INVALID_CONTAINER_NAME("none"),{node:e,word:"none"}),{containers:n,transformNames(u){for(let[c,f]of Object.entries(o)){let p=u(c);for(let d of f)d.type==="function"&&(d.type="word"),d.value=p}return _t.default.stringify(i)}}}function TO(e,t){return D(e,t,"container")}function xO(e){return ue(e,"container")}function wO(e,t){let{definitions:r}=_.getUnsafe(e.data,bn);return r[t]}function Tc({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}function xc({context:e,name:t,importName:r,ast:s,global:n,importDef:o,forceDefinition:i}){let{definitions:a}=_.getUnsafe(e.meta.data,bn),u=!D(e.meta,t,"container");(i||u)&&(e.meta.type!=="stylable"&&(n=!0),a[t]=s,de({context:e,node:s,localName:t,symbol:{_kind:"container",name:r,alias:t,global:n,import:o},safeRedeclare:!1}))}var Pi={};pe(Pi,{hooks:()=>RO});var RO=k({transformAtRuleNode({atRule:e,context:t}){e.name==="media"&&(e.params=t.evaluator.evaluateValue(t,{value:e.params,meta:t.meta,node:e,initialNode:e}).outputValue)}});var je={};pe(je,{createPartSymbol:()=>NS,diagnostics:()=>ne,experimentalMsg:()=>RS,getPart:()=>IS,getPartNames:()=>kO,getParts:()=>DO,hooks:()=>IO,isStructureMode:()=>PO,setPart:()=>ki});var Di={},NO="__deprecateFromStylable-";function ES(e,t,r={}){let s=r.objectType?r.objectType+".":"",n=r.pleaseUse?`, please use ${r.pleaseUse}`:"",o=r.enumerable||!1,i=r.valueOnThis?`${NO}${t}`:"";!i&&!Di[t]&&(Di[t]=new WeakMap),Object.defineProperty(e,t,{configurable:!0,get(){return Rc(`"${s}${t}" is deprecated${n}`),i?this[i]:Di[t].get(this)},set(a){return i?this[i]=a:Di[t].set(this,a),a},enumerable:o})}var CS={},wc=!0;function Rc(e){wc&&!CS[e]&&(CS[e]=!0,console.warn(e))}function TS(e){wc=!1;try{return e()}finally{wc=!0}}var rs=I(Xu());var Mi=I(it());var ne={GLOBAL_MAPPING_LIMITATION:y("21000","error",()=>"Currently class mapping is limited to single global selector: :global(<selector>)"),UNSUPPORTED_TOP_DEF:y("21001","error",()=>"top level @st must start with a class"),MISSING_EXTEND:y("21002","error",()=>'missing required class reference to extend a class (e.g. ":is(.class-name)"'),OVERRIDE_IMPORTED_CLASS:y("21003","error",()=>"cannot override imported class definition"),STATE_OUT_OF_CONTEXT:y("21004","error",()=>"pseudo-state definition must be directly nested in a `@st .class{}` definition"),MISSING_MAPPED_SELECTOR:y("21006","error",()=>'missing mapped selector after "=>"'),MULTI_MAPPED_SELECTOR:y("21007","error",()=>"mapped selector accepts only a single selector.\nuse `:is()` or `:where()` to map multiple selectors)"),ELEMENT_OUT_OF_CONTEXT:y("21008","error",()=>"pseudo-element definition must be directly nested in a `@st .class{}` definition"),MISSING_MAPPING:y("21009","error",()=>'expected selector mapping (e.g. "=> <selector>")'),REDECLARE:y("21010","error",(e,t)=>`redeclare ${e} definition: "${t}"`),INVALID_ST_DEF:y("21011","error",e=>`invalid @st "${e}" definition`),MAPPING_UNSUPPORTED_NESTING:y("21012","error",()=>"mapped selector can only contain `&` as an initial selector"),UNEXPECTED_EXTRA_VALUE:y("21013","error",e=>`found unexpected extra value definition: "${e}"`),CLASS_OUT_OF_CONTEXT:y("21014","error",()=>"class definition must be top level")},RS="[experimental feature] stylable structure (@st): API might change!",At=_.key("st-structure"),IO=k({analyzeInit(e){let{meta:t}=e;if(t.type!=="stylable")return;if(t.sourceAst.nodes.find(s=>xS(s))){Rc(RS);let s=_.getUnsafe(e.meta.data,At);s.isStructureMode=!0}else{t.root="root";let s=lr(e,"root");s["-st-root"]=!0}},metaInit({meta:e}){_.set(e.data,At,{isStructureMode:!1,analyzedDefs:new WeakMap,analyzedDefToPartSymbol:new Map,declaredClasses:new Set})},analyzeAtRule({context:e,atRule:t,analyzeRule:r}){if(!xS(t)||e.meta.type!=="stylable")return;let{analyzedDefToPartSymbol:s,declaredClasses:n}=_.getUnsafe(e.meta.data,At),o=LO(t,e);if(o){if(o.type==="topLevelClass"){if(n.add(o.name),lr(e,o.name,t),gc(e,o.name),o.extendedClass){let i=Jr(e.meta,o.extendedClass)||lr(e,o.extendedClass);Yr(e,t,"."+o.name,"-st-extends",Oo(i)||i)}if(o.mappedSelector){let i=OS(o);if(i&&i.nodes?.length===1){let a=i.nodes[0];r(As.rule({selector:(0,Mi.stringifySelectorAst)(a),source:t.source}),{isScoped:!1,originalNode:t}),Yr(e,t,o.name,"-st-global",a.nodes)}}}else if(o.type==="part"){let i=OO(e,o,s);if(!i){e.diagnostics.report(ne.ELEMENT_OUT_OF_CONTEXT(),{node:t});return}let a=o.name;if(IS(i,a)){let u="::"+a;e.diagnostics.report(ne.REDECLARE("pseudo-element",u),{node:t,word:u});return}r(As.rule({selector:(0,Mi.stringifySelectorAst)(o.mappedSelector),source:t.source}),{isScoped:!0,originalNode:t});let l=ki(i,wS(i),a,[o.mappedSelector]);s.set(o,l)}else if(o.type==="state"){let i=o.parentAnalyze.type==="topLevelClass"?Jr(e.meta,o.parentAnalyze.name):s.get(o.parentAnalyze);if(!i){e.diagnostics.report(ne.STATE_OUT_OF_CONTEXT(),{node:t});return}let a=i["-st-states"]||={},l=o.name;if(a[l]){let u=":"+l;e.diagnostics.report(ne.REDECLARE("pseudo-state",u),{node:t,word:u});return}a[l]=o.stateDef}}},analyzeDone({meta:e}){let{isStructureMode:t}=_.getUnsafe(e.data,At);if(e.type==="stylable"&&!t){let r=Gu(e),s=hc(e),n=s.root,o=wS(n);for(let[i,a]of Object.entries(r))ki(n,o,i,a);for(let[i,a]of Object.entries(s))i==="root"||r[i]||ki(n,o,i,a)}}});function xS(e){return e?.type==="atrule"&&e.name==="st"}function OO(e,{parentAnalyze:t},r){return t.type==="topLevelClass"?Jr(e.meta,t.name):r.get(t)}function PO(e){return _.getUnsafe(e.data,At).isStructureMode}function NS(e){let t=e["-st-parts"]||{},r=e["-st-states"]||{};return{...e,_kind:"part","-st-parts":t,"-st-states":r}}function ki(e,t,r,s){let n=NS({name:r,id:t+"::"+r,mapTo:s});return e["-st-parts"][r]=n,n}function DO(e){return e["-st-parts"]}function IS(e,t){return e["-st-parts"][t]}function kO(e){return Object.keys(e["-st-parts"])}function wS(e){return e._kind==="class"?"."+e.name:e.id}function MO(e){return e.match}function LO(e,t){let{analyzedDefs:r}=_.getUnsafe(t.meta.data,At);if(r.has(e))return r.get(e);let s=(0,rs.parseCSSValue)(Nc(e)),n=s.length===0?void 0:jO(e,s)||qO(t,e,s)||$O(t,e,s);if(!n){e.parent?.type==="root"?t.diagnostics.report(ne.UNSUPPORTED_TOP_DEF(),{node:e}):t.diagnostics.report(ne.INVALID_ST_DEF(e.params),{node:e});return}switch(n.type){case"topLevelClass":{if(!FO({def:n,atRule:e,context:t}))return;break}case"part":{if(!VO({def:n,atRule:e,context:t}))return;break}case"state":{if(!UO({def:n,atRule:e,context:t}))return;break}}if(MO(n))return r.set(e,n),n}function FO({def:e,atRule:t,context:r}){let{declaredClasses:s}=_.getUnsafe(r.meta.data,At);if(!e.ranges||!e.params||!e.name)return!1;if(e.ranges.extend.length&&!e.extendedClass&&r.diagnostics.report(ne.MISSING_EXTEND(),{node:t,word:(0,rs.stringifyCSSValue)(e.ranges.extend)}),e.ranges.leftoverValue.find(o=>o.type!=="comment"&&o.type!=="space")){let o=(0,rs.stringifyCSSValue)(e.ranges.leftoverValue).trim();return r.diagnostics.report(ne.UNEXPECTED_EXTRA_VALUE(o),{node:t,word:o}),!1}if(t.parent?.type!=="root")return r.diagnostics.report(ne.CLASS_OUT_OF_CONTEXT(),{node:t}),!1;if(D(r.meta,e.name)?._kind==="import")return r.diagnostics.report(ne.OVERRIDE_IMPORTED_CLASS(),{node:t}),!1;if(s.has(e.name)){let o="."+e.name;return r.diagnostics.report(ne.REDECLARE("class",o),{node:t,word:o}),!1}if(e.ranges.mapArrow.length){if(!e.mappedSelector){let i=e.ranges.mapArrow[e.ranges.mapArrow.length-1];for(let a=e.params.length-1;a>=0;a--){let l=e.params[a];if(l===i)break;if(Si(l,","))return r.diagnostics.report(ne.MULTI_MAPPED_SELECTOR(),{node:t}),!1}return r.diagnostics.report(ne.MISSING_MAPPED_SELECTOR(),{node:t}),!1}let o=OS(e,!0);if(!o||!o.nodes||o.nodes.length!==1)return r.diagnostics.report(ne.GLOBAL_MAPPING_LIMITATION(),{node:t,word:(0,Mi.stringifySelectorAst)(e.mappedSelector).trim()}),!1}return!0}function VO({def:e,atRule:t,context:r}){if(!e.parentAnalyze)return r.diagnostics.report(ne.ELEMENT_OUT_OF_CONTEXT(),{node:t}),!1;if(!e.mappedSelector){if(!e.mappedArrow)return r.diagnostics.report(ne.MISSING_MAPPING(),{node:t}),!1;let s=e.ranges.mapArrow[e.ranges.mapArrow.length-1];for(let n=e.params.length-1;n>=0;n--){let o=e.params[n];if(o===s)break;if(Si(o,","))return r.diagnostics.report(ne.MULTI_MAPPED_SELECTOR(),{node:t}),!1}return r.diagnostics.report(ne.MISSING_MAPPED_SELECTOR(),{node:t}),!1}return!BO(e.mappedSelector,r,t)}function UO({def:e,atRule:t,context:r}){if(!e.parentAnalyze)return r.diagnostics.report(ne.STATE_OUT_OF_CONTEXT(),{node:t}),!1;let[s]=yi(e.ranges.leftoverValue,0);if(s){let n=(0,rs.stringifyCSSValue)(e.ranges.leftoverValue).trim();return r.diagnostics.report(ne.UNEXPECTED_EXTRA_VALUE(n),{node:t,word:n}),!1}return!0}function OS(e,t=!1){if(!e.mappedSelector)return;let r,s=!1;for(let n of e.mappedSelector.nodes)if(n.type==="pseudo_class"&&n.value==="global"&&!r){if(r=n,!t)break}else n.type!=="comment"&&(s=!0);return s?void 0:r}function $O(e,t,r){let s={type:"state",params:r,match:!0,ranges:{leftoverValue:[]}},n=0,{analyzedDefs:o}=_.getUnsafe(e.meta.data,At),[i,a]=ec(r,0);if(a)s.name=a.value;else return;n+=i;let l=t.parent,u=l&&o.get(l);u&&(u.type==="topLevelClass"||u.type==="part")&&(s.parentAnalyze=u);let[c,f]=Ei(r.slice(n-1),t,e.diagnostics);f!==void 0?(n+=c,s.stateDef=f):s.match=!1;let p=n-1;s.ranges.leftoverValue.push(...r.slice(p));let[d]=yi(r,n);return d&&(s.match=!1),s}function qO(e,t,r){let{analyzedDefs:s}=_.getUnsafe(e.meta.data,At),n={type:"part",params:r,match:!0,name:"",ranges:{pseudoElement:[],mapArrow:[],mapTo:[],leftoverValue:[]}},o=0,[i,a,l]=Hg(r,0);if(n.ranges.pseudoElement.push(...r.slice(o,o+l)),o+=i,a)n.name=a.value;else return!1;let u=t.parent,c=u&&s.get(u);(c?.type==="topLevelClass"||c?.type==="part")&&(n.parentAnalyze=c);let[f,p,d]=gi(r,o,{stopOnFail:!1});if(n.ranges.mapArrow.push(...r.slice(o,o+d)),o+=f,p){n.mappedArrow=!0,n.ranges.mapTo.push(...r.slice(o)),o=r.length-1;let m=Nc(t).slice(p.end),S=L(m.trim()),h=S.length===1&&PS(S[0]);h&&h.nodes.length&&(n.mappedSelector=h)}else n.match=!1;return n.ranges.leftoverValue.push(...r.slice(o+1)),n}function jO(e,t){let r={type:"topLevelClass",params:t,match:!0,ranges:{class:[],extend:[],mapArrow:[],mapTo:[],leftoverValue:[]},name:""},s=0,[n,o,i]=Zu(t,s,{stopOnFail:!0});if(r.ranges.class.push(...t.slice(s,s+i)),s+=n,o)r.name=o.value;else return!1;let[a,l,u]=ec(t,s,{name:"is",stopOnFail:!0,stopOnMatch:(d,m,S)=>{let[h]=gi(S,m,{stopOnFail:!0});return h>0}});if(l&&(r.ranges.extend.push(...t.slice(s,s+u)),s+=a,l.type==="call")){let[d,m]=Zu(l.args,0,{stopOnFail:!0});if(d){s+=a;let[S]=yi(l.args,d);S||(r.extendedClass=m.value)}}let[c,f,p]=gi(t,s,{stopOnFail:!1});if(f){r.ranges.mapArrow.push(...t.slice(s,s+p)),s+=c,r.ranges.mapTo.push(...t.slice(s)),s=t.length;let d=Nc(e).slice(f.end),m=L(d),S=m.length===1&&PS(m[0]);S&&S.nodes.length&&(r.mappedSelector=S)}return r.ranges.leftoverValue.push(...t.slice(s)),r}function BO(e,t,r){let s=!1,n=!1;return ee(e,o=>{if(n&&o.type==="nesting")return t.diagnostics.report(ne.MAPPING_UNSUPPORTED_NESTING(),{node:r}),s=!0,ee.stopAll;o.type!=="comment"&&o.type!=="selector"&&(n=!0)}),s}function Nc(e){let t=e.raws.afterName||"",r=e.raws.between||"";return t+e.params+r}function PS(e){return{...e,after:"",before:"",nodes:e.nodes.filter(r=>r.type!=="comment")}}var WO=[se,me,Ve,Ge,Ie,Se,be,ir,vt,U,Ee,Xr,he,Oe,xe,we,je],_n=class{constructor(t,r,s){this.sourceAst=t;this.diagnostics=r;this.flags=s;this.data={};this.root="";this.source=Ch(this.sourceAst,this.diagnostics);this.type=this.source.endsWith(".st.css")?"stylable":"css";this.namespace="";this.urls=[];this.transformDiagnostics=null;this.transformedScopes=null;this.scopes=[];this.globals={};let n={meta:this,diagnostics:r};for(let{hooks:o}of WO)o.metaInit(n)}getSymbol(t){return se.get(this,t)}getAllSymbols(){return se.getAll(this)}getClass(t){return U.get(this,t)}getAllClasses(){return U.getAll(this)}getTypeElement(t){return Ee.get(this,t)}getAllTypeElements(){return Ee.getAll(this)}getImportStatements(){return me.getImportStatements(this)}getStVar(t){return se.get(this,t,"var")}getAllStVars(){return se.getAllByType(this,"var")}};var ss=class{constructor(t=new ie,r=Ve.defaultProcessNamespace,s={...Or}){this.diagnostics=t;this.resolveNamespace=r;this.flags=s}process(t){this.meta=new _n(t,this.diagnostics,this.flags),je.hooks.analyzeInit(this),me.hooks.analyzeInit(this),he.hooks.analyzeInit(this),this.handleAtRules(t),t.walkRules(s=>{et(s,"keyframes")||this.handleRule(s,{isScoped:et(s,"st-scope"),reportUnscoped:!0})});let r=this.meta.type==="stylable";return t.walkDecls(s=>{let n=s.parent;n.type==="rule"&&n.selector===":vars"&&r||(U.hooks.analyzeDeclaration({context:this,decl:s}),he.hooks.analyzeDeclaration({context:this,decl:s}),we.hooks.analyzeDeclaration({context:this,decl:s}),this.collectUrls(s))}),Ve.hooks.analyzeDone(this),be.hooks.analyzeDone(this),je.hooks.analyzeDone(this),Ve.setMetaNamespace(this,this.resolveNamespace),se.reportRedeclare(this),this.meta}handleAtRules(t){let r=(s,{isScoped:n,originalNode:o})=>this.handleRule(s,{isScoped:n,originalNode:o,reportUnscoped:!1});t.walkAtRules(s=>{switch(s.name){case"st-import":{me.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"namespace":case"st-namespace":{Ve.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"keyframes":Oe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"layer":xe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"import":me.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r}),xe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"custom-selector":{be.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"st-scope":Ie.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"property":case"st-global-custom-property":{he.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"container":{we.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"st":{je.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}}})}collectUrls(t){rr(t,r=>{r.type==="url"&&this.meta.urls.push(r.url)},!1)}handleRule(t,{isScoped:r,reportUnscoped:s,originalNode:n=t}){let o=L(t.selector),i=r,a=-1;return ee(o,(l,...u)=>{let[c,f,p]=u;l.type==="selector"&&!dh(p)&&(i=r,a++);let m=Ge.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});if(m!==void 0)return m;if(l.type==="pseudo_class")if(l.value==="import")me.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});else{if(l.value==="vars")return Se.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});if(l.value.startsWith("--"))i=i||be.isScoped(this.meta,l.value.slice(2))||!1;else if(!Qd.includes(l.value))return ee.skipNested}else l.type==="class"?(U.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u}),i=U.validateClassScoping({context:this,classSymbol:U.get(this.meta,l.value),locallyScoped:i,reportUnscoped:s,node:l,nodes:f,index:c,rule:t})):l.type==="type"?(Ee.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u}),i=Ee.validateTypeScoping({context:this,locallyScoped:i,reportUnscoped:s,node:l,nodes:f,index:c,rule:t})):l.type==="id"?l.nodes&&this.diagnostics.report(Le.INVALID_FUNCTIONAL_SELECTOR("#"+l.value,"id"),{node:t,word:Y(l)}):l.type==="attribute"?l.nodes&&this.diagnostics.report(Le.INVALID_FUNCTIONAL_SELECTOR(`[${l.value}]`,"attribute"),{node:t,word:Y(l)}):l.type==="nesting"&&l.nodes&&this.diagnostics.report(Le.INVALID_FUNCTIONAL_SELECTOR(l.value,"nesting"),{node:t,word:Y(l)})}),Ge.hooks.analyzeSelectorDone({context:this,rule:t,originalNode:n}),i}},zO=Ve.defaultProcessNamespace;function DS({fileSystem:e,onProcess:t,resolveNamespace:r,cssParser:s=Cs,cache:n,createDiagnostics:o,flags:i={...Or}}){return kc((a,l)=>new ss(o?.(a),r,i).process(s(l,{from:a})),a=>e.readFileSync(a,"utf8"),t&&[t],n)}var MS=I(vc());function Li(e,t){if(e===null||t===null)return e===t;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Li(e[r],t[r]))return!1;return!0}if(typeof e=="object"&&typeof t=="object"){let r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let n of r)if(!Li(e[n],t[n]))return!1;return!0}return e===t}var fr=I(it());ES(lp.prototype,"stScopeSelector",{objectType:"SRule",valueOnThis:!0,pleaseUse:"getRuleScopeSelector(rule)"});function kS(e){return TS(()=>e.stScopeSelector)}var GO={UNKNOWN_PSEUDO_ELEMENT:y("12001","error",e=>`unknown pseudo element "${e}"`)},Fi=class{constructor(t){this.directiveNodes=[];this.containerInferredSelectorMap=new Map;this.diagnostics=t.diagnostics,this.keepValues=t.keepValues||!1,this.fileProcessor=t.fileProcessor,this.replaceValueHook=t.replaceValueHook,this.postProcessor=t.postProcessor,this.experimentalSelectorInference=t.experimentalSelectorInference===!0,this.resolver=new qr(t.fileProcessor,t.requireModule,t.moduleResolver,t.resolverCache||new Map),this.mode=t.mode||"production",this.defaultStVarOverride=t.stVarOverride||{},this.getResolvedSymbols=jr(this.resolver,this.diagnostics),this.evaluator=new sr({valueHook:this.replaceValueHook,getResolvedSymbols:this.getResolvedSymbols})}transform(t){t.exports={classes:{},vars:{},stVars:{},keyframes:{},layers:{},containers:{}},t.transformedScopes=null,t.targetAst=t.sourceAst.clone();let r={meta:t,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:this.evaluator,getResolvedSymbols:this.getResolvedSymbols};me.hooks.transformInit({context:r}),Ge.hooks.transformInit({context:r}),Se.hooks.transformInit({context:r}),this.experimentalSelectorInference||(t.transformedScopes=HO(this,t)),this.transformAst(t.targetAst,t,t.exports),t.transformDiagnostics=this.diagnostics;let s={meta:t,exports:t.exports};return this.postProcessor?this.postProcessor(s,this):s}transformAst(t,r,s,n=this.defaultStVarOverride,o=[],i=!1,a){if(r.type!=="stylable")return;let{evaluator:l}=this,u=l.stVarOverride;l.stVarOverride=n;let c={meta:r,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:l,getResolvedSymbols:this.getResolvedSymbols,passedThrough:o.slice(),inferredSelectorMixin:a},f={context:c};KO(c,t,this.experimentalSelectorInference);let p=U.hooks.transformResolve(f),d=Se.hooks.transformResolve(f),m=Oe.hooks.transformResolve(f),S=xe.hooks.transformResolve(f),h=we.hooks.transformResolve(f),v=he.hooks.transformResolve(f),T=C=>{let{name:N}=C;N==="media"?Pi.hooks.transformAtRuleNode({context:c,atRule:C,resolved:{},transformer:this}):N==="property"?he.hooks.transformAtRuleNode({context:c,atRule:C,resolved:v,transformer:this}):N==="keyframes"?Oe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:m,transformer:this}):N==="layer"?xe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:S,transformer:this}):N==="import"?xe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:S,transformer:this}):N==="container"?we.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this}):N==="st-scope"?Ie.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this}):N==="custom-selector"&&be.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this})},A=C=>{if(Fe(C.prop)?he.hooks.transformDeclaration({context:c,decl:C,resolved:v}):C.prop==="animation"||C.prop==="animation-name"?Oe.hooks.transformDeclaration({context:c,decl:C,resolved:m}):(C.prop==="container"||C.prop==="container-name")&&we.hooks.transformDeclaration({context:c,decl:C,resolved:h}),C.prop.startsWith("-st-")){this.mode==="production"&&this.directiveNodes.push(C);return}C.value=this.evaluator.evaluateValue(c,{value:C.value,meta:r,node:C,cssVarsMapping:v}).outputValue};t.walk(C=>{if(C.type==="rule"){if(et(C,"keyframes"))return;let N=C.parent;for(;N&&!this.containerInferredSelectorMap.has(N);)N=N.parent;let{selector:M,inferredSelector:Q}=this.scopeSelector(r,C.selector,C,N&&this.containerInferredSelectorMap.get(N),a);this.containerInferredSelectorMap.set(C,Q),C.selector=M}else C.type==="atrule"?T(C):C.type==="decl"&&A(C)}),!i&&r.targetAst&&this.mode==="development"&&U.addDevRules(c);let x={context:c,ast:t,transformer:this,cssVarsMapping:v,path:o};if(this.experimentalSelectorInference&&Ie.hooks.transformLastPass(x),vt.hooks.transformLastPass(x),!i){Ge.hooks.transformLastPass(x);for(let C of this.directiveNodes)C.remove()}s&&(U.hooks.transformJSExports({exports:s,resolved:p}),Se.hooks.transformJSExports({exports:s,resolved:d}),Oe.hooks.transformJSExports({exports:s,resolved:m}),xe.hooks.transformJSExports({exports:s,resolved:S}),we.hooks.transformJSExports({exports:s,resolved:h}),he.hooks.transformJSExports({exports:s,resolved:v})),this.evaluator.stVarOverride=u}resolveSelectorElements(t,r){return this.scopeSelector(t,r).elements}scopeSelector(t,r,s,n,o,i=!1){let a=this.createSelectorContext(t,L(r,{clone:!0}),s||ye({selector:r}),r,n,o),l=this.scopeSelectorAst(a);return i&&Ge.unwrapPseudoGlobals(l),{targetSelectorAst:l,selector:Y(l),elements:a.elements,inferredSelector:a.inferredMultipleSelectors}}createSelectorContext(t,r,s,n,o,i){return new Oc(t,this.resolver,r,s,this.scopeSelectorAst.bind(this),this,o,i,void 0,n)}createInferredSelector(t,{name:r,type:s}){let o=this.getResolvedSymbols(t)[s][r];return new Ct(this,o)}scopeSelectorAst(t){let r=(0,fr.groupCompoundSelectors)(t.selectorAst);for(let n of r){t.elements.push([]),t.selectorIndex++,t.selector=n;for(let o of[...n.nodes]){if(o.type!=="compound_selector"){o.type==="combinator"&&(this.experimentalSelectorInference||t.isNested)&&t.setNextSelectorScope(t.inferredSelectorContext,o);continue}t.compoundSelector=o;for(let i of o.nodes)i.type==="universal"&&this.experimentalSelectorInference&&t.setNextSelectorScope([{_kind:"css",meta:t.originMeta,symbol:Ee.createSymbol({name:"*"})}],o),t.node=i,this.handleCompoundNode(t)}t.inferredMultipleSelectors.add(t.inferredSelector),r.length-1>t.selectorIndex&&(t.inferredSelector=new Ct(this,t.inferredSelectorStart))}r.length===0&&t.elements.push([]);let s=(0,fr.splitCompoundSelectors)(r);t.splitSelectors.duplicateSelectors(s);for(let n=0;n<s.length;n++)t.selectorAst[n]=s[n];return s}handleCompoundNode(t){let{inferredSelector:r,node:s,originMeta:n}=t,o={meta:n,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:this.evaluator,getResolvedSymbols:this.getResolvedSymbols};if(s.type==="class")U.hooks.transformSelectorNode({context:o,selectorContext:t,node:s});else if(s.type==="type")Ee.hooks.transformSelectorNode({context:o,selectorContext:t,node:s});else if(s.type==="pseudo_element"){if(s.value==="")return;let i=r.getPseudoElements({isFirstInSelector:t.isFirstInSelector(s),name:s.value,experimentalSelectorInference:this.experimentalSelectorInference})[s.value];i?(t.setNextSelectorScope(i.inferred,s,s.value),t.transform&&t.transformIntoMultiSelector(s,i.selectors)):(t.setNextSelectorScope([],s,s.value),!Kd.includes(s.value)&&!(0,MS.default)(s.value)&&!t.isDuplicateStScopeDiagnostic()&&this.diagnostics.report(GO.UNKNOWN_PSEUDO_ELEMENT(s.value),{node:t.ruleOrAtRule,word:s.value}))}else s.type==="pseudo_class"?be.hooks.transformSelectorNode({context:o,selectorContext:t,node:s})||Xr.hooks.transformSelectorNode({context:o,selectorContext:t,node:s}):s.type==="nesting"?t.setNextSelectorScope(t.inferredSelectorNest,s,s.value):s.type==="attribute"&&vt.hooks.transformSelectorNode({context:o,selectorContext:t,node:s})}};function HO(e,t){let r={};for(let s of t.scopes){let n=e.diagnostics.reports.length,o=ye({selector:s.params}),i=e.createSelectorContext(t,L(o.selector,{clone:!0}),o,o.selector);r[o.selector]=(0,fr.groupCompoundSelectors)(e.scopeSelectorAst(i));let a=e.diagnostics.reports.splice(n);for(let{code:l,message:u,severity:c,word:f}of a)e.diagnostics.report({code:l,message:u,severity:c},{node:s,word:f||s.params})}return r}function QO(e,t,r){let s=!1,n=(0,fr.groupCompoundSelectors)(e),o=n.nodes.find(({type:i})=>i==="compound_selector");if(o){let i=r?a=>a.type==="nesting":a=>a.type==="class"&&a.value===t.root;for(let a=0;a<o.nodes.length;a++){let l=o.nodes[a];if(l.type!=="comment"){i(l)&&(s=!0,o.nodes.splice(a,1));break}}}return{selector:(0,fr.splitCompoundSelectors)(n),hadCompoundStart:s}}var Ct=class e{constructor(t,r){this.api=t;this.resolveSet=new Set;r&&this.add(r)}isEmpty(){return this.resolveSet.size===0}set(t){t!==this&&(this.resolveSet.clear(),this.add(t))}clone(){return new e(this.api,this)}add(t){t instanceof e?t.resolveSet.forEach(r=>this.add(r)):this.resolveSet.add(t)}addPartOverride(t){let r=new Set;for(let s of this.resolveSet)r.add([t,...s]);this.resolveSet.size||r.add([t]),this.resolveSet=r}getPseudoClasses({name:t}={}){let r={},s={},n=this.resolveSet.size,o=(i,a,l)=>{let u=r[i];u?Li(u.state,l)&&(u.meta===a||typeof l=="string"||l?.type==="template")&&s[i]++:(r[i]={meta:a,state:l},s[i]=1)};for(let i of this.resolveSet.values()){let a=new Set;e:for(let{symbol:l,meta:u}of i){let c=l["-st-states"];if(c)if(t){if(Object.hasOwnProperty.call(c,t)){o(t,u,c[t]);break e}}else for(let[f,p]of Object.entries(c))a.has(f)||(a.add(f),o(f,u,p))}}return n>1?Object.entries(r).reduce((i,[a,l])=>(s[a]>=n&&(i[a]=l),i),{}):r}getPseudoElements({isFirstInSelector:t,experimentalSelectorInference:r,name:s}){let n={},o={},i={},a=this.resolveSet.size,l=(u,c,f)=>{let p=n[u]||={inferred:new e(this.api),selectors:[]};p.inferred.matchedElement(c)&&(o[u]++,p.inferred.add(c),p.selectors.push(...f))};for(let u of this.resolveSet.values()){let c=u.length===1||u[0]&&(je.isStructureMode(u[0].meta)||u[0].symbol._kind==="part")?0:1;e:for(let f=c;f<u.length;f++){let{symbol:p,meta:d}=u[f],m=je.isStructureMode(d);if(!(p._kind!=="part"&&(p.alias||!m&&!p["-st-root"]))&&s){let S=p._kind==="part"?p.id:p.name,h=d.source+"::"+S;if(o[s]??=0,i[s]||=new Map,i[s].has(h)){i[s].get(h)&&o[s]++;continue}let v=je.getPart(p,s);if(i[s].set(h,!!v),!v)continue;if(Array.isArray(v.mapTo)){let T=uh(v.mapTo),A=Y(v.mapTo);T.forEach(M=>{let Q=QO(M,d,m);M.nodes=Q.selector.nodes,M.before="",!Q.hadCompoundStart&&!t&&M.nodes.unshift(Bl({combinator:"space"}))});let x=this.api.createSelectorContext(d,T,ye({selector:A}),A);x.isStandaloneSelector=t,!m&&r&&(x.inferredSelectorStart.set(this.api.createInferredSelector(d,{name:"root",type:"class"})),x.inferredSelector.set(x.inferredSelectorStart));let C=this.api.scopeSelectorAst(x),N=C.length===1||r?x.inferredMultipleSelectors:new e(this.api,[{_kind:"css",meta:d,symbol:Ee.createSymbol({name:"*"})}]);m&&N.addPartOverride({_kind:"css",meta:d,symbol:v}),l(s,N,C);break e}else{let T=this.api.getResolvedSymbols(d).class[s],A=Lt(T),x=[];!A.symbol["-st-root"]&&!t&&x.push(Bl({combinator:"space"}));let C={};U.namespaceClass(A.meta,A.symbol,C),x.push(C),l(s,new e(this.api,T),[{type:"selector",after:"",before:"",end:0,start:0,nodes:x}]);break e}}}}return a>1?Object.entries(n).reduce((u,[c,f])=>(o[c]>=a&&(u[c]=f),u),{}):n}matchedElement(t){for(let r of this.resolveSet){let s=Lt(r);for(let n of t.resolveSet){let o=Lt(n);if(s!==o)return!1}}return!0}getSingleResolve(){return this.resolveSet.size!==1?[]:this.resolveSet.values().next().value}},Ic=class{constructor(){this.dupIndicesPerSelector=[]}addSplitPoint(t,r,s){s.length&&(this.dupIndicesPerSelector[t]||=[],this.dupIndicesPerSelector[t].push([r,s]))}duplicateSelectors(t){for(let[r,s]of Object.entries(this.dupIndicesPerSelector)){let n=[t[Number(r)]];for(let[o,i]of s){let a=[];for(let l of i)for(let u of n){let c={...u,nodes:[...u.nodes]};c.nodes[o]=l,a.push(c)}for(let l of a)n.push(l),t.push(l)}}}},Oc=class e{constructor(t,r,s,n,o,i,a,l,u,c){this.originMeta=t;this.resolver=r;this.selectorAst=s;this.ruleOrAtRule=n;this.scopeSelectorAst=o;this.transformer=i;this.inferredSelectorMixin=l;this.transform=!0;this.selectorStr="";this.selectorIndex=-1;this.elements=[];this.selectorAstResolveMap=new Map;this.splitSelectors=new Ic;this.isStandaloneSelector=!0;this.inferredMultipleSelectors=new Ct(this.transformer);this.isNested=!!(n.parent&&n.parent.type!=="root"&&!Ie.isStScopeStatement(n.parent));let f=u||(this.isNested||i.experimentalSelectorInference?new Ct(i,[{_kind:"css",meta:t,symbol:Ee.createSymbol({name:"*"})}]):i.createInferredSelector(t,{name:t.root,type:"class"}));this.selectorStr=c||Y(s),this.inferredSelectorContext=new Ct(this.transformer,f),this.inferredSelectorStart=new Ct(this.transformer,f),this.inferredSelectorNest=a||this.inferredSelectorContext.clone(),this.inferredSelector=new Ct(this.transformer,this.inferredSelectorContext)}get experimentalSelectorInference(){return this.transformer.experimentalSelectorInference}static{this.legacyElementsTypesMapping={pseudo_element:"pseudo-element",class:"class",type:"element"}}setNextSelectorScope(t,r,s){s&&this.selectorIndex!==void 0&&this.selectorIndex!==-1&&this.elements[this.selectorIndex].push({type:e.legacyElementsTypesMapping[r.type]||"unknown",name:s,resolved:Array.isArray(t)?t:t.getSingleResolve()}),this.inferredSelector.set(t),this.selectorAstResolveMap.set(r,this.inferredSelector.clone()),this.lastInferredSelectorNode=r}isFirstInSelector(t){let r=this.selectorAst[this.selectorIndex].nodes[0]===t;return r&&this.selectorIndex===0&&!this.isStandaloneSelector?!1:r}createNestedContext(t,r){let s=new e(this.originMeta,this.resolver,t,this.ruleOrAtRule,this.scopeSelectorAst,this.transformer,this.inferredSelectorNest,this.inferredSelectorMixin,r||this.inferredSelectorContext);return s.transform=this.transform,s.selectorAstResolveMap=this.selectorAstResolveMap,s}transformIntoMultiSelector(t,r){Object.assign(t,r[0]),r.shift();let n=this.selectorAst[this.selectorIndex].nodes.indexOf(t);this.splitSelectors.addSplitPoint(this.selectorIndex,n,r)}isDuplicateStScopeDiagnostic(){if(this.experimentalSelectorInference||this.ruleOrAtRule.type!=="rule")return!1;let t=this.originMeta.transformedScopes?.[kS(this.ruleOrAtRule)||""];if(t&&this.selector&&this.compoundSelector){let r=Y(this.compoundSelector),s=this.selector.nodes.indexOf(this.compoundSelector);for(let n of t)if(s<=n.nodes.length){for(let o of n.nodes)if(Y(o)===r)return!0}}return!1}};function KO(e,t,r){let s=[];t.walk(n=>{let o={context:e,node:n,toRemove:s};Ve.hooks.prepareAST(o),me.hooks.prepareAST(o),r||Ie.hooks.prepareAST(o),Se.hooks.prepareAST(o),r||be.hooks.prepareAST(o),he.hooks.prepareAST(o)});for(let n of s)typeof n=="function"?n():n.remove()}var LS={createResolver:()=>{throw new Error("Stylable requires a custom resolver in lib bundles. please provide `resolveModule` options to the Stylable constructor.")}};function YO(){let e;try{e=Object.keys(VS()._extensions)}catch{e=[]}return e.length?e:[".js",".json"]}var JO={};function Pc(e,t){let r=t.extensions&&t.extensions.length?t.extensions:YO(),s=LS.createResolver({...t,extensions:r,useSyncFileSystemCalls:!0,cache:!1,fileSystem:e});return(n,o)=>{let i=s.resolveSync(JO,n,o);if(i===!1)throw new Error(`Stylable does not support browser field 'false' values. ${o} resolved to 'false' from ${n}`);return i}}function*US({meta:e,resolver:t}){let r=new Set([e.source]),s=[[...e.getImportStatements()]],n=-1;for(;++n<s.length;){let o=-1,i=s[n];for(i.length&&!s[n+1]&&(s[n+1]=[]);++o<i.length;){let a=i[o],l=t.resolveImported(a,"");if(l?._kind==="css"&&!r.has(l.meta.source))r.add(l.meta.source),yield{kind:"css",depth:n+1,meta:l.meta,resolvedPath:l.meta.source,imported:a},s[n+1].push(...l.meta.getImportStatements());else if(l?._kind==="js"){let u=t.resolvePath(a.context,a.request);r.has(u)||(r.add(u),yield{kind:"js",imported:a,resolvedPath:u})}}}}var Dc=class{constructor(t){this.stModule=new me.StylablePublicApi(this);this.stScope=new Ie.StylablePublicApi(this);this.stVar=new Se.StylablePublicApi(this);this.stMixin=new vt.StylablePublicApi(this);this.cssClass=new U.StylablePublicApi(this);this.diagnostics=new ie;this.experimentalSelectorInference=!!t.experimentalSelectorInference,this.projectRoot=t.projectRoot,this.fileSystem=t.fileSystem,this.requireModule=t.requireModule||(()=>{throw new Error("Javascript files are not supported without requireModule options")}),this.onProcess=t.onProcess,this.hooks=t.hooks||{},this.resolveOptions=t.resolveOptions||{},this.optimizer=t.optimizer,this.mode=t.mode||"production",this.resolveNamespace=t.resolveNamespace,this.moduleResolver=t.resolveModule||Pc(this.fileSystem,this.resolveOptions),this.cssParser=t.cssParser||Cs,this.resolverCache=t.resolverCache,this.fileProcessorCache=t.fileProcessorCache,this.flags={...Or,...t.flags},this.fileProcessor=DS({fileSystem:this.fileSystem,onProcess:this.onProcess,resolveNamespace:this.resolveNamespace,cssParser:this.cssParser,cache:this.fileProcessorCache,flags:this.flags}),this.resolver=this.createResolver()}getDependencies(t){let r=[];for(let s of US({meta:t,resolver:this.resolver}))r.push(s);return r}initCache({filter:t}={}){if(t&&this.resolverCache)for(let[r,s]of this.resolverCache)t(r,s)||this.resolverCache.delete(r);else this.resolverCache=new Map,this.resolver=this.createResolver()}createResolver({requireModule:t=this.requireModule,resolverCache:r=this.resolverCache,resolvePath:s=this.moduleResolver}={}){return new qr(this.fileProcessor,t,s,r)}createProcessor({resolveNamespace:t=this.resolveNamespace}={}){return new ss(new ie,t,this.flags)}createTransformer(t={}){return new Fi({moduleResolver:this.moduleResolver,diagnostics:new ie,fileProcessor:this.fileProcessor,requireModule:this.requireModule,postProcessor:this.hooks.postProcessor,replaceValueHook:this.hooks.replaceValueHook,resolverCache:this.resolverCache,mode:this.mode,experimentalSelectorInference:this.experimentalSelectorInference,...t})}transform(t,r={}){let s=typeof t=="string"?this.analyze(t):t;return this.createTransformer(r).transform(s)}transformSelector(t,r,s){let n=typeof t=="string"?this.analyze(t):t,i=this.createTransformer(s).scopeSelector(n,r,void 0,void 0,void 0,!0);return{selector:i.selector,resolved:i.elements}}transformCustomProperty(t,r){let s=typeof t=="string"?this.analyze(t):t;return he.scopeCSSVar(this.resolver,s,r)}transformDecl(t,r,s,n){let o=_e({prop:r,value:s});return this.transformAST(t,Sr({}).append(ye({selector:".x"}).append(o)),n),{prop:o.prop,value:o.value}}transformAST(t,r,s){let n=typeof t=="string"?this.analyze(t):t;return this.createTransformer(s).transformAst(r,n),r}analyze(t,r){return r?this.fileProcessor.processContent(r,t):this.fileProcessor.process(t)}resolvePath(t,r){return this.resolver.resolvePath(t,r)}};function XO({prefix:e="",used:t=new Map}={}){return(r,s)=>{let n=e+r,o=t.get(n);if(o){if(o.stylesheetPath!==s)throw new Error(`namespace (${n} of ${s}) is already in use`)}else t.set(n,{prefix:e,namespace:r,stylesheetPath:s});return n}}function ZO(e,t){let{namespace:r,imports:s=[],jsExports:n,moduleType:o,runtimeRequest:i,varType:a="const",header:l="",footer:u=""}=e,{classes:c,keyframes:f,layers:p,containers:d,stVars:m,vars:S}=n,h=o==="esm"?`export ${a} `:"module.exports.";return`
${s.map(eP(o)).join(`
`)}
${tP(o,i,t)}

${l}

${a} _namespace_ = ${JSON.stringify(r)};
${a} _style_ = /*#__PURE__*/ classesRuntime.bind(null, _namespace_);

${h}cssStates = /*#__PURE__*/ statesRuntime.bind(null, _namespace_);
${h}style = /*#__PURE__*/ _style_;
${h}st = /*#__PURE__*/ _style_;

${h}namespace = _namespace_;
${h}classes = ${JSON.stringify(c)};
${h}keyframes = ${JSON.stringify(f)}; 
${h}layers = ${JSON.stringify(p)};
${h}containers = ${JSON.stringify(d)};
${h}stVars = ${JSON.stringify(m)}; 
${h}vars = ${JSON.stringify(S)}; 

${rP(o,t)}

${u}
`}function eP(e){return({from:t,defaultImport:r})=>{let s=JSON.stringify(t);return r?e==="esm"?`import ${r} from ${s};`:`const ${r} = require(${s});`:e==="esm"?`import ${s};`:`require(${s});`}}function tP(e,t,r){let s=r?.css?", injectCSS":"",n=JSON.stringify(t??(e==="esm"?"@stylable/runtime/esm/runtime.js":"@stylable/runtime/dist/runtime.js"));return e==="esm"?`import { classesRuntime, statesRuntime${s} } from ${n};`:`const { classesRuntime, statesRuntime${s} } = require(${n});`}function rP(e,t){if(!t?.css)return"";let{id:r,css:s,cssCode:n,depthCode:o,depth:i,runtimeId:a}=t,l="injectCSS(";return l+=r?JSON.stringify(r):e==="esm"?"import.meta.url":"module.id",l+=", ",l+=n||JSON.stringify(s),l+=", ",l+=o||JSON.stringify(i)||"-1",l+=", ",l+=JSON.stringify(a),l+=");",l}export{Ru as CustomValueStrategy,ie as Diagnostics,Dc as Stylable,_n as StylableMeta,Nu as createCustomValue,Pc as createDefaultResolver,WI as createNamespaceStrategy,cc as defaultNamespaceBuilder,lS as defaultNoMatchHandler,kw as ensureModuleImport,ZO as generateStylableJSModuleSource,XO as noCollisionNamespace,Lw as parseModuleImportStatement,zO as processNamespace,Fe as validateCustomPropertyName};
/*! Bundled license information:

cssesc/cssesc.js:
  (*! https://mths.be/cssesc v3.0.0 by @mathias *)
*/
//# sourceMappingURL=lib.mjs.map
