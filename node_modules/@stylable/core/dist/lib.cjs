"use strict";var JS=Object.create;var Cn=Object.defineProperty;var XS=Object.getOwnPropertyDescriptor;var ZS=Object.getOwnPropertyNames;var ev=Object.getPrototypeOf,tv=Object.prototype.hasOwnProperty;var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fe=(e,t)=>{for(var r in t)Cn(e,r,{get:t[r],enumerable:!0})},Mc=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ZS(t))!tv.call(e,n)&&n!==r&&Cn(e,n,{get:()=>t[n],enumerable:!(s=XS(t,n))||s.enumerable});return e};var I=(e,t,r)=>(r=e!=null?JS(ev(e)):{},Mc(t||!e||!e.__esModule?Cn(r,"default",{value:e,enumerable:!0}):r,e)),rv=e=>Mc(Cn({},"__esModule",{value:!0}),e);var Vc=g((aP,Wi)=>{var K=String,Fc=function(){return{isColorSupported:!1,reset:K,bold:K,dim:K,italic:K,underline:K,inverse:K,hidden:K,strikethrough:K,black:K,red:K,green:K,yellow:K,blue:K,magenta:K,cyan:K,white:K,gray:K,bgBlack:K,bgRed:K,bgGreen:K,bgYellow:K,bgBlue:K,bgMagenta:K,bgCyan:K,bgWhite:K}};Wi.exports=Fc();Wi.exports.createColors=Fc});var zi=g(()=>{});var En=g((cP,qc)=>{"use strict";var Uc=Vc(),$c=zi(),os=class e extends Error{constructor(t,r,s,n,o,i){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),n&&(this.source=n),i&&(this.plugin=i),typeof r<"u"&&typeof s<"u"&&(typeof r=="number"?(this.line=r,this.column=s):(this.line=r.line,this.column=r.column,this.endLine=s.line,this.endColumn=s.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let r=this.source;t==null&&(t=Uc.isColorSupported),$c&&t&&(r=$c(r));let s=r.split(/\r?\n/),n=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),i=String(o).length,a,l;if(t){let{bold:u,gray:c,red:f}=Uc.createColors(!0);a=p=>u(f(p)),l=p=>c(p)}else a=l=u=>u;return s.slice(n,o).map((u,c)=>{let f=n+1+c,p=" "+(" "+f).slice(-i)+" | ";if(f===this.line){let d=l(p.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+l(p)+u+`
 `+d+a("^")}return" "+l(p)+u}).join(`
`)}toString(){let t=this.showSourceCode();return t&&(t=`

`+t+`
`),this.name+": "+this.message+t}};qc.exports=os;os.default=os});var Tn=g((fP,Gi)=>{"use strict";Gi.exports.isClean=Symbol("isClean");Gi.exports.my=Symbol("my")});var Hi=g((pP,Bc)=>{"use strict";var jc={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function sv(e){return e[0].toUpperCase()+e.slice(1)}var is=class{constructor(t){this.builder=t}atrule(t,r){let s="@"+t.name,n=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?s+=t.raws.afterName:n&&(s+=" "),t.nodes)this.block(t,s+n);else{let o=(t.raws.between||"")+(r?";":"");this.builder(s+n+o,t)}}beforeAfter(t,r){let s;t.type==="decl"?s=this.raw(t,null,"beforeDecl"):t.type==="comment"?s=this.raw(t,null,"beforeComment"):r==="before"?s=this.raw(t,null,"beforeRule"):s=this.raw(t,null,"beforeClose");let n=t.parent,o=0;for(;n&&n.type!=="root";)o+=1,n=n.parent;if(s.includes(`
`)){let i=this.raw(t,null,"indent");if(i.length)for(let a=0;a<o;a++)s+=i}return s}block(t,r){let s=this.raw(t,"between","beforeOpen");this.builder(r+s+"{",t,"start");let n;t.nodes&&t.nodes.length?(this.body(t),n=this.raw(t,"after")):n=this.raw(t,"after","emptyBody"),n&&this.builder(n),this.builder("}",t,"end")}body(t){let r=t.nodes.length-1;for(;r>0&&t.nodes[r].type==="comment";)r-=1;let s=this.raw(t,"semicolon");for(let n=0;n<t.nodes.length;n++){let o=t.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,r!==n||s)}}comment(t){let r=this.raw(t,"left","commentLeft"),s=this.raw(t,"right","commentRight");this.builder("/*"+r+t.text+s+"*/",t)}decl(t,r){let s=this.raw(t,"between","colon"),n=t.prop+s+this.rawValue(t,"value");t.important&&(n+=t.raws.important||" !important"),r&&(n+=";"),this.builder(n,t)}document(t){this.body(t)}raw(t,r,s){let n;if(s||(s=r),r&&(n=t.raws[r],typeof n<"u"))return n;let o=t.parent;if(s==="before"&&(!o||o.type==="root"&&o.first===t||o&&o.type==="document"))return"";if(!o)return jc[s];let i=t.root();if(i.rawCache||(i.rawCache={}),typeof i.rawCache[s]<"u")return i.rawCache[s];if(s==="before"||s==="after")return this.beforeAfter(t,s);{let a="raw"+sv(s);this[a]?n=this[a](i,t):i.walk(l=>{if(n=l.raws[r],typeof n<"u")return!1})}return typeof n>"u"&&(n=jc[s]),i.rawCache[s]=n,n}rawBeforeClose(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length>0&&typeof s.raws.after<"u")return r=s.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawBeforeComment(t,r){let s;return t.walkComments(n=>{if(typeof n.raws.before<"u")return s=n.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(r,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeDecl(t,r){let s;return t.walkDecls(n=>{if(typeof n.raws.before<"u")return s=n.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(r,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeOpen(t){let r;return t.walk(s=>{if(s.type!=="decl"&&(r=s.raws.between,typeof r<"u"))return!1}),r}rawBeforeRule(t){let r;return t.walk(s=>{if(s.nodes&&(s.parent!==t||t.first!==s)&&typeof s.raws.before<"u")return r=s.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawColon(t){let r;return t.walkDecls(s=>{if(typeof s.raws.between<"u")return r=s.raws.between.replace(/[^\s:]/g,""),!1}),r}rawEmptyBody(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length===0&&(r=s.raws.after,typeof r<"u"))return!1}),r}rawIndent(t){if(t.raws.indent)return t.raws.indent;let r;return t.walk(s=>{let n=s.parent;if(n&&n!==t&&n.parent&&n.parent===t&&typeof s.raws.before<"u"){let o=s.raws.before.split(`
`);return r=o[o.length-1],r=r.replace(/\S/g,""),!1}}),r}rawSemicolon(t){let r;return t.walk(s=>{if(s.nodes&&s.nodes.length&&s.last.type==="decl"&&(r=s.raws.semicolon,typeof r<"u"))return!1}),r}rawValue(t,r){let s=t[r],n=t.raws[r];return n&&n.value===s?n.raw:s}root(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}rule(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}stringify(t,r){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,r)}};Bc.exports=is;is.default=is});var as=g((dP,Wc)=>{"use strict";var nv=Hi();function Qi(e,t){new nv(t).stringify(e)}Wc.exports=Qi;Qi.default=Qi});var us=g((mP,zc)=>{"use strict";var{isClean:xn,my:ov}=Tn(),iv=En(),av=Hi(),lv=as();function Ki(e,t){let r=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s)||s==="proxyCache")continue;let n=e[s],o=typeof n;s==="parent"&&o==="object"?t&&(r[s]=t):s==="source"?r[s]=n:Array.isArray(n)?r[s]=n.map(i=>Ki(i,r)):(o==="object"&&n!==null&&(n=Ki(n)),r[s]=n)}return r}var ls=class{constructor(t={}){this.raws={},this[xn]=!1,this[ov]=!0;for(let r in t)if(r==="nodes"){this.nodes=[];for(let s of t[r])typeof s.clone=="function"?this.append(s.clone()):this.append(s)}else this[r]=t[r]}addToError(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){let r=this.source;t.stack=t.stack.replace(/\n\s{4}at /,`$&${r.input.from}:${r.start.line}:${r.start.column}$&`)}return t}after(t){return this.parent.insertAfter(this,t),this}assign(t={}){for(let r in t)this[r]=t[r];return this}before(t){return this.parent.insertBefore(this,t),this}cleanRaws(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}clone(t={}){let r=Ki(this);for(let s in t)r[s]=t[s];return r}cloneAfter(t={}){let r=this.clone(t);return this.parent.insertAfter(this,r),r}cloneBefore(t={}){let r=this.clone(t);return this.parent.insertBefore(this,r),r}error(t,r={}){if(this.source){let{end:s,start:n}=this.rangeBy(r);return this.source.input.error(t,{column:n.column,line:n.line},{column:s.column,line:s.line},r)}return new iv(t)}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:r==="root"?()=>t.root().toProxy():t[r]},set(t,r,s){return t[r]===s||(t[r]=s,(r==="prop"||r==="value"||r==="name"||r==="params"||r==="important"||r==="text")&&t.markDirty()),!0}}}markDirty(){if(this[xn]){this[xn]=!1;let t=this;for(;t=t.parent;)t[xn]=!1}}next(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t+1]}positionBy(t,r){let s=this.source.start;if(t.index)s=this.positionInside(t.index,r);else if(t.word){r=this.toString();let n=r.indexOf(t.word);n!==-1&&(s=this.positionInside(n,r))}return s}positionInside(t,r){let s=r||this.toString(),n=this.source.start.column,o=this.source.start.line;for(let i=0;i<t;i++)s[i]===`
`?(n=1,o+=1):n+=1;return{column:n,line:o}}prev(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t-1]}rangeBy(t){let r={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:r.column+1,line:r.line};if(t.word){let n=this.toString(),o=n.indexOf(t.word);o!==-1&&(r=this.positionInside(o,n),s=this.positionInside(o+t.word.length,n))}else t.start?r={column:t.start.column,line:t.start.line}:t.index&&(r=this.positionInside(t.index)),t.end?s={column:t.end.column,line:t.end.line}:t.endIndex?s=this.positionInside(t.endIndex):t.index&&(s=this.positionInside(t.index+1));return(s.line<r.line||s.line===r.line&&s.column<=r.column)&&(s={column:r.column+1,line:r.line}),{end:s,start:r}}raw(t,r){return new av().raw(this,t,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...t){if(this.parent){let r=this,s=!1;for(let n of t)n===this?s=!0:s?(this.parent.insertAfter(r,n),r=n):this.parent.insertBefore(r,n);s||this.remove()}return this}root(){let t=this;for(;t.parent&&t.parent.type!=="document";)t=t.parent;return t}toJSON(t,r){let s={},n=r==null;r=r||new Map;let o=0;for(let i in this){if(!Object.prototype.hasOwnProperty.call(this,i)||i==="parent"||i==="proxyCache")continue;let a=this[i];if(Array.isArray(a))s[i]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,r):l);else if(typeof a=="object"&&a.toJSON)s[i]=a.toJSON(null,r);else if(i==="source"){let l=r.get(a.input);l==null&&(l=o,r.set(a.input,o),o++),s[i]={end:a.end,inputId:l,start:a.start}}else s[i]=a}return n&&(s.inputs=[...r.keys()].map(i=>i.toJSON())),s}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(t=lv){t.stringify&&(t=t.stringify);let r="";return t(this,s=>{r+=s}),r}warn(t,r,s){let n={node:this};for(let o in s)n[o]=s[o];return t.warn(r,n)}get proxyOf(){return this}};zc.exports=ls;ls.default=ls});var fs=g((hP,Gc)=>{"use strict";var uv=us(),cs=class extends uv{constructor(t){t&&typeof t.value<"u"&&typeof t.value!="string"&&(t={...t,value:String(t.value)}),super(t),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};Gc.exports=cs;cs.default=cs});var wn=g(()=>{});var De=g((SP,Kc)=>{var ps={cwd:function(){return"/"},env:{}};function Hc(e){let t=typeof e;return t==="object"&&e===null?"null":t}function te(e,t){if(typeof e!="string")throw new TypeError(`[ERR_INVALID_ARG_TYPE]: The "${t}" argument must be of type string. Received ${Hc(e)}`)}function P(e){return e===47||e===92}function Yi(e){return e===47}function Et(e){return e>=65&&e<=90||e>=97&&e<=122}function Rn(e,t,r,s){let n="",o=0,i=-1,a=0,l=0;for(let u=0;u<=e.length;++u){if(u<e.length)l=e.charCodeAt(u);else{if(s(l))break;l=47}if(s(l)){if(!(i===u-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){let c=n.lastIndexOf(r);c===-1?(n="",o=0):(n=n.slice(0,c),o=n.length-1-n.lastIndexOf(r)),i=u,a=0;continue}else if(n.length!==0){n="",o=0,i=u,a=0;continue}}t&&(n+=n.length>0?`${r}..`:"..",o=2)}else n.length>0?n+=`${r}${e.slice(i+1,u)}`:n=e.slice(i+1,u),o=u-i-1;i=u,a=0}else l===46&&a!==-1?++a:a=-1}return n}function Qc(e,t){if(t===null||typeof t!="object")throw new TypeError(`[ERR_INVALID_ARG_TYPE]: The "pathObject" argument must be of type object. Received ${Hc(t)}`);let r=t.dir||t.root,s=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${s}`:`${r}${e}${s}`:s}var Ke={resolve(...e){let t="",r="",s=!1;for(let n=e.length-1;n>=-1;n--){let o;if(n>=0){if(o=e[n],te(o,"path"),o.length===0)continue}else t.length===0?o=ps.cwd():(o=ps.env[`=${t}`]||ps.cwd(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===92)&&(o=`${t}\\`));let i=o.length,a=0,l="",u=!1,c=o.charCodeAt(0);if(i===1)P(c)&&(a=1,u=!0);else if(P(c))if(u=!0,P(o.charCodeAt(1))){let f=2,p=f;for(;f<i&&!P(o.charCodeAt(f));)f++;if(f<i&&f!==p){let d=o.slice(p,f);for(p=f;f<i&&P(o.charCodeAt(f));)f++;if(f<i&&f!==p){for(p=f;f<i&&!P(o.charCodeAt(f));)f++;(f===i||f!==p)&&(l=`\\\\${d}\\${o.slice(p,f)}`,a=f)}}}else a=1;else Et(c)&&o.charCodeAt(1)===58&&(l=o.slice(0,2),a=2,i>2&&P(o.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(s){if(t.length>0)break}else if(r=`${o.slice(a)}\\${r}`,s=u,u&&t.length>0)break}return r=Rn(r,!s,"\\",P),s?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){te(e,"path");let t=e.length;if(t===0)return".";let r=0,s,n=!1,o=e.charCodeAt(0);if(t===1)return Yi(o)?"\\":e;if(P(o))if(n=!0,P(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!P(e.charCodeAt(a));)a++;if(a<t&&a!==l){let u=e.slice(l,a);for(l=a;a<t&&P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!P(e.charCodeAt(a));)a++;if(a===t)return`\\\\${u}\\${e.slice(l)}\\`;a!==l&&(s=`\\\\${u}\\${e.slice(l,a)}`,r=a)}}}else r=1;else Et(o)&&e.charCodeAt(1)===58&&(s=e.slice(0,2),r=2,t>2&&P(e.charCodeAt(2))&&(n=!0,r=3));let i=r<t?Rn(e.slice(r),!n,"\\",P):"";return i.length===0&&!n&&(i="."),i.length>0&&P(e.charCodeAt(t-1))&&(i+="\\"),s===void 0?n?`\\${i}`:i:n?`${s}\\${i}`:`${s}${i}`},isAbsolute(e){te(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return P(r)||t>2&&Et(r)&&e.charCodeAt(1)===58&&P(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let i=e[o];te(i,"path"),i.length>0&&(t===void 0?t=r=i:t+=`\\${i}`)}if(t===void 0)return".";let s=!0,n=0;if(P(r.charCodeAt(0))){++n;let o=r.length;o>1&&P(r.charCodeAt(1))&&(++n,o>2&&(P(r.charCodeAt(2))?++n:s=!1))}if(s){for(;n<t.length&&P(t.charCodeAt(n));)n++;n>=2&&(t=`\\${t.slice(n)}`)}return Ke.normalize(t)},relative(e,t){if(te(e,"from"),te(t,"to"),e===t)return"";let r=Ke.resolve(e),s=Ke.resolve(t);if(r===s||(e=r.toLowerCase(),t=s.toLowerCase(),e===t))return"";let n=0;for(;n<e.length&&e.charCodeAt(n)===92;)n++;let o=e.length;for(;o-1>n&&e.charCodeAt(o-1)===92;)o--;let i=o-n,a=0;for(;a<t.length&&t.charCodeAt(a)===92;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===92;)l--;let u=l-a,c=i<u?i:u,f=-1,p=0;for(;p<c;p++){let m=e.charCodeAt(n+p);if(m!==t.charCodeAt(a+p))break;m===92&&(f=p)}if(p!==c){if(f===-1)return s}else{if(u>c){if(t.charCodeAt(a+p)===92)return s.slice(a+p+1);if(p===2)return s.slice(a+p)}i>c&&(e.charCodeAt(n+p)===92?f=p:p===2&&(f=3)),f===-1&&(f=0)}let d="";for(p=n+f+1;p<=o;++p)(p===o||e.charCodeAt(p)===92)&&(d+=d.length===0?"..":"\\..");return a+=f,d.length>0?`${d}${s.slice(a,l)}`:(s.charCodeAt(a)===92&&++a,s.slice(a,l))},toNamespacedPath(e){if(typeof e!="string")return e;if(e.length===0)return"";let t=Ke.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===92){if(t.charCodeAt(1)===92){let r=t.charCodeAt(2);if(r!==63&&r!==46)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Et(t.charCodeAt(0))&&t.charCodeAt(1)===58&&t.charCodeAt(2)===92)return`\\\\?\\${t}`;return e},dirname(e){te(e,"path");let t=e.length;if(t===0)return".";let r=-1,s=0,n=e.charCodeAt(0);if(t===1)return P(n)?e:".";if(P(n)){if(r=s=1,P(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&P(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!P(e.charCodeAt(a));)a++;if(a===t)return e;a!==l&&(r=s=a+1)}}}}else Et(n)&&e.charCodeAt(1)===58&&(r=t>2&&P(e.charCodeAt(2))?3:2,s=r);let o=-1,i=!0;for(let a=t-1;a>=s;--a)if(P(e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&te(t,"ext"),te(e,"path");let r=0,s=-1,n=!0;if(e.length>=2&&Et(e.charCodeAt(0))&&e.charCodeAt(1)===58&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,i=-1;for(let a=e.length-1;a>=r;--a){let l=e.charCodeAt(a);if(P(l)){if(!n){r=a+1;break}}else i===-1&&(n=!1,i=a+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=i))}return r===s?s=i:s===-1&&(s=e.length),e.slice(r,s)}for(let o=e.length-1;o>=r;--o)if(P(e.charCodeAt(o))){if(!n){r=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":e.slice(r,s)},extname(e){te(e,"path");let t=0,r=-1,s=0,n=-1,o=!0,i=0;e.length>=2&&e.charCodeAt(1)===58&&Et(e.charCodeAt(0))&&(t=s=2);for(let a=e.length-1;a>=t;--a){let l=e.charCodeAt(a);if(P(l)){if(!o){s=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===46?r===-1?r=a:i!==1&&(i=1):r!==-1&&(i=-1)}return r===-1||n===-1||i===0||i===1&&r===n-1&&r===s+1?"":e.slice(r,n)},format:Qc.bind(null,"\\"),parse(e){te(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,s=0,n=e.charCodeAt(0);if(r===1)return P(n)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(P(n)){if(s=1,P(e.charCodeAt(1))){let f=2,p=f;for(;f<r&&!P(e.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&P(e.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&!P(e.charCodeAt(f));)f++;f===r?s=f:f!==p&&(s=f+1)}}}}else if(Et(n)&&e.charCodeAt(1)===58){if(r<=2)return t.root=t.dir=e,t;if(s=2,P(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;s=3}}s>0&&(t.root=e.slice(0,s));let o=-1,i=s,a=-1,l=!0,u=e.length-1,c=0;for(;u>=s;--u){if(n=e.charCodeAt(u),P(n)){if(!l){i=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return a!==-1&&(o===-1||c===0||c===1&&o===a-1&&o===i+1?t.base=t.name=e.slice(i,a):(t.name=e.slice(i,o),t.base=e.slice(i,a),t.ext=e.slice(o,a))),i>0&&i!==s?t.dir=e.slice(0,i-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},rt={resolve(...e){let t="",r=!1;for(let s=e.length-1;s>=-1&&!r;s--){let n=s>=0?e[s]:ps.cwd();te(n,"path"),n.length!==0&&(t=`${n}/${t}`,r=n.charCodeAt(0)===47)}return t=Rn(t,!r,"/",Yi),r?`/${t}`:t.length>0?t:"."},normalize(e){if(te(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Rn(e,!t,"/",Yi),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return te(e,"path"),e.length>0&&e.charCodeAt(0)===47},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let s=e[r];te(s,"path"),s.length>0&&(t===void 0?t=s:t+=`/${s}`)}return t===void 0?".":rt.normalize(t)},relative(e,t){if(te(e,"from"),te(t,"to"),e===t||(e=rt.resolve(e),t=rt.resolve(t),e===t))return"";let r=1,s=e.length,n=s-r,o=1,i=t.length-o,a=n<i?n:i,l=-1,u=0;for(;u<a;u++){let f=e.charCodeAt(r+u);if(f!==t.charCodeAt(o+u))break;f===47&&(l=u)}if(u===a)if(i>a){if(t.charCodeAt(o+u)===47)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else n>a&&(e.charCodeAt(r+u)===47?l=u:u===0&&(l=0));let c="";for(u=r+l+1;u<=s;++u)(u===s||e.charCodeAt(u)===47)&&(c+=c.length===0?"..":"/..");return`${c}${t.slice(o+l)}`},toNamespacedPath(e){return e},dirname(e){if(te(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===47,r=-1,s=!0;for(let n=e.length-1;n>=1;--n)if(e.charCodeAt(n)===47){if(!s){r=n;break}}else s=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&te(t,"ext"),te(e,"path");let r=0,s=-1,n=!0;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,i=-1;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===47){if(!n){r=a+1;break}}else i===-1&&(n=!1,i=a+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=i))}return r===s?s=i:s===-1&&(s=e.length),e.slice(r,s)}for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!n){r=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":e.slice(r,s)},extname(e){te(e,"path");let t=-1,r=0,s=-1,n=!0,o=0;for(let i=e.length-1;i>=0;--i){let a=e.charCodeAt(i);if(a===47){if(!n){r=i+1;break}continue}s===-1&&(n=!1,s=i+1),a===46?t===-1?t=i:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||s===-1||o===0||o===1&&t===s-1&&t===r+1?"":e.slice(t,s)},format:Qc.bind(null,"/"),parse(e){te(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===47,s;r?(t.root="/",s=1):s=0;let n=-1,o=0,i=-1,a=!0,l=e.length-1,u=0;for(;l>=s;--l){let c=e.charCodeAt(l);if(c===47){if(!a){o=l+1;break}continue}i===-1&&(a=!1,i=l+1),c===46?n===-1?n=l:u!==1&&(u=1):n!==-1&&(u=-1)}if(i!==-1){let c=o===0&&r?1:o;n===-1||u===0||u===1&&n===i-1&&n===o+1?t.base=t.name=e.slice(c,i):(t.name=e.slice(c,n),t.base=e.slice(c,i),t.ext=e.slice(n,i))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};rt.win32=Ke.win32=Ke;rt.posix=Ke.posix=rt;Ke._makeLong=Ke.toNamespacedPath;rt._makeLong=rt.toNamespacedPath;Kc.exports=ps.platform==="win32"?Ke:rt});var Ji=g(()=>{});var Jc=g((_P,Yc)=>{var cv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",fv=(e,t=21)=>(r=t)=>{let s="",n=r;for(;n--;)s+=e[Math.random()*e.length|0];return s},pv=(e=21)=>{let t="",r=e;for(;r--;)t+=cv[Math.random()*64|0];return t};Yc.exports={nanoid:pv,customAlphabet:fv}});var Xc=g(()=>{});var Zi=g((EP,tf)=>{"use strict";var{SourceMapConsumer:Zc,SourceMapGenerator:ef}=wn(),{existsSync:dv,readFileSync:mv}=Xc(),{dirname:Xi,join:hv}=De();function yv(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var ds=class{constructor(t,r){if(r.map===!1)return;this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");let s=r.map?r.map.prev:void 0,n=this.loadMap(r.from,s);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=Xi(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Zc(this.text)),this.consumerCache}decodeInline(t){let r=/^data:application\/json;charset=utf-?8;base64,/,s=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(n.test(t)||o.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(r.test(t)||s.test(t))return yv(t.substr(RegExp.lastMatch.length));let i=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+i)}getAnnotationURL(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(t){return typeof t!="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)}loadAnnotation(t){let r=t.match(/\/\*\s*# sourceMappingURL=/gm);if(!r)return;let s=t.lastIndexOf(r.pop()),n=t.indexOf("*/",s);s>-1&&n>-1&&(this.annotation=this.getAnnotationURL(t.substring(s,n)))}loadFile(t){if(this.root=Xi(t),dv(t))return this.mapFile=t,mv(t,"utf-8").toString().trim()}loadMap(t,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){let s=r(t);if(s){let n=this.loadFile(s);if(!n)throw new Error("Unable to load previous source map: "+s.toString());return n}}else{if(r instanceof Zc)return ef.fromSourceMap(r).toString();if(r instanceof ef)return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let s=this.annotation;return t&&(s=hv(Xi(t),s)),this.loadFile(s)}}}startWith(t,r){return t?t.substr(0,r.length)===r:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};tf.exports=ds;ds.default=ds});var ms=g((TP,of)=>{"use strict";var{SourceMapConsumer:gv,SourceMapGenerator:Sv}=wn(),{fileURLToPath:rf,pathToFileURL:Nn}=Ji(),{isAbsolute:ra,resolve:sa}=De(),{nanoid:vv}=Jc(),ea=zi(),sf=En(),bv=Zi(),ta=Symbol("fromOffsetCache"),_v=!!(gv&&Sv),nf=!!(sa&&ra),pr=class{constructor(t,r={}){if(t===null||typeof t>"u"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!nf||/^\w+:\/\//.test(r.from)||ra(r.from)?this.file=r.from:this.file=sa(r.from)),nf&&_v){let s=new bv(this.css,r);if(s.text){this.map=s;let n=s.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+vv(6)+">"),this.map&&(this.map.file=this.from)}error(t,r,s,n={}){let o,i,a;if(r&&typeof r=="object"){let u=r,c=s;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);r=f.line,s=f.col}else r=u.line,s=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);i=f.line,a=f.col}else i=c.line,a=c.column}else if(!s){let u=this.fromOffset(r);r=u.line,s=u.col}let l=this.origin(r,s,i,a);return l?o=new sf(t,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,n.plugin):o=new sf(t,i===void 0?r:{column:s,line:r},i===void 0?s:{column:a,line:i},this.css,this.file,n.plugin),o.input={column:s,endColumn:a,endLine:i,line:r,source:this.css},this.file&&(Nn&&(o.input.url=Nn(this.file).toString()),o.input.file=this.file),o}fromOffset(t){let r,s;if(this[ta])s=this[ta];else{let o=this.css.split(`
`);s=new Array(o.length);let i=0;for(let a=0,l=o.length;a<l;a++)s[a]=i,i+=o[a].length+1;this[ta]=s}r=s[s.length-1];let n=0;if(t>=r)n=s.length-1;else{let o=s.length-2,i;for(;n<o;)if(i=n+(o-n>>1),t<s[i])o=i-1;else if(t>=s[i+1])n=i+1;else{n=i;break}}return{col:t-s[n]+1,line:n+1}}mapResolve(t){return/^\w+:\/\//.test(t)?t:sa(this.map.consumer().sourceRoot||this.map.root||".",t)}origin(t,r,s,n){if(!this.map)return!1;let o=this.map.consumer(),i=o.originalPositionFor({column:r,line:t});if(!i.source)return!1;let a;typeof s=="number"&&(a=o.originalPositionFor({column:n,line:s}));let l;ra(i.source)?l=Nn(i.source):l=new URL(i.source,this.map.consumer().sourceRoot||Nn(this.map.mapFile));let u={column:i.column,endColumn:a&&a.column,endLine:a&&a.line,line:i.line,url:l.toString()};if(l.protocol==="file:")if(rf)u.file=rf(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(i.source);return c&&(u.source=c),u}toJSON(){let t={};for(let r of["hasBOM","css","file","id"])this[r]!=null&&(t[r]=this[r]);return this.map&&(t.map={...this.map},t.map.consumerCache&&(t.map.consumerCache=void 0)),t}get from(){return this.file||this.id}};of.exports=pr;pr.default=pr;ea&&ea.registerInput&&ea.registerInput(pr)});var oa=g((xP,pf)=>{"use strict";var{SourceMapConsumer:lf,SourceMapGenerator:In}=wn(),{dirname:On,relative:uf,resolve:cf,sep:ff}=De(),{pathToFileURL:af}=Ji(),Av=ms(),Cv=!!(lf&&In),Ev=!!(On&&cf&&uf&&ff),na=class{constructor(t,r,s,n){this.stringify=t,this.mapOpts=s.map||{},this.root=r,this.opts=s,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";let r=`
`;this.css.includes(`\r
`)&&(r=`\r
`),this.css+=r+"/*# sourceMappingURL="+t+" */"}applyPrevMaps(){for(let t of this.previous()){let r=this.toUrl(this.path(t.file)),s=t.root||On(t.file),n;this.mapOpts.sourcesContent===!1?(n=new lf(t.text),n.sourcesContent&&(n.sourcesContent=n.sourcesContent.map(()=>null))):n=t.consumer(),this.map.applySourceMap(n,r,this.toUrl(this.path(s)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let t;for(let r=this.root.nodes.length-1;r>=0;r--)t=this.root.nodes[r],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(r)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Ev&&Cv&&this.isMap())return this.generateMap();{let t="";return this.stringify(this.root,r=>{t+=r}),[t]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=In.fromSourceMap(t)}else this.map=new In({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new In({file:this.outputFile()});let t=1,r=1,s="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,i;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(n.generated.line=t,n.generated.column=r-1,l.source&&l.source.start?(n.source=this.sourcePath(l),n.original.line=l.source.start.line,n.original.column=l.source.start.column-1,this.map.addMapping(n)):(n.source=s,n.original.line=1,n.original.column=0,this.map.addMapping(n))),o=a.match(/\n/g),o?(t+=o.length,i=a.lastIndexOf(`
`),r=a.length-i):r+=a.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(n.source=this.sourcePath(l),n.original.line=l.source.end.line,n.original.column=l.source.end.column-1,n.generated.line=t,n.generated.column=r-2,this.map.addMapping(n)):(n.source=s,n.original.line=1,n.original.column=0,n.generated.line=t,n.generated.column=r-1,this.map.addMapping(n)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(t=>t.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(r=>r.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(t=>t.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;let r=this.memoizedPaths.get(t);if(r)return r;let s=this.opts.to?On(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=On(cf(s,this.mapOpts.annotation)));let n=uf(s,t);return this.memoizedPaths.set(t,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(t=>{if(t.source&&t.source.input.map){let r=t.source.input.map;this.previousMaps.includes(r)||this.previousMaps.push(r)}});else{let t=new Av(this.css,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}setSourcesContent(){let t={};if(this.root)this.root.walk(r=>{if(r.source){let s=r.source.input.from;if(s&&!t[s]){t[s]=!0;let n=this.usesFileUrls?this.toFileUrl(s):this.toUrl(this.path(s));this.map.setSourceContent(n,r.source.input.css)}}});else if(this.css){let r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}sourcePath(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}toBase64(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}toFileUrl(t){let r=this.memoizedFileURLs.get(t);if(r)return r;if(af){let s=af(t).toString();return this.memoizedFileURLs.set(t,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(t){let r=this.memoizedURLs.get(t);if(r)return r;ff==="\\"&&(t=t.replace(/\\/g,"/"));let s=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,s),s}};pf.exports=na});var dr=g((wP,df)=>{"use strict";var Tv=us(),hs=class extends Tv{constructor(t){super(t),this.type="comment"}};df.exports=hs;hs.default=hs});var Tt=g((RP,Af)=>{"use strict";var{isClean:mf,my:hf}=Tn(),yf=fs(),gf=dr(),xv=us(),Sf,ia,aa,vf;function bf(e){return e.map(t=>(t.nodes&&(t.nodes=bf(t.nodes)),delete t.source,t))}function _f(e){if(e[mf]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)_f(t)}var Be=class e extends xv{append(...t){for(let r of t){let s=this.normalize(r,this.last);for(let n of s)this.proxyOf.nodes.push(n)}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let r of this.nodes)r.cleanRaws(t)}each(t){if(!this.proxyOf.nodes)return;let r=this.getIterator(),s,n;for(;this.indexes[r]<this.proxyOf.nodes.length&&(s=this.indexes[r],n=t(this.proxyOf.nodes[s],s),n!==!1);)this.indexes[r]+=1;return delete this.indexes[r],n}every(t){return this.nodes.every(t)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:t[r]?r==="each"||typeof r=="string"&&r.startsWith("walk")?(...s)=>t[r](...s.map(n=>typeof n=="function"?(o,i)=>n(o.toProxy(),i):n)):r==="every"||r==="some"?s=>t[r]((n,...o)=>s(n.toProxy(),...o)):r==="root"?()=>t.root().toProxy():r==="nodes"?t.nodes.map(s=>s.toProxy()):r==="first"||r==="last"?t[r].toProxy():t[r]:t[r]},set(t,r,s){return t[r]===s||(t[r]=s,(r==="name"||r==="params"||r==="selector")&&t.markDirty()),!0}}}index(t){return typeof t=="number"?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}insertAfter(t,r){let s=this.index(t),n=this.normalize(r,this.proxyOf.nodes[s]).reverse();s=this.index(t);for(let i of n)this.proxyOf.nodes.splice(s+1,0,i);let o;for(let i in this.indexes)o=this.indexes[i],s<o&&(this.indexes[i]=o+n.length);return this.markDirty(),this}insertBefore(t,r){let s=this.index(t),n=s===0?"prepend":!1,o=this.normalize(r,this.proxyOf.nodes[s],n).reverse();s=this.index(t);for(let a of o)this.proxyOf.nodes.splice(s,0,a);let i;for(let a in this.indexes)i=this.indexes[a],s<=i&&(this.indexes[a]=i+o.length);return this.markDirty(),this}normalize(t,r){if(typeof t=="string")t=bf(Sf(t).nodes);else if(Array.isArray(t)){t=t.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type==="root"&&this.type!=="document"){t=t.nodes.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");typeof t.value!="string"&&(t.value=String(t.value)),t=[new yf(t)]}else if(t.selector)t=[new ia(t)];else if(t.name)t=[new aa(t)];else if(t.text)t=[new gf(t)];else throw new Error("Unknown node type in node creation");return t.map(n=>(n[hf]||e.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[mf]&&_f(n),typeof n.raws.before>"u"&&r&&typeof r.raws.before<"u"&&(n.raws.before=r.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(...t){t=t.reverse();for(let r of t){let s=this.normalize(r,this.first,"prepend").reverse();for(let n of s)this.proxyOf.nodes.unshift(n);for(let n in this.indexes)this.indexes[n]=this.indexes[n]+s.length}return this.markDirty(),this}push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(t){t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);let r;for(let s in this.indexes)r=this.indexes[s],r>=t&&(this.indexes[s]=r-1);return this.markDirty(),this}replaceValues(t,r,s){return s||(s=r,r={}),this.walkDecls(n=>{r.props&&!r.props.includes(n.prop)||r.fast&&!n.value.includes(r.fast)||(n.value=n.value.replace(t,s))}),this.markDirty(),this}some(t){return this.nodes.some(t)}walk(t){return this.each((r,s)=>{let n;try{n=t(r,s)}catch(o){throw r.addToError(o)}return n!==!1&&r.walk&&(n=r.walk(t)),n})}walkAtRules(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="atrule"&&t.test(s.name))return r(s,n)}):this.walk((s,n)=>{if(s.type==="atrule"&&s.name===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="atrule")return r(s,n)}))}walkComments(t){return this.walk((r,s)=>{if(r.type==="comment")return t(r,s)})}walkDecls(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="decl"&&t.test(s.prop))return r(s,n)}):this.walk((s,n)=>{if(s.type==="decl"&&s.prop===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="decl")return r(s,n)}))}walkRules(t,r){return r?t instanceof RegExp?this.walk((s,n)=>{if(s.type==="rule"&&t.test(s.selector))return r(s,n)}):this.walk((s,n)=>{if(s.type==="rule"&&s.selector===t)return r(s,n)}):(r=t,this.walk((s,n)=>{if(s.type==="rule")return r(s,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Be.registerParse=e=>{Sf=e};Be.registerRule=e=>{ia=e};Be.registerAtRule=e=>{aa=e};Be.registerRoot=e=>{vf=e};Af.exports=Be;Be.default=Be;Be.rebuild=e=>{e.type==="atrule"?Object.setPrototypeOf(e,aa.prototype):e.type==="rule"?Object.setPrototypeOf(e,ia.prototype):e.type==="decl"?Object.setPrototypeOf(e,yf.prototype):e.type==="comment"?Object.setPrototypeOf(e,gf.prototype):e.type==="root"&&Object.setPrototypeOf(e,vf.prototype),e[hf]=!0,e.nodes&&e.nodes.forEach(t=>{Be.rebuild(t)})}});var Pn=g((NP,Tf)=>{"use strict";var wv=Tt(),Cf,Ef,Ut=class extends wv{constructor(t){super({type:"document",...t}),this.nodes||(this.nodes=[])}toResult(t={}){return new Cf(new Ef,this,t).stringify()}};Ut.registerLazyResult=e=>{Cf=e};Ut.registerProcessor=e=>{Ef=e};Tf.exports=Ut;Ut.default=Ut});var la=g((IP,wf)=>{"use strict";var xf={};wf.exports=function(t){xf[t]||(xf[t]=!0,typeof console<"u"&&console.warn&&console.warn(t))}});var ua=g((OP,Rf)=>{"use strict";var ys=class{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let s=r.node.rangeBy(r);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(let s in r)this[s]=r[s]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};Rf.exports=ys;ys.default=ys});var Dn=g((PP,Nf)=>{"use strict";var Rv=ua(),gs=class{constructor(t,r,s){this.processor=t,this.messages=[],this.root=r,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,r={}){r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);let s=new Rv(t,r);return this.messages.push(s),s}warnings(){return this.messages.filter(t=>t.type==="warning")}get content(){return this.css}};Nf.exports=gs;gs.default=gs});var fa=g((DP,Df)=>{"use strict";var ca="'".charCodeAt(0),If='"'.charCodeAt(0),kn="\\".charCodeAt(0),Of="/".charCodeAt(0),Mn=`
`.charCodeAt(0),Ss=" ".charCodeAt(0),Ln="\f".charCodeAt(0),Fn="	".charCodeAt(0),Vn="\r".charCodeAt(0),Nv="[".charCodeAt(0),Iv="]".charCodeAt(0),Ov="(".charCodeAt(0),Pv=")".charCodeAt(0),Dv="{".charCodeAt(0),kv="}".charCodeAt(0),Mv=";".charCodeAt(0),Lv="*".charCodeAt(0),Fv=":".charCodeAt(0),Vv="@".charCodeAt(0),Un=/[\t\n\f\r "#'()/;[\\\]{}]/g,$n=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Uv=/.[\r\n"'(/\\]/,Pf=/[\da-f]/i;Df.exports=function(t,r={}){let s=t.css.valueOf(),n=r.ignoreErrors,o,i,a,l,u,c,f,p,d,m,S=s.length,h=0,v=[],T=[];function A(){return h}function x(Q){throw t.error("Unclosed "+Q,h)}function C(){return T.length===0&&h>=S}function N(Q){if(T.length)return T.pop();if(h>=S)return;let Vt=Q?Q.ignoreUnclosed:!1;switch(o=s.charCodeAt(h),o){case Mn:case Ss:case Fn:case Vn:case Ln:{i=h;do i+=1,o=s.charCodeAt(i);while(o===Ss||o===Mn||o===Fn||o===Vn||o===Ln);m=["space",s.slice(h,i)],h=i-1;break}case Nv:case Iv:case Dv:case kv:case Fv:case Mv:case Pv:{let An=String.fromCharCode(o);m=[An,An,h];break}case Ov:{if(p=v.length?v.pop()[1]:"",d=s.charCodeAt(h+1),p==="url"&&d!==ca&&d!==If&&d!==Ss&&d!==Mn&&d!==Fn&&d!==Ln&&d!==Vn){i=h;do{if(c=!1,i=s.indexOf(")",i+1),i===-1)if(n||Vt){i=h;break}else x("bracket");for(f=i;s.charCodeAt(f-1)===kn;)f-=1,c=!c}while(c);m=["brackets",s.slice(h,i+1),h,i],h=i}else i=s.indexOf(")",h+1),l=s.slice(h,i+1),i===-1||Uv.test(l)?m=["(","(",h]:(m=["brackets",l,h,i],h=i);break}case ca:case If:{a=o===ca?"'":'"',i=h;do{if(c=!1,i=s.indexOf(a,i+1),i===-1)if(n||Vt){i=h+1;break}else x("string");for(f=i;s.charCodeAt(f-1)===kn;)f-=1,c=!c}while(c);m=["string",s.slice(h,i+1),h,i],h=i;break}case Vv:{Un.lastIndex=h+1,Un.test(s),Un.lastIndex===0?i=s.length-1:i=Un.lastIndex-2,m=["at-word",s.slice(h,i+1),h,i],h=i;break}case kn:{for(i=h,u=!0;s.charCodeAt(i+1)===kn;)i+=1,u=!u;if(o=s.charCodeAt(i+1),u&&o!==Of&&o!==Ss&&o!==Mn&&o!==Fn&&o!==Vn&&o!==Ln&&(i+=1,Pf.test(s.charAt(i)))){for(;Pf.test(s.charAt(i+1));)i+=1;s.charCodeAt(i+1)===Ss&&(i+=1)}m=["word",s.slice(h,i+1),h,i],h=i;break}default:{o===Of&&s.charCodeAt(h+1)===Lv?(i=s.indexOf("*/",h+2)+1,i===0&&(n||Vt?i=s.length:x("comment")),m=["comment",s.slice(h,i+1),h,i],h=i):($n.lastIndex=h+1,$n.test(s),$n.lastIndex===0?i=s.length-1:i=$n.lastIndex-2,m=["word",s.slice(h,i+1),h,i],v.push(m),h=i);break}}return h++,m}function M(Q){T.push(Q)}return{back:M,endOfFile:C,nextToken:N,position:A}}});var qn=g((kP,Mf)=>{"use strict";var kf=Tt(),mr=class extends kf{constructor(t){super(t),this.type="atrule"}append(...t){return this.proxyOf.nodes||(this.nodes=[]),super.append(...t)}prepend(...t){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...t)}};Mf.exports=mr;mr.default=mr;kf.registerAtRule(mr)});var hr=g((MP,Uf)=>{"use strict";var Lf=Tt(),Ff,Vf,xt=class extends Lf{constructor(t){super(t),this.type="root",this.nodes||(this.nodes=[])}normalize(t,r,s){let n=super.normalize(t);if(r){if(s==="prepend")this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r)for(let o of n)o.raws.before=r.raws.before}return n}removeChild(t,r){let s=this.index(t);return!r&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),super.removeChild(t)}toResult(t={}){return new Ff(new Vf,this,t).stringify()}};xt.registerLazyResult=e=>{Ff=e};xt.registerProcessor=e=>{Vf=e};Uf.exports=xt;xt.default=xt;Lf.registerRoot(xt)});var pa=g((LP,$f)=>{"use strict";var vs={comma(e){return vs.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return vs.split(e,t)},split(e,t,r){let s=[],n="",o=!1,i=0,a=!1,l="",u=!1;for(let c of e)u?u=!1:c==="\\"?u=!0:a?c===l&&(a=!1):c==='"'||c==="'"?(a=!0,l=c):c==="("?i+=1:c===")"?i>0&&(i-=1):i===0&&t.includes(c)&&(o=!0),o?(n!==""&&s.push(n.trim()),n="",o=!1):n+=c;return(r||n!=="")&&s.push(n.trim()),s}};$f.exports=vs;vs.default=vs});var jn=g((FP,jf)=>{"use strict";var qf=Tt(),$v=pa(),yr=class extends qf{constructor(t){super(t),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return $v.comma(this.selector)}set selectors(t){let r=this.selector?this.selector.match(/,\s*/):null,s=r?r[0]:","+this.raw("between","beforeOpen");this.selector=t.join(s)}};jf.exports=yr;yr.default=yr;qf.registerRule(yr)});var ma=g((VP,zf)=>{"use strict";var qv=fs(),jv=fa(),Bv=dr(),Wv=qn(),zv=hr(),Bf=jn(),Wf={empty:!0,space:!0};function Gv(e){for(let t=e.length-1;t>=0;t--){let r=e[t],s=r[3]||r[2];if(s)return s}}var da=class{constructor(t){this.input=t,this.root=new zv,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}atrule(t){let r=new Wv;r.name=t[1].slice(1),r.name===""&&this.unnamedAtrule(r,t),this.init(r,t[2]);let s,n,o,i=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),s=t[0],s==="("||s==="["?u.push(s==="("?")":"]"):s==="{"&&u.length>0?u.push("}"):s===u[u.length-1]&&u.pop(),u.length===0)if(s===";"){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if(s==="{"){a=!0;break}else if(s==="}"){if(l.length>0){for(o=l.length-1,n=l[o];n&&n[0]==="space";)n=l[--o];n&&(r.source.end=this.getPosition(n[3]||n[2]),r.source.end.offset++)}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),i&&(t=l[l.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),a&&(r.nodes=[],this.current=r)}checkMissedSemicolon(t){let r=this.colon(t);if(r===!1)return;let s=0,n;for(let o=r-1;o>=0&&(n=t[o],!(n[0]!=="space"&&(s+=1,s===2)));o--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}colon(t){let r=0,s,n,o;for(let[i,a]of t.entries()){if(s=a,n=s[0],n==="("&&(r+=1),n===")"&&(r-=1),r===0&&n===":")if(!o)this.doubleColon(s);else{if(o[0]==="word"&&o[1]==="progid")continue;return i}o=s}return!1}comment(t){let r=new Bv;this.init(r,t[2]),r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++;let s=t[1].slice(2,-2);if(/^\s*$/.test(s))r.text="",r.raws.left=s,r.raws.right="";else{let n=s.match(/^(\s*)([^]*\S)(\s*)$/);r.text=n[2],r.raws.left=n[1],r.raws.right=n[3]}}createTokenizer(){this.tokenizer=jv(this.input)}decl(t,r){let s=new qv;this.init(s,t[0][2]);let n=t[t.length-1];for(n[0]===";"&&(this.semicolon=!0,t.pop()),s.source.end=this.getPosition(n[3]||n[2]||Gv(t)),s.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),s.raws.before+=t.shift()[1];for(s.source.start=this.getPosition(t[0][2]),s.prop="";t.length;){let u=t[0][0];if(u===":"||u==="space"||u==="comment")break;s.prop+=t.shift()[1]}s.raws.between="";let o;for(;t.length;)if(o=t.shift(),o[0]===":"){s.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),s.raws.between+=o[1];(s.prop[0]==="_"||s.prop[0]==="*")&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let i=[],a;for(;t.length&&(a=t[0][0],!(a!=="space"&&a!=="comment"));)i.push(t.shift());this.precheckMissedSemicolon(t);for(let u=t.length-1;u>=0;u--){if(o=t[u],o[1].toLowerCase()==="!important"){s.important=!0;let c=this.stringFrom(t,u);c=this.spacesFromEnd(t)+c,c!==" !important"&&(s.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=t.slice(0),f="";for(let p=u;p>0;p--){let d=c[p][0];if(f.trim().indexOf("!")===0&&d!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(s.important=!0,s.raws.important=f,t=c)}if(o[0]!=="space"&&o[0]!=="comment")break}t.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(s.raws.between+=i.map(u=>u[1]).join(""),i=[]),this.raw(s,"value",i.concat(t),r),s.value.includes(":")&&!r&&this.checkMissedSemicolon(t)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}emptyRule(t){let r=new Bf;this.init(r,t[2]),r.selector="",r.raws.between="",this.current=r}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let r=this.current.nodes[this.current.nodes.length-1];r&&r.type==="rule"&&!r.raws.ownSemicolon&&(r.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let r=this.input.fromOffset(t);return{column:r.col,line:r.line,offset:t}}init(t,r){this.current.push(t),t.source={input:this.input,start:this.getPosition(r)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}other(t){let r=!1,s=null,n=!1,o=null,i=[],a=t[1].startsWith("--"),l=[],u=t;for(;u;){if(s=u[0],l.push(u),s==="("||s==="[")o||(o=u),i.push(s==="("?")":"]");else if(a&&n&&s==="{")o||(o=u),i.push("}");else if(i.length===0)if(s===";")if(n){this.decl(l,a);return}else break;else if(s==="{"){this.rule(l);return}else if(s==="}"){this.tokenizer.back(l.pop()),r=!0;break}else s===":"&&(n=!0);else s===i[i.length-1]&&(i.pop(),i.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(r=!0),i.length>0&&this.unclosedBracket(o),r&&n){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}precheckMissedSemicolon(){}raw(t,r,s,n){let o,i,a=s.length,l="",u=!0,c,f;for(let p=0;p<a;p+=1)o=s[p],i=o[0],i==="space"&&p===a-1&&!n?u=!1:i==="comment"?(f=s[p-1]?s[p-1][0]:"empty",c=s[p+1]?s[p+1][0]:"empty",!Wf[f]&&!Wf[c]?l.slice(-1)===","?u=!1:l+=o[1]:u=!1):l+=o[1];if(!u){let p=s.reduce((d,m)=>d+m[1],"");t.raws[r]={raw:p,value:l}}t[r]=l}rule(t){t.pop();let r=new Bf;this.init(r,t[0][2]),r.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(r,"selector",t),this.current=r}spacesAndCommentsFromEnd(t){let r,s="";for(;t.length&&(r=t[t.length-1][0],!(r!=="space"&&r!=="comment"));)s=t.pop()[1]+s;return s}spacesAndCommentsFromStart(t){let r,s="";for(;t.length&&(r=t[0][0],!(r!=="space"&&r!=="comment"));)s+=t.shift()[1];return s}spacesFromEnd(t){let r,s="";for(;t.length&&(r=t[t.length-1][0],r==="space");)s=t.pop()[1]+s;return s}stringFrom(t,r){let s="";for(let n=r;n<t.length;n++)s+=t[n][1];return t.splice(r,t.length-r),s}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unnamedAtrule(t,r){throw this.input.error("At-rule without name",{offset:r[2]},{offset:r[2]+r[1].length})}};zf.exports=da});var Wn=g((UP,Gf)=>{"use strict";var Hv=Tt(),Qv=ma(),Kv=ms();function Bn(e,t){let r=new Kv(e,t),s=new Qv(r);try{s.parse()}catch(n){throw n}return s.root}Gf.exports=Bn;Bn.default=Bn;Hv.registerParse(Bn)});var ga=g((qP,Yf)=>{"use strict";var{isClean:Ye,my:Yv}=Tn(),Jv=oa(),Xv=as(),Zv=Tt(),eb=Pn(),$P=la(),Hf=Dn(),tb=Wn(),rb=hr(),sb={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},nb={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},ob={Once:!0,postcssPlugin:!0,prepare:!0},gr=0;function bs(e){return typeof e=="object"&&typeof e.then=="function"}function Kf(e){let t=!1,r=sb[e.type];return e.type==="decl"?t=e.prop.toLowerCase():e.type==="atrule"&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,gr,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,gr,r+"Exit"]:[r,r+"Exit"]}function Qf(e){let t;return e.type==="document"?t=["Document",gr,"DocumentExit"]:e.type==="root"?t=["Root",gr,"RootExit"]:t=Kf(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function ha(e){return e[Ye]=!1,e.nodes&&e.nodes.forEach(t=>ha(t)),e}var ya={},wt=class e{constructor(t,r,s){this.stringified=!1,this.processed=!1;let n;if(typeof r=="object"&&r!==null&&(r.type==="root"||r.type==="document"))n=ha(r);else if(r instanceof e||r instanceof Hf)n=ha(r.root),r.map&&(typeof s.map>"u"&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=r.map);else{let o=tb;s.syntax&&(o=s.syntax.parse),s.parser&&(o=s.parser),o.parse&&(o=o.parse);try{n=o(r,s)}catch(i){this.processed=!0,this.error=i}n&&!n[Yv]&&Zv.rebuild(n)}this.result=new Hf(t,n,s),this.helpers={...ya,postcss:ya,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,r){let s=this.result.lastPlugin;try{r&&r.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin?(t.plugin=s.postcssPlugin,t.setMessage()):s.postcssVersion}catch(n){console&&console.error&&console.error(n)}return t}prepareVisitors(){this.listeners={};let t=(r,s,n)=>{this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push([r,n])};for(let r of this.plugins)if(typeof r=="object")for(let s in r){if(!nb[s]&&/^[A-Z]/.test(s))throw new Error(`Unknown event ${s} in ${r.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!ob[s])if(typeof r[s]=="object")for(let n in r[s])n==="*"?t(r,s,r[s][n]):t(r,s+"-"+n.toLowerCase(),r[s][n]);else typeof r[s]=="function"&&t(r,s,r[s])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let r=this.plugins[t],s=this.runOnRoot(r);if(bs(s))try{await s}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ye];){t[Ye]=!0;let r=[Qf(t)];for(;r.length>0;){let s=this.visitTick(r);if(bs(s))try{await s}catch(n){let o=r[r.length-1].node;throw this.handleError(n,o)}}}if(this.listeners.OnceExit)for(let[r,s]of this.listeners.OnceExit){this.result.lastPlugin=r;try{if(t.type==="document"){let n=t.nodes.map(o=>s(o,this.helpers));await Promise.all(n)}else await s(t,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}runOnRoot(t){this.result.lastPlugin=t;try{if(typeof t=="object"&&t.Once){if(this.result.root.type==="document"){let r=this.result.root.nodes.map(s=>t.Once(s,this.helpers));return bs(r[0])?Promise.all(r):r}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(r){throw this.handleError(r)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,r=Xv;t.syntax&&(r=t.syntax.stringify),t.stringifier&&(r=t.stringifier),r.stringify&&(r=r.stringify);let n=new Jv(r,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins){let r=this.runOnRoot(t);if(bs(r))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ye];)t[Ye]=!0,this.walkSync(t);if(this.listeners.OnceExit)if(t.type==="document")for(let r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(t,r){return this.async().then(t,r)}toString(){return this.css}visitSync(t,r){for(let[s,n]of t){this.result.lastPlugin=s;let o;try{o=n(r,this.helpers)}catch(i){throw this.handleError(i,r.proxyOf)}if(r.type!=="root"&&r.type!=="document"&&!r.parent)return!0;if(bs(o))throw this.getAsyncError()}}visitTick(t){let r=t[t.length-1],{node:s,visitors:n}=r;if(s.type!=="root"&&s.type!=="document"&&!s.parent){t.pop();return}if(n.length>0&&r.visitorIndex<n.length){let[i,a]=n[r.visitorIndex];r.visitorIndex+=1,r.visitorIndex===n.length&&(r.visitors=[],r.visitorIndex=0),this.result.lastPlugin=i;try{return a(s.toProxy(),this.helpers)}catch(l){throw this.handleError(l,s)}}if(r.iterator!==0){let i=r.iterator,a;for(;a=s.nodes[s.indexes[i]];)if(s.indexes[i]+=1,!a[Ye]){a[Ye]=!0,t.push(Qf(a));return}r.iterator=0,delete s.indexes[i]}let o=r.events;for(;r.eventIndex<o.length;){let i=o[r.eventIndex];if(r.eventIndex+=1,i===gr){s.nodes&&s.nodes.length&&(s[Ye]=!0,r.iterator=s.getIterator());return}else if(this.listeners[i]){r.visitors=this.listeners[i];return}}t.pop()}walkSync(t){t[Ye]=!0;let r=Kf(t);for(let s of r)if(s===gr)t.nodes&&t.each(n=>{n[Ye]||this.walkSync(n)});else{let n=this.listeners[s];if(n&&this.visitSync(n,t.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};wt.registerPostcss=e=>{ya=e};Yf.exports=wt;wt.default=wt;rb.registerLazyResult(wt);eb.registerLazyResult(wt)});var Xf=g((BP,Jf)=>{"use strict";var ib=oa(),ab=as(),jP=la(),lb=Wn(),ub=Dn(),_s=class{constructor(t,r,s){r=r.toString(),this.stringified=!1,this._processor=t,this._css=r,this._opts=s,this._map=void 0;let n,o=ab;this.result=new ub(this._processor,n,this._opts),this.result.css=r;let i=this;Object.defineProperty(this.result,"root",{get(){return i.root}});let a=new ib(o,n,this._opts,r);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}sync(){if(this.error)throw this.error;return this.result}then(t,r){return this.async().then(t,r)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let t,r=lb;try{t=r(this._css,this._opts)}catch(s){this.error=s}if(this.error)throw this.error;return this._root=t,t}get[Symbol.toStringTag](){return"NoWorkResult"}};Jf.exports=_s;_s.default=_s});var ep=g((WP,Zf)=>{"use strict";var cb=Xf(),fb=ga(),pb=Pn(),db=hr(),$t=class{constructor(t=[]){this.version="8.4.31",this.plugins=this.normalize(t)}normalize(t){let r=[];for(let s of t)if(s.postcss===!0?s=s():s.postcss&&(s=s.postcss),typeof s=="object"&&Array.isArray(s.plugins))r=r.concat(s.plugins);else if(typeof s=="object"&&s.postcssPlugin)r.push(s);else if(typeof s=="function")r.push(s);else if(!(typeof s=="object"&&(s.parse||s.stringify)))throw new Error(s+" is not a PostCSS plugin");return r}process(t,r={}){return this.plugins.length===0&&typeof r.parser>"u"&&typeof r.stringifier>"u"&&typeof r.syntax>"u"?new cb(this,t,r):new fb(this,t,r)}use(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}};Zf.exports=$t;$t.default=$t;db.registerProcessor($t);pb.registerProcessor($t)});var rp=g((zP,tp)=>{"use strict";var mb=fs(),hb=Zi(),yb=dr(),gb=qn(),Sb=ms(),vb=hr(),bb=jn();function As(e,t){if(Array.isArray(e))return e.map(n=>As(n));let{inputs:r,...s}=e;if(r){t=[];for(let n of r){let o={...n,__proto__:Sb.prototype};o.map&&(o.map={...o.map,__proto__:hb.prototype}),t.push(o)}}if(s.nodes&&(s.nodes=e.nodes.map(n=>As(n,t))),s.source){let{inputId:n,...o}=s.source;s.source=o,n!=null&&(s.source.input=t[n])}if(s.type==="root")return new vb(s);if(s.type==="decl")return new mb(s);if(s.type==="rule")return new bb(s);if(s.type==="comment")return new yb(s);if(s.type==="atrule")return new gb(s);throw new Error("Unknown node type: "+e.type)}tp.exports=As;As.default=As});var qt=g((GP,up)=>{"use strict";var _b=En(),sp=fs(),Ab=ga(),Cb=Tt(),Sa=ep(),Eb=as(),Tb=rp(),np=Pn(),xb=ua(),op=dr(),ip=qn(),wb=Dn(),Rb=ms(),Nb=Wn(),Ib=pa(),ap=jn(),lp=hr(),Ob=us();function V(...e){return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new Sa(e)}V.plugin=function(t,r){let s=!1;function n(...i){console&&console.warn&&!s&&(s=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(t+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=r(...i);return a.postcssPlugin=t,a.postcssVersion=new Sa().version,a}let o;return Object.defineProperty(n,"postcss",{get(){return o||(o=n()),o}}),n.process=function(i,a,l){return V([n(l)]).process(i,a)},n};V.stringify=Eb;V.parse=Nb;V.fromJSON=Tb;V.list=Ib;V.comment=e=>new op(e);V.atRule=e=>new ip(e);V.decl=e=>new sp(e);V.rule=e=>new ap(e);V.root=e=>new lp(e);V.document=e=>new np(e);V.CssSyntaxError=_b;V.Declaration=sp;V.Container=Cb;V.Processor=Sa;V.Document=np;V.Comment=op;V.Warning=xb;V.AtRule=ip;V.Result=wb;V.Input=Rb;V.Rule=ap;V.Root=lp;V.Node=Ob;Ab.registerPostcss(V);up.exports=V;V.default=V});var va=g((Gn,fp)=>{"use strict";Gn.__esModule=!0;Gn.default=kb;function Pb(e){for(var t=e.toLowerCase(),r="",s=!1,n=0;n<6&&t[n]!==void 0;n++){var o=t.charCodeAt(n),i=o>=97&&o<=102||o>=48&&o<=57;if(s=o===32,!i)break;r+=t[n]}if(r.length!==0){var a=parseInt(r,16),l=a>=55296&&a<=57343;return l||a===0||a>1114111?["\uFFFD",r.length+(s?1:0)]:[String.fromCodePoint(a),r.length+(s?1:0)]}}var Db=/\\/;function kb(e){var t=Db.test(e);if(!t)return e;for(var r="",s=0;s<e.length;s++){if(e[s]==="\\"){var n=Pb(e.slice(s+1,s+7));if(n!==void 0){r+=n[0],s+=n[1];continue}if(e[s+1]==="\\"){r+="\\",s++;continue}e.length===s+1&&(r+=e[s]);continue}r+=e[s]}return r}fp.exports=Gn.default});var dp=g((Hn,pp)=>{"use strict";Hn.__esModule=!0;Hn.default=Mb;function Mb(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(;r.length>0;){var n=r.shift();if(!e[n])return;e=e[n]}return e}pp.exports=Hn.default});var hp=g((Qn,mp)=>{"use strict";Qn.__esModule=!0;Qn.default=Lb;function Lb(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(;r.length>0;){var n=r.shift();e[n]||(e[n]={}),e=e[n]}}mp.exports=Qn.default});var gp=g((Kn,yp)=>{"use strict";Kn.__esModule=!0;Kn.default=Fb;function Fb(e){for(var t="",r=e.indexOf("/*"),s=0;r>=0;){t=t+e.slice(s,r);var n=e.indexOf("*/",r+2);if(n<0)return t;s=n+2,r=e.indexOf("/*",s)}return t=t+e.slice(s),t}yp.exports=Kn.default});var Ts=g(Je=>{"use strict";Je.__esModule=!0;Je.unesc=Je.stripComments=Je.getProp=Je.ensureObject=void 0;var Vb=Yn(va());Je.unesc=Vb.default;var Ub=Yn(dp());Je.getProp=Ub.default;var $b=Yn(hp());Je.ensureObject=$b.default;var qb=Yn(gp());Je.stripComments=qb.default;function Yn(e){return e&&e.__esModule?e:{default:e}}});var st=g((xs,bp)=>{"use strict";xs.__esModule=!0;xs.default=void 0;var Sp=Ts();function vp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function jb(e,t,r){return t&&vp(e.prototype,t),r&&vp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Bb=function e(t,r){if(typeof t!="object"||t===null)return t;var s=new t.constructor;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],i=typeof o;n==="parent"&&i==="object"?r&&(s[n]=r):o instanceof Array?s[n]=o.map(function(a){return e(a,s)}):s[n]=e(o,s)}return s},Wb=function(){function e(r){r===void 0&&(r={}),Object.assign(this,r),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t=e.prototype;return t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){if(this.parent){for(var s in arguments)this.parent.insertBefore(this,arguments[s]);this.remove()}return this},t.next=function(){return this.parent.at(this.parent.index(this)+1)},t.prev=function(){return this.parent.at(this.parent.index(this)-1)},t.clone=function(s){s===void 0&&(s={});var n=Bb(this);for(var o in s)n[o]=s[o];return n},t.appendToPropertyAndEscape=function(s,n,o){this.raws||(this.raws={});var i=this[s],a=this.raws[s];this[s]=i+n,a||o!==n?this.raws[s]=(a||i)+o:delete this.raws[s]},t.setPropertyAndEscape=function(s,n,o){this.raws||(this.raws={}),this[s]=n,this.raws[s]=o},t.setPropertyWithoutEscape=function(s,n){this[s]=n,this.raws&&delete this.raws[s]},t.isAtPosition=function(s,n){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>s||this.source.end.line<s||this.source.start.line===s&&this.source.start.column>n||this.source.end.line===s&&this.source.end.column<n)},t.stringifyProperty=function(s){return this.raws&&this.raws[s]||this[s]},t.valueToString=function(){return String(this.stringifyProperty("value"))},t.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},jb(e,[{key:"rawSpaceBefore",get:function(){var s=this.raws&&this.raws.spaces&&this.raws.spaces.before;return s===void 0&&(s=this.spaces&&this.spaces.before),s||""},set:function(s){(0,Sp.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=s}},{key:"rawSpaceAfter",get:function(){var s=this.raws&&this.raws.spaces&&this.raws.spaces.after;return s===void 0&&(s=this.spaces.after),s||""},set:function(s){(0,Sp.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=s}}]),e}();xs.default=Wb;bp.exports=xs.default});var ge=g(W=>{"use strict";W.__esModule=!0;W.UNIVERSAL=W.TAG=W.STRING=W.SELECTOR=W.ROOT=W.PSEUDO=W.NESTING=W.ID=W.COMMENT=W.COMBINATOR=W.CLASS=W.ATTRIBUTE=void 0;var zb="tag";W.TAG=zb;var Gb="string";W.STRING=Gb;var Hb="selector";W.SELECTOR=Hb;var Qb="root";W.ROOT=Qb;var Kb="pseudo";W.PSEUDO=Kb;var Yb="nesting";W.NESTING=Yb;var Jb="id";W.ID=Jb;var Xb="comment";W.COMMENT=Xb;var Zb="combinator";W.COMBINATOR=Zb;var e_="class";W.CLASS=e_;var t_="attribute";W.ATTRIBUTE=t_;var r_="universal";W.UNIVERSAL=r_});var Jn=g((ws,Ep)=>{"use strict";ws.__esModule=!0;ws.default=void 0;var s_=o_(st()),nt=n_(ge());function Cp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Cp=function(n){return n?r:t})(e)}function n_(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Cp(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function o_(e){return e&&e.__esModule?e:{default:e}}function i_(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=a_(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_(e,t){if(e){if(typeof e=="string")return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Ap(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function l_(e,t,r){return t&&Ap(e.prototype,t),r&&Ap(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ba(e,t)}function ba(e,t){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ba(e,t)}var c_=function(e){u_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.nodes||(n.nodes=[]),n}var r=t.prototype;return r.append=function(n){return n.parent=this,this.nodes.push(n),this},r.prepend=function(n){return n.parent=this,this.nodes.unshift(n),this},r.at=function(n){return this.nodes[n]},r.index=function(n){return typeof n=="number"?n:this.nodes.indexOf(n)},r.removeChild=function(n){n=this.index(n),this.at(n).parent=void 0,this.nodes.splice(n,1);var o;for(var i in this.indexes)o=this.indexes[i],o>=n&&(this.indexes[i]=o-1);return this},r.removeAll=function(){for(var n=i_(this.nodes),o;!(o=n()).done;){var i=o.value;i.parent=void 0}return this.nodes=[],this},r.empty=function(){return this.removeAll()},r.insertAfter=function(n,o){o.parent=this;var i=this.index(n);this.nodes.splice(i+1,0,o),o.parent=this;var a;for(var l in this.indexes)a=this.indexes[l],i<=a&&(this.indexes[l]=a+1);return this},r.insertBefore=function(n,o){o.parent=this;var i=this.index(n);this.nodes.splice(i,0,o),o.parent=this;var a;for(var l in this.indexes)a=this.indexes[l],a<=i&&(this.indexes[l]=a+1);return this},r._findChildAtPosition=function(n,o){var i=void 0;return this.each(function(a){if(a.atPosition){var l=a.atPosition(n,o);if(l)return i=l,!1}else if(a.isAtPosition(n,o))return i=a,!1}),i},r.atPosition=function(n,o){if(this.isAtPosition(n,o))return this._findChildAtPosition(n,o)||this},r._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},r.each=function(n){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var o=this.lastEach;if(this.indexes[o]=0,!!this.length){for(var i,a;this.indexes[o]<this.length&&(i=this.indexes[o],a=n(this.at(i),i),a!==!1);)this.indexes[o]+=1;if(delete this.indexes[o],a===!1)return!1}},r.walk=function(n){return this.each(function(o,i){var a=n(o,i);if(a!==!1&&o.length&&(a=o.walk(n)),a===!1)return!1})},r.walkAttributes=function(n){var o=this;return this.walk(function(i){if(i.type===nt.ATTRIBUTE)return n.call(o,i)})},r.walkClasses=function(n){var o=this;return this.walk(function(i){if(i.type===nt.CLASS)return n.call(o,i)})},r.walkCombinators=function(n){var o=this;return this.walk(function(i){if(i.type===nt.COMBINATOR)return n.call(o,i)})},r.walkComments=function(n){var o=this;return this.walk(function(i){if(i.type===nt.COMMENT)return n.call(o,i)})},r.walkIds=function(n){var o=this;return this.walk(function(i){if(i.type===nt.ID)return n.call(o,i)})},r.walkNesting=function(n){var o=this;return this.walk(function(i){if(i.type===nt.NESTING)return n.call(o,i)})},r.walkPseudos=function(n){var o=this;return this.walk(function(i){if(i.type===nt.PSEUDO)return n.call(o,i)})},r.walkTags=function(n){var o=this;return this.walk(function(i){if(i.type===nt.TAG)return n.call(o,i)})},r.walkUniversals=function(n){var o=this;return this.walk(function(i){if(i.type===nt.UNIVERSAL)return n.call(o,i)})},r.split=function(n){var o=this,i=[];return this.reduce(function(a,l,u){var c=n.call(o,l);return i.push(l),c?(a.push(i),i=[]):u===o.length-1&&a.push(i),a},[])},r.map=function(n){return this.nodes.map(n)},r.reduce=function(n,o){return this.nodes.reduce(n,o)},r.every=function(n){return this.nodes.every(n)},r.some=function(n){return this.nodes.some(n)},r.filter=function(n){return this.nodes.filter(n)},r.sort=function(n){return this.nodes.sort(n)},r.toString=function(){return this.map(String).join("")},l_(t,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),t}(s_.default);ws.default=c_;Ep.exports=ws.default});var Aa=g((Rs,xp)=>{"use strict";Rs.__esModule=!0;Rs.default=void 0;var f_=d_(Jn()),p_=ge();function d_(e){return e&&e.__esModule?e:{default:e}}function Tp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function m_(e,t,r){return t&&Tp(e.prototype,t),r&&Tp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_a(e,t)}function _a(e,t){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},_a(e,t)}var y_=function(e){h_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=p_.ROOT,n}var r=t.prototype;return r.toString=function(){var n=this.reduce(function(o,i){return o.push(String(i)),o},[]).join(",");return this.trailingComma?n+",":n},r.error=function(n,o){return this._error?this._error(n,o):new Error(n)},m_(t,[{key:"errorGenerator",set:function(n){this._error=n}}]),t}(f_.default);Rs.default=y_;xp.exports=Rs.default});var Ea=g((Ns,wp)=>{"use strict";Ns.__esModule=!0;Ns.default=void 0;var g_=v_(Jn()),S_=ge();function v_(e){return e&&e.__esModule?e:{default:e}}function b_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ca(e,t)}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ca(e,t)}var __=function(e){b_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=S_.SELECTOR,s}return t}(g_.default);Ns.default=__;wp.exports=Ns.default});var jt=g((dD,Rp)=>{"use strict";var A_={},C_=A_.hasOwnProperty,E_=function(t,r){if(!t)return r;var s={};for(var n in r)s[n]=C_.call(t,n)?t[n]:r[n];return s},T_=/[ -,\.\/:-@\[-\^`\{-~]/,x_=/[ -,\.\/:-@\[\]\^`\{-~]/,w_=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Ta=function e(t,r){r=E_(r,e.options),r.quotes!="single"&&r.quotes!="double"&&(r.quotes="single");for(var s=r.quotes=="double"?'"':"'",n=r.isIdentifier,o=t.charAt(0),i="",a=0,l=t.length;a<l;){var u=t.charAt(a++),c=u.charCodeAt(),f=void 0;if(c<32||c>126){if(c>=55296&&c<=56319&&a<l){var p=t.charCodeAt(a++);(p&64512)==56320?c=((c&1023)<<10)+(p&1023)+65536:a--}f="\\"+c.toString(16).toUpperCase()+" "}else r.escapeEverything?T_.test(u)?f="\\"+u:f="\\"+c.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(u)?f="\\"+c.toString(16).toUpperCase()+" ":u=="\\"||!n&&(u=='"'&&s==u||u=="'"&&s==u)||n&&x_.test(u)?f="\\"+u:f=u;i+=f}return n&&(/^-[-\d]/.test(i)?i="\\-"+i.slice(1):/\d/.test(o)&&(i="\\3"+o+" "+i.slice(1))),i=i.replace(w_,function(d,m,S){return m&&m.length%2?d:(m||"")+S}),!n&&r.wrap?s+i+s:i};Ta.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};Ta.version="3.0.0";Rp.exports=Ta});var wa=g((Is,Op)=>{"use strict";Is.__esModule=!0;Is.default=void 0;var R_=Ip(jt()),N_=Ts(),I_=Ip(st()),O_=ge();function Ip(e){return e&&e.__esModule?e:{default:e}}function Np(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function P_(e,t,r){return t&&Np(e.prototype,t),r&&Np(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xa(e,t)}function xa(e,t){return xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},xa(e,t)}var k_=function(e){D_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=O_.CLASS,n._constructed=!0,n}var r=t.prototype;return r.valueToString=function(){return"."+e.prototype.valueToString.call(this)},P_(t,[{key:"value",get:function(){return this._value},set:function(n){if(this._constructed){var o=(0,R_.default)(n,{isIdentifier:!0});o!==n?((0,N_.ensureObject)(this,"raws"),this.raws.value=o):this.raws&&delete this.raws.value}this._value=n}}]),t}(I_.default);Is.default=k_;Op.exports=Is.default});var Na=g((Os,Pp)=>{"use strict";Os.__esModule=!0;Os.default=void 0;var M_=F_(st()),L_=ge();function F_(e){return e&&e.__esModule?e:{default:e}}function V_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ra(e,t)}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ra(e,t)}var U_=function(e){V_(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=L_.COMMENT,s}return t}(M_.default);Os.default=U_;Pp.exports=Os.default});var Oa=g((Ps,Dp)=>{"use strict";Ps.__esModule=!0;Ps.default=void 0;var $_=j_(st()),q_=ge();function j_(e){return e&&e.__esModule?e:{default:e}}function B_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ia(e,t)}function Ia(e,t){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ia(e,t)}var W_=function(e){B_(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=q_.ID,n}var r=t.prototype;return r.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},t}($_.default);Ps.default=W_;Dp.exports=Ps.default});var Xn=g((Ds,Lp)=>{"use strict";Ds.__esModule=!0;Ds.default=void 0;var z_=Mp(jt()),G_=Ts(),H_=Mp(st());function Mp(e){return e&&e.__esModule?e:{default:e}}function kp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Q_(e,t,r){return t&&kp(e.prototype,t),r&&kp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pa(e,t)}function Pa(e,t){return Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Pa(e,t)}var Y_=function(e){K_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.qualifiedName=function(n){return this.namespace?this.namespaceString+"|"+n:n},r.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},Q_(t,[{key:"namespace",get:function(){return this._namespace},set:function(n){if(n===!0||n==="*"||n==="&"){this._namespace=n,this.raws&&delete this.raws.namespace;return}var o=(0,z_.default)(n,{isIdentifier:!0});this._namespace=n,o!==n?((0,G_.ensureObject)(this,"raws"),this.raws.namespace=o):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(n){this.namespace=n}},{key:"namespaceString",get:function(){if(this.namespace){var n=this.stringifyProperty("namespace");return n===!0?"":n}else return""}}]),t}(H_.default);Ds.default=Y_;Lp.exports=Ds.default});var ka=g((ks,Fp)=>{"use strict";ks.__esModule=!0;ks.default=void 0;var J_=Z_(Xn()),X_=ge();function Z_(e){return e&&e.__esModule?e:{default:e}}function eA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Da(e,t)}function Da(e,t){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Da(e,t)}var tA=function(e){eA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=X_.TAG,s}return t}(J_.default);ks.default=tA;Fp.exports=ks.default});var La=g((Ms,Vp)=>{"use strict";Ms.__esModule=!0;Ms.default=void 0;var rA=nA(st()),sA=ge();function nA(e){return e&&e.__esModule?e:{default:e}}function oA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ma(e,t)}function Ma(e,t){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ma(e,t)}var iA=function(e){oA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=sA.STRING,s}return t}(rA.default);Ms.default=iA;Vp.exports=Ms.default});var Va=g((Ls,Up)=>{"use strict";Ls.__esModule=!0;Ls.default=void 0;var aA=uA(Jn()),lA=ge();function uA(e){return e&&e.__esModule?e:{default:e}}function cA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fa(e,t)}function Fa(e,t){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Fa(e,t)}var fA=function(e){cA(t,e);function t(s){var n;return n=e.call(this,s)||this,n.type=lA.PSEUDO,n}var r=t.prototype;return r.toString=function(){var n=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),n,this.rawSpaceAfter].join("")},t}(aA.default);Ls.default=fA;Up.exports=Ls.default});var qp=g((mD,$p)=>{$p.exports=pA;function pA(e,t){if(Ua("noDeprecation"))return e;var r=!1;function s(){if(!r){if(Ua("throwDeprecation"))throw new Error(t);Ua("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return s}function Ua(e){try{if(!global.localStorage)return!1}catch{return!1}var t=global.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}});var za=g(Us=>{"use strict";Us.__esModule=!0;Us.default=void 0;Us.unescapeValue=Wa;var Fs=Ba(jt()),dA=Ba(va()),mA=Ba(Xn()),hA=ge(),$a;function Ba(e){return e&&e.__esModule?e:{default:e}}function jp(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function yA(e,t,r){return t&&jp(e.prototype,t),r&&jp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ja(e,t)}function ja(e,t){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ja(e,t)}var Vs=qp(),SA=/^('|")([^]*)\1$/,vA=Vs(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),bA=Vs(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),_A=Vs(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function Wa(e){var t=!1,r=null,s=e,n=s.match(SA);return n&&(r=n[1],s=n[2]),s=(0,dA.default)(s),s!==e&&(t=!0),{deprecatedUsage:t,unescaped:s,quoteMark:r}}function AA(e){if(e.quoteMark!==void 0||e.value===void 0)return e;_A();var t=Wa(e.value),r=t.quoteMark,s=t.unescaped;return e.raws||(e.raws={}),e.raws.value===void 0&&(e.raws.value=e.value),e.value=s,e.quoteMark=r,e}var Zn=function(e){gA(t,e);function t(s){var n;return s===void 0&&(s={}),n=e.call(this,AA(s))||this,n.type=hA.ATTRIBUTE,n.raws=n.raws||{},Object.defineProperty(n.raws,"unquoted",{get:Vs(function(){return n.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:Vs(function(){return n.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),n._constructed=!0,n}var r=t.prototype;return r.getQuotedValue=function(n){n===void 0&&(n={});var o=this._determineQuoteMark(n),i=qa[o],a=(0,Fs.default)(this._value,i);return a},r._determineQuoteMark=function(n){return n.smart?this.smartQuoteMark(n):this.preferredQuoteMark(n)},r.setValue=function(n,o){o===void 0&&(o={}),this._value=n,this._quoteMark=this._determineQuoteMark(o),this._syncRawValue()},r.smartQuoteMark=function(n){var o=this.value,i=o.replace(/[^']/g,"").length,a=o.replace(/[^"]/g,"").length;if(i+a===0){var l=(0,Fs.default)(o,{isIdentifier:!0});if(l===o)return t.NO_QUOTE;var u=this.preferredQuoteMark(n);if(u===t.NO_QUOTE){var c=this.quoteMark||n.quoteMark||t.DOUBLE_QUOTE,f=qa[c],p=(0,Fs.default)(o,f);if(p.length<l.length)return c}return u}else return a===i?this.preferredQuoteMark(n):a<i?t.DOUBLE_QUOTE:t.SINGLE_QUOTE},r.preferredQuoteMark=function(n){var o=n.preferCurrentQuoteMark?this.quoteMark:n.quoteMark;return o===void 0&&(o=n.preferCurrentQuoteMark?n.quoteMark:this.quoteMark),o===void 0&&(o=t.DOUBLE_QUOTE),o},r._syncRawValue=function(){var n=(0,Fs.default)(this._value,qa[this.quoteMark]);n===this._value?this.raws&&delete this.raws.value:this.raws.value=n},r._handleEscapes=function(n,o){if(this._constructed){var i=(0,Fs.default)(o,{isIdentifier:!0});i!==o?this.raws[n]=i:delete this.raws[n]}},r._spacesFor=function(n){var o={before:"",after:""},i=this.spaces[n]||{},a=this.raws.spaces&&this.raws.spaces[n]||{};return Object.assign(o,i,a)},r._stringFor=function(n,o,i){o===void 0&&(o=n),i===void 0&&(i=Bp);var a=this._spacesFor(o);return i(this.stringifyProperty(n),a)},r.offsetOf=function(n){var o=1,i=this._spacesFor("attribute");if(o+=i.before.length,n==="namespace"||n==="ns")return this.namespace?o:-1;if(n==="attributeNS"||(o+=this.namespaceString.length,this.namespace&&(o+=1),n==="attribute"))return o;o+=this.stringifyProperty("attribute").length,o+=i.after.length;var a=this._spacesFor("operator");o+=a.before.length;var l=this.stringifyProperty("operator");if(n==="operator")return l?o:-1;o+=l.length,o+=a.after.length;var u=this._spacesFor("value");o+=u.before.length;var c=this.stringifyProperty("value");if(n==="value")return c?o:-1;o+=c.length,o+=u.after.length;var f=this._spacesFor("insensitive");return o+=f.before.length,n==="insensitive"&&this.insensitive?o:-1},r.toString=function(){var n=this,o=[this.rawSpaceBefore,"["];return o.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||this.value==="")&&(o.push(this._stringFor("operator")),o.push(this._stringFor("value")),o.push(this._stringFor("insensitiveFlag","insensitive",function(i,a){return i.length>0&&!n.quoted&&a.before.length===0&&!(n.spaces.value&&n.spaces.value.after)&&(a.before=" "),Bp(i,a)}))),o.push("]"),o.push(this.rawSpaceAfter),o.join("")},yA(t,[{key:"quoted",get:function(){var n=this.quoteMark;return n==="'"||n==='"'},set:function(n){bA()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(n){if(!this._constructed){this._quoteMark=n;return}this._quoteMark!==n&&(this._quoteMark=n,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(n){if(this._constructed){var o=Wa(n),i=o.deprecatedUsage,a=o.unescaped,l=o.quoteMark;if(i&&vA(),a===this._value&&l===this._quoteMark)return;this._value=a,this._quoteMark=l,this._syncRawValue()}else this._value=n}},{key:"insensitive",get:function(){return this._insensitive},set:function(n){n||(this._insensitive=!1,this.raws&&(this.raws.insensitiveFlag==="I"||this.raws.insensitiveFlag==="i")&&(this.raws.insensitiveFlag=void 0)),this._insensitive=n}},{key:"attribute",get:function(){return this._attribute},set:function(n){this._handleEscapes("attribute",n),this._attribute=n}}]),t}(mA.default);Us.default=Zn;Zn.NO_QUOTE=null;Zn.SINGLE_QUOTE="'";Zn.DOUBLE_QUOTE='"';var qa=($a={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}},$a[null]={isIdentifier:!0},$a);function Bp(e,t){return""+t.before+e+t.after}});var Ha=g(($s,Wp)=>{"use strict";$s.__esModule=!0;$s.default=void 0;var CA=TA(Xn()),EA=ge();function TA(e){return e&&e.__esModule?e:{default:e}}function xA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ga(e,t)}function Ga(e,t){return Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ga(e,t)}var wA=function(e){xA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=EA.UNIVERSAL,s.value="*",s}return t}(CA.default);$s.default=wA;Wp.exports=$s.default});var Ka=g((qs,zp)=>{"use strict";qs.__esModule=!0;qs.default=void 0;var RA=IA(st()),NA=ge();function IA(e){return e&&e.__esModule?e:{default:e}}function OA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qa(e,t)}function Qa(e,t){return Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Qa(e,t)}var PA=function(e){OA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=NA.COMBINATOR,s}return t}(RA.default);qs.default=PA;zp.exports=qs.default});var Ja=g((js,Gp)=>{"use strict";js.__esModule=!0;js.default=void 0;var DA=MA(st()),kA=ge();function MA(e){return e&&e.__esModule?e:{default:e}}function LA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ya(e,t)}function Ya(e,t){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Ya(e,t)}var FA=function(e){LA(t,e);function t(r){var s;return s=e.call(this,r)||this,s.type=kA.NESTING,s.value="&",s}return t}(DA.default);js.default=FA;Gp.exports=js.default});var Qp=g((eo,Hp)=>{"use strict";eo.__esModule=!0;eo.default=VA;function VA(e){return e.sort(function(t,r){return t-r})}Hp.exports=eo.default});var Xa=g(R=>{"use strict";R.__esModule=!0;R.word=R.tilde=R.tab=R.str=R.space=R.slash=R.singleQuote=R.semicolon=R.plus=R.pipe=R.openSquare=R.openParenthesis=R.newline=R.greaterThan=R.feed=R.equals=R.doubleQuote=R.dollar=R.cr=R.comment=R.comma=R.combinator=R.colon=R.closeSquare=R.closeParenthesis=R.caret=R.bang=R.backslash=R.at=R.asterisk=R.ampersand=void 0;var UA=38;R.ampersand=UA;var $A=42;R.asterisk=$A;var qA=64;R.at=qA;var jA=44;R.comma=jA;var BA=58;R.colon=BA;var WA=59;R.semicolon=WA;var zA=40;R.openParenthesis=zA;var GA=41;R.closeParenthesis=GA;var HA=91;R.openSquare=HA;var QA=93;R.closeSquare=QA;var KA=36;R.dollar=KA;var YA=126;R.tilde=YA;var JA=94;R.caret=JA;var XA=43;R.plus=XA;var ZA=61;R.equals=ZA;var eC=124;R.pipe=eC;var tC=62;R.greaterThan=tC;var rC=32;R.space=rC;var Kp=39;R.singleQuote=Kp;var sC=34;R.doubleQuote=sC;var nC=47;R.slash=nC;var oC=33;R.bang=oC;var iC=92;R.backslash=iC;var aC=13;R.cr=aC;var lC=12;R.feed=lC;var uC=10;R.newline=uC;var cC=9;R.tab=cC;var fC=Kp;R.str=fC;var pC=-1;R.comment=pC;var dC=-2;R.word=dC;var mC=-3;R.combinator=mC});var Xp=g(Bs=>{"use strict";Bs.__esModule=!0;Bs.FIELDS=void 0;Bs.default=_C;var E=hC(Xa()),vr,q;function Jp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Jp=function(n){return n?r:t})(e)}function hC(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Jp(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}var yC=(vr={},vr[E.tab]=!0,vr[E.newline]=!0,vr[E.cr]=!0,vr[E.feed]=!0,vr),gC=(q={},q[E.space]=!0,q[E.tab]=!0,q[E.newline]=!0,q[E.cr]=!0,q[E.feed]=!0,q[E.ampersand]=!0,q[E.asterisk]=!0,q[E.bang]=!0,q[E.comma]=!0,q[E.colon]=!0,q[E.semicolon]=!0,q[E.openParenthesis]=!0,q[E.closeParenthesis]=!0,q[E.openSquare]=!0,q[E.closeSquare]=!0,q[E.singleQuote]=!0,q[E.doubleQuote]=!0,q[E.plus]=!0,q[E.pipe]=!0,q[E.tilde]=!0,q[E.greaterThan]=!0,q[E.equals]=!0,q[E.dollar]=!0,q[E.caret]=!0,q[E.slash]=!0,q),Za={},Yp="0123456789abcdefABCDEF";for(to=0;to<Yp.length;to++)Za[Yp.charCodeAt(to)]=!0;var to;function SC(e,t){var r=t,s;do{if(s=e.charCodeAt(r),gC[s])return r-1;s===E.backslash?r=vC(e,r)+1:r++}while(r<e.length);return r-1}function vC(e,t){var r=t,s=e.charCodeAt(r+1);if(!yC[s])if(Za[s]){var n=0;do r++,n++,s=e.charCodeAt(r+1);while(Za[s]&&n<6);n<6&&s===E.space&&r++}else r++;return r}var bC={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6};Bs.FIELDS=bC;function _C(e){var t=[],r=e.css.valueOf(),s=r,n=s.length,o=-1,i=1,a=0,l=0,u,c,f,p,d,m,S,h,v,T,A,x,C;function N(M,Q){if(e.safe)r+=Q,v=r.length-1;else throw e.error("Unclosed "+M,i,a-o,a)}for(;a<n;){switch(u=r.charCodeAt(a),u===E.newline&&(o=a,i+=1),u){case E.space:case E.tab:case E.newline:case E.cr:case E.feed:v=a;do v+=1,u=r.charCodeAt(v),u===E.newline&&(o=v,i+=1);while(u===E.space||u===E.newline||u===E.tab||u===E.cr||u===E.feed);C=E.space,p=i,f=v-o-1,l=v;break;case E.plus:case E.greaterThan:case E.tilde:case E.pipe:v=a;do v+=1,u=r.charCodeAt(v);while(u===E.plus||u===E.greaterThan||u===E.tilde||u===E.pipe);C=E.combinator,p=i,f=a-o,l=v;break;case E.asterisk:case E.ampersand:case E.bang:case E.comma:case E.equals:case E.dollar:case E.caret:case E.openSquare:case E.closeSquare:case E.colon:case E.semicolon:case E.openParenthesis:case E.closeParenthesis:v=a,C=u,p=i,f=a-o,l=v+1;break;case E.singleQuote:case E.doubleQuote:x=u===E.singleQuote?"'":'"',v=a;do for(d=!1,v=r.indexOf(x,v+1),v===-1&&N("quote",x),m=v;r.charCodeAt(m-1)===E.backslash;)m-=1,d=!d;while(d);C=E.str,p=i,f=a-o,l=v+1;break;default:u===E.slash&&r.charCodeAt(a+1)===E.asterisk?(v=r.indexOf("*/",a+2)+1,v===0&&N("comment","*/"),c=r.slice(a,v+1),h=c.split(`
`),S=h.length-1,S>0?(T=i+S,A=v-h[S].length):(T=i,A=o),C=E.comment,i=T,p=T,f=v-A):u===E.slash?(v=a,C=u,p=i,f=a-o,l=v+1):(v=SC(r,a),C=E.word,p=i,f=v-o),l=v+1;break}t.push([C,i,a-o,p,f,a,l]),A&&(o=A,A=null),a=l}return t}});var id=g((Ws,od)=>{"use strict";Ws.__esModule=!0;Ws.default=void 0;var AC=ke(Aa()),el=ke(Ea()),CC=ke(wa()),Zp=ke(Na()),EC=ke(Oa()),TC=ke(ka()),tl=ke(La()),xC=ke(Va()),ed=ro(za()),wC=ke(Ha()),rl=ke(Ka()),RC=ke(Ja()),NC=ke(Qp()),b=ro(Xp()),w=ro(Xa()),IC=ro(ge()),J=Ts(),Bt,sl;function nd(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(nd=function(n){return n?r:t})(e)}function ro(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=nd(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function ke(e){return e&&e.__esModule?e:{default:e}}function td(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function OC(e,t,r){return t&&td(e.prototype,t),r&&td(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var il=(Bt={},Bt[w.space]=!0,Bt[w.cr]=!0,Bt[w.feed]=!0,Bt[w.newline]=!0,Bt[w.tab]=!0,Bt),PC=Object.assign({},il,(sl={},sl[w.comment]=!0,sl));function rd(e){return{line:e[b.FIELDS.START_LINE],column:e[b.FIELDS.START_COL]}}function sd(e){return{line:e[b.FIELDS.END_LINE],column:e[b.FIELDS.END_COL]}}function Wt(e,t,r,s){return{start:{line:e,column:t},end:{line:r,column:s}}}function br(e){return Wt(e[b.FIELDS.START_LINE],e[b.FIELDS.START_COL],e[b.FIELDS.END_LINE],e[b.FIELDS.END_COL])}function nl(e,t){if(e)return Wt(e[b.FIELDS.START_LINE],e[b.FIELDS.START_COL],t[b.FIELDS.END_LINE],t[b.FIELDS.END_COL])}function _r(e,t){var r=e[t];if(typeof r=="string")return r.indexOf("\\")!==-1&&((0,J.ensureObject)(e,"raws"),e[t]=(0,J.unesc)(r),e.raws[t]===void 0&&(e.raws[t]=r)),e}function ol(e,t){for(var r=-1,s=[];(r=e.indexOf(t,r+1))!==-1;)s.push(r);return s}function DC(){var e=Array.prototype.concat.apply([],arguments);return e.filter(function(t,r){return r===e.indexOf(t)})}var kC=function(){function e(r,s){s===void 0&&(s={}),this.rule=r,this.options=Object.assign({lossy:!1,safe:!1},s),this.position=0,this.css=typeof this.rule=="string"?this.rule:this.rule.selector,this.tokens=(0,b.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var n=nl(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new AC.default({source:n}),this.root.errorGenerator=this._errorGenerator();var o=new el.default({source:{start:{line:1,column:1}}});this.root.append(o),this.current=o,this.loop()}var t=e.prototype;return t._errorGenerator=function(){var s=this;return function(n,o){return typeof s.rule=="string"?new Error(n):s.rule.error(n,o)}},t.attribute=function(){var s=[],n=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[b.FIELDS.TYPE]!==w.closeSquare;)s.push(this.currToken),this.position++;if(this.currToken[b.FIELDS.TYPE]!==w.closeSquare)return this.expected("closing square bracket",this.currToken[b.FIELDS.START_POS]);var o=s.length,i={source:Wt(n[1],n[2],this.currToken[3],this.currToken[4]),sourceIndex:n[b.FIELDS.START_POS]};if(o===1&&!~[w.word].indexOf(s[0][b.FIELDS.TYPE]))return this.expected("attribute",s[0][b.FIELDS.START_POS]);for(var a=0,l="",u="",c=null,f=!1;a<o;){var p=s[a],d=this.content(p),m=s[a+1];switch(p[b.FIELDS.TYPE]){case w.space:if(f=!0,this.options.lossy)break;if(c){(0,J.ensureObject)(i,"spaces",c);var S=i.spaces[c].after||"";i.spaces[c].after=S+d;var h=(0,J.getProp)(i,"raws","spaces",c,"after")||null;h&&(i.raws.spaces[c].after=h+d)}else l=l+d,u=u+d;break;case w.asterisk:if(m[b.FIELDS.TYPE]===w.equals)i.operator=d,c="operator";else if((!i.namespace||c==="namespace"&&!f)&&m){l&&((0,J.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=l,u=""),i.namespace=(i.namespace||"")+d;var v=(0,J.getProp)(i,"raws","namespace")||null;v&&(i.raws.namespace+=d),c="namespace"}f=!1;break;case w.dollar:if(c==="value"){var T=(0,J.getProp)(i,"raws","value");i.value+="$",T&&(i.raws.value=T+"$");break}case w.caret:m[b.FIELDS.TYPE]===w.equals&&(i.operator=d,c="operator"),f=!1;break;case w.combinator:if(d==="~"&&m[b.FIELDS.TYPE]===w.equals&&(i.operator=d,c="operator"),d!=="|"){f=!1;break}m[b.FIELDS.TYPE]===w.equals?(i.operator=d,c="operator"):!i.namespace&&!i.attribute&&(i.namespace=!0),f=!1;break;case w.word:if(m&&this.content(m)==="|"&&s[a+2]&&s[a+2][b.FIELDS.TYPE]!==w.equals&&!i.operator&&!i.namespace)i.namespace=d,c="namespace";else if(!i.attribute||c==="attribute"&&!f){l&&((0,J.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=u,u=""),i.attribute=(i.attribute||"")+d;var A=(0,J.getProp)(i,"raws","attribute")||null;A&&(i.raws.attribute+=d),c="attribute"}else if(!i.value&&i.value!==""||c==="value"&&!(f||i.quoteMark)){var x=(0,J.unesc)(d),C=(0,J.getProp)(i,"raws","value")||"",N=i.value||"";i.value=N+x,i.quoteMark=null,(x!==d||C)&&((0,J.ensureObject)(i,"raws"),i.raws.value=(C||N)+d),c="value"}else{var M=d==="i"||d==="I";(i.value||i.value==="")&&(i.quoteMark||f)?(i.insensitive=M,(!M||d==="I")&&((0,J.ensureObject)(i,"raws"),i.raws.insensitiveFlag=d),c="insensitive",l&&((0,J.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=l,l=""),u&&((0,J.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=u,u="")):(i.value||i.value==="")&&(c="value",i.value+=d,i.raws.value&&(i.raws.value+=d))}f=!1;break;case w.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:p[b.FIELDS.START_POS]});var Q=(0,ed.unescapeValue)(d),Vt=Q.unescaped,An=Q.quoteMark;i.value=Vt,i.quoteMark=An,c="value",(0,J.ensureObject)(i,"raws"),i.raws.value=d,f=!1;break;case w.equals:if(!i.attribute)return this.expected("attribute",p[b.FIELDS.START_POS],d);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:p[b.FIELDS.START_POS]});i.operator=i.operator?i.operator+d:d,c="operator",f=!1;break;case w.comment:if(c)if(f||m&&m[b.FIELDS.TYPE]===w.space||c==="insensitive"){var HS=(0,J.getProp)(i,"spaces",c,"after")||"",QS=(0,J.getProp)(i,"raws","spaces",c,"after")||HS;(0,J.ensureObject)(i,"raws","spaces",c),i.raws.spaces[c].after=QS+d}else{var KS=i[c]||"",YS=(0,J.getProp)(i,"raws",c)||KS;(0,J.ensureObject)(i,"raws"),i.raws[c]=YS+d}else u=u+d;break;default:return this.error('Unexpected "'+d+'" found.',{index:p[b.FIELDS.START_POS]})}a++}_r(i,"attribute"),_r(i,"namespace"),this.newNode(new ed.default(i)),this.position++},t.parseWhitespaceEquivalentTokens=function(s){s<0&&(s=this.tokens.length);var n=this.position,o=[],i="",a=void 0;do if(il[this.currToken[b.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[b.FIELDS.TYPE]===w.comment){var l={};i&&(l.before=i,i=""),a=new Zp.default({value:this.content(),source:br(this.currToken),sourceIndex:this.currToken[b.FIELDS.START_POS],spaces:l}),o.push(a)}while(++this.position<s);if(i){if(a)a.spaces.after=i;else if(!this.options.lossy){var u=this.tokens[n],c=this.tokens[this.position-1];o.push(new tl.default({value:"",source:Wt(u[b.FIELDS.START_LINE],u[b.FIELDS.START_COL],c[b.FIELDS.END_LINE],c[b.FIELDS.END_COL]),sourceIndex:u[b.FIELDS.START_POS],spaces:{before:i,after:""}}))}}return o},t.convertWhitespaceNodesToSpace=function(s,n){var o=this;n===void 0&&(n=!1);var i="",a="";s.forEach(function(u){var c=o.lossySpace(u.spaces.before,n),f=o.lossySpace(u.rawSpaceBefore,n);i+=c+o.lossySpace(u.spaces.after,n&&c.length===0),a+=c+u.value+o.lossySpace(u.rawSpaceAfter,n&&f.length===0)}),a===i&&(a=void 0);var l={space:i,rawSpace:a};return l},t.isNamedCombinator=function(s){return s===void 0&&(s=this.position),this.tokens[s+0]&&this.tokens[s+0][b.FIELDS.TYPE]===w.slash&&this.tokens[s+1]&&this.tokens[s+1][b.FIELDS.TYPE]===w.word&&this.tokens[s+2]&&this.tokens[s+2][b.FIELDS.TYPE]===w.slash},t.namedCombinator=function(){if(this.isNamedCombinator()){var s=this.content(this.tokens[this.position+1]),n=(0,J.unesc)(s).toLowerCase(),o={};n!==s&&(o.value="/"+s+"/");var i=new rl.default({value:"/"+n+"/",source:Wt(this.currToken[b.FIELDS.START_LINE],this.currToken[b.FIELDS.START_COL],this.tokens[this.position+2][b.FIELDS.END_LINE],this.tokens[this.position+2][b.FIELDS.END_COL]),sourceIndex:this.currToken[b.FIELDS.START_POS],raws:o});return this.position=this.position+3,i}else this.unexpected()},t.combinator=function(){var s=this;if(this.content()==="|")return this.namespace();var n=this.locateNextMeaningfulToken(this.position);if(n<0||this.tokens[n][b.FIELDS.TYPE]===w.comma){var o=this.parseWhitespaceEquivalentTokens(n);if(o.length>0){var i=this.current.last;if(i){var a=this.convertWhitespaceNodesToSpace(o),l=a.space,u=a.rawSpace;u!==void 0&&(i.rawSpaceAfter+=u),i.spaces.after+=l}else o.forEach(function(C){return s.newNode(C)})}return}var c=this.currToken,f=void 0;n>this.position&&(f=this.parseWhitespaceEquivalentTokens(n));var p;if(this.isNamedCombinator()?p=this.namedCombinator():this.currToken[b.FIELDS.TYPE]===w.combinator?(p=new rl.default({value:this.content(),source:br(this.currToken),sourceIndex:this.currToken[b.FIELDS.START_POS]}),this.position++):il[this.currToken[b.FIELDS.TYPE]]||f||this.unexpected(),p){if(f){var d=this.convertWhitespaceNodesToSpace(f),m=d.space,S=d.rawSpace;p.spaces.before=m,p.rawSpaceBefore=S}}else{var h=this.convertWhitespaceNodesToSpace(f,!0),v=h.space,T=h.rawSpace;T||(T=v);var A={},x={spaces:{}};v.endsWith(" ")&&T.endsWith(" ")?(A.before=v.slice(0,v.length-1),x.spaces.before=T.slice(0,T.length-1)):v.startsWith(" ")&&T.startsWith(" ")?(A.after=v.slice(1),x.spaces.after=T.slice(1)):x.value=T,p=new rl.default({value:" ",source:nl(c,this.tokens[this.position-1]),sourceIndex:c[b.FIELDS.START_POS],spaces:A,raws:x})}return this.currToken&&this.currToken[b.FIELDS.TYPE]===w.space&&(p.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(p)},t.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var s=new el.default({source:{start:rd(this.tokens[this.position+1])}});this.current.parent.append(s),this.current=s,this.position++},t.comment=function(){var s=this.currToken;this.newNode(new Zp.default({value:this.content(),source:br(s),sourceIndex:s[b.FIELDS.START_POS]})),this.position++},t.error=function(s,n){throw this.root.error(s,n)},t.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[b.FIELDS.START_POS]})},t.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[b.FIELDS.START_POS])},t.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[b.FIELDS.START_POS])},t.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[b.FIELDS.START_POS])},t.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[b.FIELDS.START_POS])},t.namespace=function(){var s=this.prevToken&&this.content(this.prevToken)||!0;if(this.nextToken[b.FIELDS.TYPE]===w.word)return this.position++,this.word(s);if(this.nextToken[b.FIELDS.TYPE]===w.asterisk)return this.position++,this.universal(s);this.unexpectedPipe()},t.nesting=function(){if(this.nextToken){var s=this.content(this.nextToken);if(s==="|"){this.position++;return}}var n=this.currToken;this.newNode(new RC.default({value:this.content(),source:br(n),sourceIndex:n[b.FIELDS.START_POS]})),this.position++},t.parentheses=function(){var s=this.current.last,n=1;if(this.position++,s&&s.type===IC.PSEUDO){var o=new el.default({source:{start:rd(this.tokens[this.position-1])}}),i=this.current;for(s.append(o),this.current=o;this.position<this.tokens.length&&n;)this.currToken[b.FIELDS.TYPE]===w.openParenthesis&&n++,this.currToken[b.FIELDS.TYPE]===w.closeParenthesis&&n--,n?this.parse():(this.current.source.end=sd(this.currToken),this.current.parent.source.end=sd(this.currToken),this.position++);this.current=i}else{for(var a=this.currToken,l="(",u;this.position<this.tokens.length&&n;)this.currToken[b.FIELDS.TYPE]===w.openParenthesis&&n++,this.currToken[b.FIELDS.TYPE]===w.closeParenthesis&&n--,u=this.currToken,l+=this.parseParenthesisToken(this.currToken),this.position++;s?s.appendToPropertyAndEscape("value",l,l):this.newNode(new tl.default({value:l,source:Wt(a[b.FIELDS.START_LINE],a[b.FIELDS.START_COL],u[b.FIELDS.END_LINE],u[b.FIELDS.END_COL]),sourceIndex:a[b.FIELDS.START_POS]}))}if(n)return this.expected("closing parenthesis",this.currToken[b.FIELDS.START_POS])},t.pseudo=function(){for(var s=this,n="",o=this.currToken;this.currToken&&this.currToken[b.FIELDS.TYPE]===w.colon;)n+=this.content(),this.position++;if(!this.currToken)return this.expected(["pseudo-class","pseudo-element"],this.position-1);if(this.currToken[b.FIELDS.TYPE]===w.word)this.splitWord(!1,function(i,a){n+=i,s.newNode(new xC.default({value:n,source:nl(o,s.currToken),sourceIndex:o[b.FIELDS.START_POS]})),a>1&&s.nextToken&&s.nextToken[b.FIELDS.TYPE]===w.openParenthesis&&s.error("Misplaced parenthesis.",{index:s.nextToken[b.FIELDS.START_POS]})});else return this.expected(["pseudo-class","pseudo-element"],this.currToken[b.FIELDS.START_POS])},t.space=function(){var s=this.content();this.position===0||this.prevToken[b.FIELDS.TYPE]===w.comma||this.prevToken[b.FIELDS.TYPE]===w.openParenthesis||this.current.nodes.every(function(n){return n.type==="comment"})?(this.spaces=this.optionalSpace(s),this.position++):this.position===this.tokens.length-1||this.nextToken[b.FIELDS.TYPE]===w.comma||this.nextToken[b.FIELDS.TYPE]===w.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(s),this.position++):this.combinator()},t.string=function(){var s=this.currToken;this.newNode(new tl.default({value:this.content(),source:br(s),sourceIndex:s[b.FIELDS.START_POS]})),this.position++},t.universal=function(s){var n=this.nextToken;if(n&&this.content(n)==="|")return this.position++,this.namespace();var o=this.currToken;this.newNode(new wC.default({value:this.content(),source:br(o),sourceIndex:o[b.FIELDS.START_POS]}),s),this.position++},t.splitWord=function(s,n){for(var o=this,i=this.nextToken,a=this.content();i&&~[w.dollar,w.caret,w.equals,w.word].indexOf(i[b.FIELDS.TYPE]);){this.position++;var l=this.content();if(a+=l,l.lastIndexOf("\\")===l.length-1){var u=this.nextToken;u&&u[b.FIELDS.TYPE]===w.space&&(a+=this.requiredSpace(this.content(u)),this.position++)}i=this.nextToken}var c=ol(a,".").filter(function(m){var S=a[m-1]==="\\",h=/^\d+\.\d+%$/.test(a);return!S&&!h}),f=ol(a,"#").filter(function(m){return a[m-1]!=="\\"}),p=ol(a,"#{");p.length&&(f=f.filter(function(m){return!~p.indexOf(m)}));var d=(0,NC.default)(DC([0].concat(c,f)));d.forEach(function(m,S){var h=d[S+1]||a.length,v=a.slice(m,h);if(S===0&&n)return n.call(o,v,d.length);var T,A=o.currToken,x=A[b.FIELDS.START_POS]+d[S],C=Wt(A[1],A[2]+m,A[3],A[2]+(h-1));if(~c.indexOf(m)){var N={value:v.slice(1),source:C,sourceIndex:x};T=new CC.default(_r(N,"value"))}else if(~f.indexOf(m)){var M={value:v.slice(1),source:C,sourceIndex:x};T=new EC.default(_r(M,"value"))}else{var Q={value:v,source:C,sourceIndex:x};_r(Q,"value"),T=new TC.default(Q)}o.newNode(T,s),s=null}),this.position++},t.word=function(s){var n=this.nextToken;return n&&this.content(n)==="|"?(this.position++,this.namespace()):this.splitWord(s)},t.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},t.parse=function(s){switch(this.currToken[b.FIELDS.TYPE]){case w.space:this.space();break;case w.comment:this.comment();break;case w.openParenthesis:this.parentheses();break;case w.closeParenthesis:s&&this.missingParenthesis();break;case w.openSquare:this.attribute();break;case w.dollar:case w.caret:case w.equals:case w.word:this.word();break;case w.colon:this.pseudo();break;case w.comma:this.comma();break;case w.asterisk:this.universal();break;case w.ampersand:this.nesting();break;case w.slash:case w.combinator:this.combinator();break;case w.str:this.string();break;case w.closeSquare:this.missingSquareBracket();case w.semicolon:this.missingBackslash();default:this.unexpected()}},t.expected=function(s,n,o){if(Array.isArray(s)){var i=s.pop();s=s.join(", ")+" or "+i}var a=/^[aeiou]/.test(s[0])?"an":"a";return o?this.error("Expected "+a+" "+s+', found "'+o+'" instead.',{index:n}):this.error("Expected "+a+" "+s+".",{index:n})},t.requiredSpace=function(s){return this.options.lossy?" ":s},t.optionalSpace=function(s){return this.options.lossy?"":s},t.lossySpace=function(s,n){return this.options.lossy?n?" ":"":s},t.parseParenthesisToken=function(s){var n=this.content(s);return s[b.FIELDS.TYPE]===w.space?this.requiredSpace(n):n},t.newNode=function(s,n){return n&&(/^ +$/.test(n)&&(this.options.lossy||(this.spaces=(this.spaces||"")+n),n=!0),s.namespace=n,_r(s,"namespace")),this.spaces&&(s.spaces.before=this.spaces,this.spaces=""),this.current.append(s)},t.content=function(s){return s===void 0&&(s=this.currToken),this.css.slice(s[b.FIELDS.START_POS],s[b.FIELDS.END_POS])},t.locateNextMeaningfulToken=function(s){s===void 0&&(s=this.position+1);for(var n=s;n<this.tokens.length;)if(PC[this.tokens[n][b.FIELDS.TYPE]]){n++;continue}else return n;return-1},OC(e,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),e}();Ws.default=kC;od.exports=Ws.default});var ld=g((zs,ad)=>{"use strict";zs.__esModule=!0;zs.default=void 0;var MC=LC(id());function LC(e){return e&&e.__esModule?e:{default:e}}var FC=function(){function e(r,s){this.func=r||function(){},this.funcRes=null,this.options=s}var t=e.prototype;return t._shouldUpdateSelector=function(s,n){n===void 0&&(n={});var o=Object.assign({},this.options,n);return o.updateSelector===!1?!1:typeof s!="string"},t._isLossy=function(s){s===void 0&&(s={});var n=Object.assign({},this.options,s);return n.lossless===!1},t._root=function(s,n){n===void 0&&(n={});var o=new MC.default(s,this._parseOptions(n));return o.root},t._parseOptions=function(s){return{lossy:this._isLossy(s)}},t._run=function(s,n){var o=this;return n===void 0&&(n={}),new Promise(function(i,a){try{var l=o._root(s,n);Promise.resolve(o.func(l)).then(function(u){var c=void 0;return o._shouldUpdateSelector(s,n)&&(c=l.toString(),s.selector=c),{transform:u,root:l,string:c}}).then(i,a)}catch(u){a(u);return}})},t._runSync=function(s,n){n===void 0&&(n={});var o=this._root(s,n),i=this.func(o);if(i&&typeof i.then=="function")throw new Error("Selector processor returned a promise to a synchronous call.");var a=void 0;return n.updateSelector&&typeof s!="string"&&(a=o.toString(),s.selector=a),{transform:i,root:o,string:a}},t.ast=function(s,n){return this._run(s,n).then(function(o){return o.root})},t.astSync=function(s,n){return this._runSync(s,n).root},t.transform=function(s,n){return this._run(s,n).then(function(o){return o.transform})},t.transformSync=function(s,n){return this._runSync(s,n).transform},t.process=function(s,n){return this._run(s,n).then(function(o){return o.string||o.root.toString()})},t.processSync=function(s,n){var o=this._runSync(s,n);return o.string||o.root.toString()},e}();zs.default=FC;ad.exports=zs.default});var ud=g(z=>{"use strict";z.__esModule=!0;z.universal=z.tag=z.string=z.selector=z.root=z.pseudo=z.nesting=z.id=z.comment=z.combinator=z.className=z.attribute=void 0;var VC=Me(za()),UC=Me(wa()),$C=Me(Ka()),qC=Me(Na()),jC=Me(Oa()),BC=Me(Ja()),WC=Me(Va()),zC=Me(Aa()),GC=Me(Ea()),HC=Me(La()),QC=Me(ka()),KC=Me(Ha());function Me(e){return e&&e.__esModule?e:{default:e}}var YC=function(t){return new VC.default(t)};z.attribute=YC;var JC=function(t){return new UC.default(t)};z.className=JC;var XC=function(t){return new $C.default(t)};z.combinator=XC;var ZC=function(t){return new qC.default(t)};z.comment=ZC;var eE=function(t){return new jC.default(t)};z.id=eE;var tE=function(t){return new BC.default(t)};z.nesting=tE;var rE=function(t){return new WC.default(t)};z.pseudo=rE;var sE=function(t){return new zC.default(t)};z.root=sE;var nE=function(t){return new GC.default(t)};z.selector=nE;var oE=function(t){return new HC.default(t)};z.string=oE;var iE=function(t){return new QC.default(t)};z.tag=iE;var aE=function(t){return new KC.default(t)};z.universal=aE});var dd=g(F=>{"use strict";F.__esModule=!0;F.isComment=F.isCombinator=F.isClassName=F.isAttribute=void 0;F.isContainer=vE;F.isIdentifier=void 0;F.isNamespace=bE;F.isNesting=void 0;F.isNode=al;F.isPseudo=void 0;F.isPseudoClass=SE;F.isPseudoElement=pd;F.isUniversal=F.isTag=F.isString=F.isSelector=F.isRoot=void 0;var X=ge(),Te,lE=(Te={},Te[X.ATTRIBUTE]=!0,Te[X.CLASS]=!0,Te[X.COMBINATOR]=!0,Te[X.COMMENT]=!0,Te[X.ID]=!0,Te[X.NESTING]=!0,Te[X.PSEUDO]=!0,Te[X.ROOT]=!0,Te[X.SELECTOR]=!0,Te[X.STRING]=!0,Te[X.TAG]=!0,Te[X.UNIVERSAL]=!0,Te);function al(e){return typeof e=="object"&&lE[e.type]}function Le(e,t){return al(t)&&t.type===e}var cd=Le.bind(null,X.ATTRIBUTE);F.isAttribute=cd;var uE=Le.bind(null,X.CLASS);F.isClassName=uE;var cE=Le.bind(null,X.COMBINATOR);F.isCombinator=cE;var fE=Le.bind(null,X.COMMENT);F.isComment=fE;var pE=Le.bind(null,X.ID);F.isIdentifier=pE;var dE=Le.bind(null,X.NESTING);F.isNesting=dE;var ll=Le.bind(null,X.PSEUDO);F.isPseudo=ll;var mE=Le.bind(null,X.ROOT);F.isRoot=mE;var hE=Le.bind(null,X.SELECTOR);F.isSelector=hE;var yE=Le.bind(null,X.STRING);F.isString=yE;var fd=Le.bind(null,X.TAG);F.isTag=fd;var gE=Le.bind(null,X.UNIVERSAL);F.isUniversal=gE;function pd(e){return ll(e)&&e.value&&(e.value.startsWith("::")||e.value.toLowerCase()===":before"||e.value.toLowerCase()===":after"||e.value.toLowerCase()===":first-letter"||e.value.toLowerCase()===":first-line")}function SE(e){return ll(e)&&!pd(e)}function vE(e){return!!(al(e)&&e.walk)}function bE(e){return cd(e)||fd(e)}});var md=g(We=>{"use strict";We.__esModule=!0;var ul=ge();Object.keys(ul).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===ul[e]||(We[e]=ul[e])});var cl=ud();Object.keys(cl).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===cl[e]||(We[e]=cl[e])});var fl=dd();Object.keys(fl).forEach(function(e){e==="default"||e==="__esModule"||e in We&&We[e]===fl[e]||(We[e]=fl[e])})});var gd=g((Gs,yd)=>{"use strict";Gs.__esModule=!0;Gs.default=void 0;var _E=EE(ld()),AE=CE(md());function hd(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(hd=function(n){return n?r:t})(e)}function CE(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=hd(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,r&&r.set(e,s),s}function EE(e){return e&&e.__esModule?e:{default:e}}var pl=function(t){return new _E.default(t)};Object.assign(pl,AE);delete pl.__esModule;var TE=pl;Gs.default=TE;yd.exports=Gs.default});var Ed=g((_D,gl)=>{var{Rule:vd,AtRule:xE}=qt(),bd=gd();function hl(e,t){let r;try{bd(s=>{r=s}).processSync(e)}catch(s){throw e.includes(":")?t?t.error("Missed semicolon"):s:t?t.error(s.message):s}return r.at(0)}function _d(e,t){let r=!1;return e.each(s=>{if(s.type==="nesting"){let n=t.clone({});s.value!=="&"?s.replaceWith(hl(s.value.replace("&",n.toString()))):s.replaceWith(n),r=!0}else"nodes"in s&&s.nodes&&_d(s,t)&&(r=!0)}),r}function Ad(e,t){let r=[];return e.selectors.forEach(s=>{let n=hl(s,e);t.selectors.forEach(o=>{if(!o)return;let i=hl(o,t);_d(i,n)||(i.prepend(bd.combinator({value:" "})),i.prepend(n.clone({}))),r.push(i.toString())})}),r}function so(e,t){let r=e.prev();for(t.after(e);r&&r.type==="comment";){let s=r.prev();t.after(r),r=s}return e}function wE(e){return function t(r,s,n,o=n){let i=[];if(s.each(a=>{a.type==="rule"&&n?o&&(a.selectors=Ad(r,a)):a.type==="atrule"&&a.nodes?e[a.name]?t(r,a,o):s[yl]!==!1&&i.push(a):i.push(a)}),n&&i.length){let a=r.clone({nodes:[]});for(let l of i)a.append(l);s.prepend(a)}}}function dl(e,t,r){let s=new vd({selector:e,nodes:[]});return s.append(t),r.after(s),s}function Sd(e,t){let r={};for(let s of e)r[s]=!0;if(t)for(let s of t)r[s.replace(/^@/,"")]=!0;return r}function RE(e){e=e.trim();let t=e.match(/^\((.*)\)$/);if(!t)return{type:"basic",selector:e};let r=t[1].match(/^(with(?:out)?):(.+)$/);if(r){let s=r[1]==="with",n=Object.fromEntries(r[2].trim().split(/\s+/).map(i=>[i,!0]));if(s&&n.all)return{type:"noop"};let o=i=>!!n[i];return n.all?o=()=>!0:s&&(o=i=>i==="all"?!1:!n[i]),{type:"withrules",escapes:o}}return{type:"unknown"}}function NE(e){let t=[],r=e.parent;for(;r&&r instanceof xE;)t.push(r),r=r.parent;return t}function IE(e){let t=e[Cd];if(!t)e.after(e.nodes);else{let r=e.nodes,s,n=-1,o,i,a,l=NE(e);if(l.forEach((u,c)=>{if(t(u.name))s=u,n=c,i=a;else{let f=a;a=u.clone({nodes:[]}),f&&a.append(f),o=o||a}}),s?i?(o.append(r),s.after(i)):s.after(r):e.after(r),e.next()&&s){let u;l.slice(0,n+1).forEach((c,f,p)=>{let d=u;u=c.clone({nodes:[]}),d&&u.append(d);let m=[],h=(p[f-1]||e).next();for(;h;)m.push(h),h=h.next();u.append(m)}),u&&(i||r[r.length-1]).after(u)}}e.remove()}var yl=Symbol("rootRuleMergeSel"),Cd=Symbol("rootRuleEscapes");function OE(e){let{params:t}=e,{type:r,selector:s,escapes:n}=RE(t);if(r==="unknown")throw e.error(`Unknown @${e.name} parameter ${JSON.stringify(t)}`);if(r==="basic"&&s){let o=new vd({selector:s,nodes:e.nodes});e.removeAll(),e.append(o)}e[Cd]=n,e[yl]=n?!n("all"):r==="noop"}var ml=Symbol("hasRootRule");gl.exports=(e={})=>{let t=Sd(["media","supports","layer","container"],e.bubble),r=wE(t),s=Sd(["document","font-face","keyframes","-webkit-keyframes","-moz-keyframes"],e.unwrap),n=(e.rootRuleName||"at-root").replace(/^@/,""),o=e.preserveEmpty;return{postcssPlugin:"postcss-nested",Once(i){i.walkAtRules(n,a=>{OE(a),i[ml]=!0})},Rule(i){let a=!1,l=i,u=!1,c=[];i.each(f=>{f.type==="rule"?(c.length&&(l=dl(i.selector,c,l),c=[]),u=!0,a=!0,f.selectors=Ad(i,f),l=so(f,l)):f.type==="atrule"?(c.length&&(l=dl(i.selector,c,l),c=[]),f.name===n?(a=!0,r(i,f,!0,f[yl]),l=so(f,l)):t[f.name]?(u=!0,a=!0,r(i,f,!0),l=so(f,l)):s[f.name]?(u=!0,a=!0,r(i,f,!1),l=so(f,l)):u&&c.push(f)):f.type==="decl"&&u&&c.push(f)}),c.length&&(l=dl(i.selector,c,l)),a&&o!==!0&&(i.raws.semicolon=!0,i.nodes.length===0&&i.remove())},RootExit(i){i[ml]&&(i.walkAtRules(n,IE),i[ml]=!1)}}};gl.exports.postcss=!0});var Rd=g((AD,wd)=>{"use strict";var Td=/-(\w|$)/g,xd=function(t,r){return r.toUpperCase()},PE=function(t){return t=t.toLowerCase(),t==="float"?"cssFloat":t.charCodeAt(0)===45&&t.charCodeAt(1)===109&&t.charCodeAt(2)===115&&t.charCodeAt(3)===45?t.substr(1).replace(Td,xd):t.replace(Td,xd)};wd.exports=PE});var bl=g((CD,Nd)=>{var DE=Rd(),kE={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};function Sl(e){return typeof e.nodes>"u"?!0:vl(e)}function vl(e){let t,r={};return e.each(s=>{if(s.type==="atrule")t="@"+s.name,s.params&&(t+=" "+s.params),typeof r[t]>"u"?r[t]=Sl(s):Array.isArray(r[t])?r[t].push(Sl(s)):r[t]=[r[t],Sl(s)];else if(s.type==="rule"){let n=vl(s);if(r[s.selector])for(let o in n)r[s.selector][o]=n[o];else r[s.selector]=n}else if(s.type==="decl"){s.prop[0]==="-"&&s.prop[1]==="-"||s.parent&&s.parent.selector===":export"?t=s.prop:t=DE(s.prop);let n=s.value;!isNaN(s.value)&&kE[t]&&(n=parseFloat(s.value)),s.important&&(n+=" !important"),typeof r[t]>"u"?r[t]=n:Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]}}),r}Nd.exports=vl});var no=g((ED,Dd)=>{var Hs=qt(),Id=/\s*!important\s*$/i,ME={"box-flex":!0,"box-flex-group":!0,"column-count":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"font-weight":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0};function LE(e){return e.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function Od(e,t,r){r===!1||r===null||(t.startsWith("--")||(t=LE(t)),typeof r=="number"&&(r===0||ME[t]?r=r.toString():r+="px"),t==="css-float"&&(t="float"),Id.test(r)?(r=r.replace(Id,""),e.push(Hs.decl({prop:t,value:r,important:!0}))):e.push(Hs.decl({prop:t,value:r})))}function Pd(e,t,r){let s=Hs.atRule({name:t[1],params:t[3]||""});typeof r=="object"&&(s.nodes=[],_l(r,s)),e.push(s)}function _l(e,t){let r,s,n;for(r in e)if(s=e[r],!(s===null||typeof s>"u"))if(r[0]==="@"){let o=r.match(/@(\S+)(\s+([\W\w]*)\s*)?/);if(Array.isArray(s))for(let i of s)Pd(t,o,i);else Pd(t,o,s)}else if(Array.isArray(s))for(let o of s)Od(t,r,o);else typeof s=="object"?(n=Hs.rule({selector:r}),_l(s,n),t.push(n)):Od(t,r,s)}Dd.exports=function(e){let t=Hs.root();return _l(e,t),t}});var Al=g((TD,kd)=>{var FE=bl();kd.exports=function(t){return console&&console.warn&&t.warnings().forEach(r=>{let s=r.plugin||"PostCSS";console.warn(s+": "+r.text)}),FE(t.root)}});var Ld=g((xD,Md)=>{var VE=qt(),UE=Al(),$E=no();Md.exports=function(t){let r=VE(t);return async s=>{let n=await r.process(s,{parser:$E,from:void 0});return UE(n)}}});var Vd=g((wD,Fd)=>{var qE=qt(),jE=Al(),BE=no();Fd.exports=function(e){let t=qE(e);return r=>{let s=t.process(r,{parser:BE,from:void 0});return jE(s)}}});var $d=g((RD,Ud)=>{var WE=bl(),zE=no(),GE=Ld(),HE=Vd();Ud.exports={objectify:WE,parse:zE,async:GE,sync:HE}});var Bd=g((kD,jd)=>{var QE=fa(),KE=dr(),YE=ma(),Cl=class extends YE{createTokenizer(){this.tokenizer=QE(this.input,{ignoreErrors:!0})}comment(t){let r=new KE;this.init(r,t[2]);let s=this.input.fromOffset(t[3])||this.input.fromOffset(this.input.css.length-1);r.source.end={offset:t[3],line:s.line,column:s.col};let n=t[1].slice(2);if(n.slice(-2)==="*/"&&(n=n.slice(0,-2)),/^\s*$/.test(n))r.text="",r.raws.left=n,r.raws.right="";else{let o=n.match(/^(\s*)([^]*\S)(\s*)$/);r.text=o[2],r.raws.left=o[1],r.raws.right=o[3]}}decl(t){t.length>1&&t.some(r=>r[0]==="word")&&super.decl(t)}unclosedBracket(){}unknownWord(t){this.spaces+=t.map(r=>r[1]).join("")}unexpectedClose(){this.current.raws.after+="}"}doubleColon(){}unnamedAtrule(t){t.name=""}precheckMissedSemicolon(t){let r=this.colon(t);if(r===!1)return;let s,n;for(s=r-1;s>=0&&t[s][0]!=="word";s--);if(s===0)return;for(n=s-1;n>=0;n--)if(t[n][0]!=="space"){n+=1;break}let o=t.slice(s),i=t.slice(n,s);t.splice(n,t.length-n),this.spaces=i.map(a=>a[1]).join(""),this.decl(o)}checkMissedSemicolon(){}endFile(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after=""}};jd.exports=Cl});var zd=g((MD,Wd)=>{var{Input:JE}=qt(),XE=Bd();Wd.exports=function(t,r){let s=new JE(t,r),n=new XE(s);return n.parse(),n.root}});var Zd=g(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0})});var em=g(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.tokenize=void 0;function tT(e,{shouldClose:t,isDelimiter:r,isStringDelimiter:s,isWhitespace:n,shouldAddToken:o,createToken:i,getCommentStartType:a,isCommentEnd:l,getUnclosedComment:u,offset:c=0}){let f=[],p="",d="",m="",S="",h=c,v=0;for(let A of e)v+=A.length,S?(d+=A,A===S&&p!=="\\"&&(T("string"),S="")):m?(d+=A,l(m,A,e,v,p)&&(T(m),m="")):(m=a(A,e,v))?(T(),d+=A):s(A,p)?(T(),d+=A,S=A):r(A,p)?(T(),d+=A,T(A)):n(A)&&!n(p)||!n(A)&&n(p)?(T(),d+=A):t?.(A,p)?(T(),d+=A,T(A)):d+=A,p=A;d.length&&(m?T(u(m)):S?T("unclosed-string"):T());function T(A){if(d.length===0)return;let x=h+d.length;A=A??(d.trim().length?"text":"space"),o(A,d)&&(f[f.length]=i(d,A,h,x)),h=x,d=""}return f}oo.tokenize=tT});var rm=g($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.last=$.trimTokens=$.groupTokens=$.getText=$.getUnclosedComment=$.isCommentEnd=$.getMultilineCommentStartType=$.getJSCommentStartType=$.createToken=$.isWhitespace=$.isStringDelimiter=$.isString=$.isComment=void 0;function rT(e){return e==="line-comment"||e==="multi-comment"||e==="unclosed-comment"}$.isComment=rT;function sT(e){return e==="string"||e==="unclosed-string"}$.isString=sT;var nT=e=>e==="'"||e==='"'||e==="`";$.isStringDelimiter=nT;var oT=e=>e===" "||e==="	"||e==="\r"||e===`
`;$.isWhitespace=oT;var iT=(e,t,r,s)=>({value:e,type:t,start:r,end:s});$.createToken=iT;function aT(e,t,r){return e==="/"&&t[r]==="/"?"line-comment":e==="/"&&t[r]==="*"?"multi-comment":""}$.getJSCommentStartType=aT;function lT(e,t,r){return e==="/"&&t[r]==="*"?"multi-comment":""}$.getMultilineCommentStartType=lT;function uT(e,t,r,s,n){return e==="line-comment"&&t===`
`?!0:e==="multi-comment"&&t==="/"&&n==="*"}$.isCommentEnd=uT;function cT(e){return e==="line-comment"?e:"unclosed-comment"}$.getUnclosedComment=cT;function tm(e,t=0,r=-1,s){if(e.length===0)return"";if(r===-1&&(r=e.length),s)return s.slice(e[t].start,e[r-1].end);{let n="";for(let o=t;o<r;o++)n+=e[o].value;return n}}$.getText=tm;function fT(e,t="tokens",r){return{type:t,start:e[0].start,end:e[e.length-1].end,value:tm(e,void 0,void 0,r),tokens:e}}$.groupTokens=fT;function pT(e,t){let r=0,s=e.length;for(let n=0;n<e.length&&t(e[n]);n++)r=n+1;for(let n=e.length-1;n>r&&t(e[n]);n--)s=n;return e.slice(r,s)}$.trimTokens=pT;function dT(e){return e[e.length-1]}$.last=dT});var sm=g(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.Seeker=void 0;var xl=class{constructor(t){this.tokens=t,this.index=-1}next(){return this.index++,this.tokens[this.index]||{type:""}}back(){this.index--}peekBack(){return this.tokens[this.index-1]||{type:""}}peek(t=1){return this.tokens[this.index+t]||{type:""}}take(t){if(this.peek().type===t)return this.next()}eat(t){for(;this.peek().type===t;)this.index++;return this}takeMany(t){let r=[];for(;this.peek().type===t;)r.push(this.next());return r}flatBlock(t,r,s){let n=this.next();if(n.type!==t)return[];let o=[],i;for(;n=this.next();){if(!n.type){i!==void 0&&(this.index=i-1);return}if(s&&s(n)&&(i=this.index),n.type===r)return o;o.push(n)}return[]}done(){return this.index>=this.tokens.length-1}run(t,r,s){let n;for(;(n=this.next())&&n.type&&t(n,r,s,this)!==!1;);return r}};io.Seeker=xl});var ot=g(Xe=>{"use strict";var mT=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),ao=Xe&&Xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mT(t,e,r)};Object.defineProperty(Xe,"__esModule",{value:!0});ao(Zd(),Xe);ao(em(),Xe);ao(rm(),Xe);ao(sm(),Xe)});var nm=g(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.tokenizeSelector=void 0;var zt=ot();function hT(e,t={}){return(0,zt.tokenize)(e,{isDelimiter:yT,isStringDelimiter(s,n){return n!=="\\"&&(0,zt.isStringDelimiter)(s)},isWhitespace:zt.isWhitespace,shouldAddToken:()=>!0,createToken:zt.createToken,getCommentStartType:zt.getMultilineCommentStartType,isCommentEnd:zt.isCommentEnd,getUnclosedComment:zt.getUnclosedComment,offset:t.offset})}lo.tokenizeSelector=hT;var yT=(e,t)=>t!=="\\"&&(e==="["||e==="]"||e==="("||e===")"||e===","||e==="*"||e==="|"||e===":"||e==="."||e==="#"||e===">"||e==="~"||e==="+"||e==="{"||e==="}"||e==="&")});var wl=g(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.trimCombinators=ae.ensureSelector=ae.isNamespacedAst=ae.isNamespacedToken=ae.isCombinatorToken=ae.createCommentAst=ae.createCombinatorAst=ae.createEmptyNth=ae.createEmptySelector=void 0;var om=ot();function im(){return{type:"selector",start:-1,end:-1,before:"",after:"",nodes:[]}}ae.createEmptySelector=im;function gT(){return{type:"nth",start:-1,end:-1,before:"",after:"",nodes:[]}}ae.createEmptyNth=gT;function ST({value:e,type:t,start:r,end:s}){return{type:"combinator",combinator:t,value:t==="space"?e[0]:e,start:r,end:s,before:"",after:t==="space"?e.slice(1):"",invalid:!1}}ae.createCombinatorAst=ST;function vT({value:e,start:t,end:r}){return{type:"comment",value:e,start:t,end:r,before:"",after:""}}ae.createCommentAst=vT;function bT(e){return e.type==="space"||e.type==="+"||e.type===">"||e.type==="~"}ae.isCombinatorToken=bT;function _T(e){return e.type==="*"||e.type==="text"}ae.isNamespacedToken=_T;function AT(e){return e.type==="universal"||e.type==="type"}ae.isNamespacedAst=AT;function CT(e,t){let r=(0,om.last)(e);return r||(r=im(),r.start=t.start,e.push(r)),r}ae.ensureSelector=CT;function ET(e){let t=e.nodes,r=t[0],s=(0,om.last)(t);if(r?.type==="combinator"&&r.combinator==="space"&&(e.nodes.shift(),e.before+=r.before+r.value+r.after),s&&s!==r){let n=t.length-1,o=s,i;for(;o&&(o.type==="comment"||o.type==="combinator"&&o.combinator==="space");)o.type==="combinator"?i?(e.nodes.splice(n,1),i.before+=o.before+o.value+o.after,i.start=o.start):(e.nodes.pop(),e.after+=o.before+o.value+o.after):i=o,o=t[--n]}}ae.trimCombinators=ET});var Rl=g(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.NthParser=void 0;var TT=wl(),am=ot(),Gt=class e{static isNthPseudoClass(t){return t==="nth-child"||t==="nth-last-child"||t==="nth-of-type"||t==="nth-last-of-type"}constructor(t,r){this.selectorNode=t,this.s=r,this.state="step",this.standaloneDash=!1,this.ast=t.nodes}handleToken(t){let r=t.type;if(r==="text"||r==="+")switch(this.state){case"step":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.breakFirstChunk({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"dash":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.pushDash({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"offset":{let s=r==="+"&&this.s.peek().type==="text"?this.s.next():void 0;return this.pushOffset({type:"text",value:t.value+(s?.value||""),start:t.start,end:s?.end||t.end}),!0}case"of":return this.pushOf(t),!1}else if(r==="space"){let s=(0,am.last)(this.ast);return s?(s.after+=t.value,s.end+=t.value.length):this.selectorNode.before+=t.value,!0}else if((0,am.isComment)(r))return this.ast.push((0,TT.createCommentAst)(t)),!0;return this.s.back(),!1}breakFirstChunk(t){let r=t.value,s=r.match(e.oddEvenStep);if(s){let o=!!s[1];this.pushStep(t,o);return}let n=r.match(e.nthStartExp);if(!n)this.pushStep(t);else{let o=n[1],i=n[2];!i&&!o.match(/[nN]+$/)&&o.match(e.validOffset)?this.pushOffset(t):i==="-"?(this.pushStep({type:"text",value:o,start:t.start,end:t.start+o.length}),this.pushDash({type:"text",value:"-",start:t.end-1,end:t.end})):i&&!i.match(/-\d+/)?this.pushStep(t):(this.pushStep({type:"text",value:o,start:t.start,end:t.start+o.length}),i&&this.pushOffset({type:"text",value:i,start:t.end-i.length,end:t.end}))}}pushStep(t,r){let s=t.value,n={type:"nth_step",value:s,before:"",after:"",start:t.start,end:t.end};r=r!==void 0?r:!s.match(e.validStep),r&&(n.invalid=!0),this.state="dash",this.ast.push(n)}pushDash(t){let r=t.value;r==="+"||r==="-"?(this.ast.push({type:"nth_dash",value:t.value,start:t.start,end:t.end,before:"",after:""}),this.standaloneDash=!0,this.state="offset"):this.pushOffset(t)}pushOffset(t){if(t.value==="of")this.pushOf(t);else{let r=t.value,s={type:"nth_offset",value:r,before:"",after:"",start:t.start,end:t.end};(!r.match(e.validOffset)||this.standaloneDash&&r.match(/^[-+]/))&&(s.invalid=!0),this.state="of",this.ast.push(s)}}pushOf(t){let r={type:"nth_of",value:t.value,before:"",after:"",start:t.start,end:t.end};t.value!=="of"&&(r.invalid=!0),this.ast.push(r),this.state="selector"}};uo.NthParser=Gt;Gt.oddEvenStep=/([-+]?)(odd|even)/i;Gt.validStep=/^[-+]?\d*n$/i;Gt.validOffset=/^[-+]?\d+$/;Gt.nthStartExp=/([-+]?\d*[nN]?)(.*)/});var cm=g(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.parseCssSelector=void 0;var xT=nm(),lm=Rl(),re=wl(),le=ot();function wT(e,t={}){return RT(e,(0,xT.tokenizeSelector)(e,t))}co.parseCssSelector=wT;function RT(e,t){return new le.Seeker(t).run(um,[],e)}function um(e,t,r,s){let n,o=(0,re.ensureSelector)(t,e),i=o.nodes;if(e.type==="."){let a=s.takeMany("multi-comment").map(re.createCommentAst),l=s.take("text");i.push({type:"class",value:l?.value??"",start:e.start,end:l?.end??(0,le.last)(a)?.end??e.end,dotComments:a})}else if(e.type===":"){let a=s.takeMany("multi-comment").map(re.createCommentAst),l=s.take(":")||e;if(e===l){let c=s.take("text"),f=c||(0,le.last)(a)||l;i.push({type:"pseudo_class",value:c?.value??"",start:e.start,end:c?.end??f.end,colonComments:a})}else{let c=s.takeMany("multi-comment").map(re.createCommentAst),f=s.take("text"),p=f||(0,le.last)(c)||l;i.push({type:"pseudo_element",value:f?.value??"",start:e.start,end:f?.end??p.end,colonComments:{first:a,second:c}})}}else if(e.type==="["){let a=s.run((u,c)=>(c.push(u),u.type!=="]"),[e],r);(0,le.last)(a)?.type==="]"?i.push({type:"attribute",value:a.length>2?(0,le.getText)(a,1,a.length-1,r):"",start:e.start,end:(0,le.last)(a)?.end??e.end}):i.push({type:"invalid",value:(0,le.getText)(a,void 0,void 0,r),start:e.start,end:(0,le.last)(a)?.end??e.end})}else if((0,re.isCombinatorToken)(e)){let a=(0,re.createCombinatorAst)(e),l=a;i.push(a);let u=a.combinator==="space"?i.length-1:-1,c=s.next();for(;c;){if((0,re.isCombinatorToken)(c))if(c.type==="space")l.after+=c.value,l.end=c.end;else if(l===a&&l.combinator==="space"){let f=(0,re.createCombinatorAst)(c);a.combinator=f.combinator,a.before+=a.after+a.value+f.before,a.after=f.after,a.value=f.value,a.end=f.end,u=-1}else if(u!==-1){let f=i[u],p=f.before+f.value+f.after;if(u===0)o.before+=p;else{let d=i[u+1];d?.type==="comment"&&(d.before+=p,d.start=f.start)}i.splice(u,1),u=-1,a=(0,re.createCombinatorAst)(c),l=a,i.push(a)}else a=(0,re.createCombinatorAst)(c),a.invalid=!0,l=a,i.push(a);else if((0,le.isComment)(c.type))l=(0,re.createCommentAst)(c),i.push(l);else break;c=s.next()}c&&!(0,re.isCombinatorToken)(c)&&s.back()}else if(e.type==="text")i.push({type:"type",value:e.value,start:e.start,end:e.end});else if(e.type==="#")n=s.take("text"),i.push({type:"id",value:n?.value??"",start:e.start,end:n?.end??e.end});else if(e.type==="*")i.push({type:"universal",value:"*",start:e.start,end:e.end});else if(e.type==="|"){let a,l,u=[];for(let T=i.length-1;T>=0;--T){let A=i[T];if((0,re.isNamespacedAst)(A)){A.namespace?l=A:a=A;break}else if(A.type==="comment"&&A.before===""&&A.after==="")u.unshift(A);else{l=A;break}}let c,f=1,p=[];for(;;){let T=s.peek(f);if((0,le.isComment)(T.type))p.push(T);else if((0,re.isNamespacedToken)(T)){c=T;break}else break;f++}let d=!l,m=!!c,S=c?.type==="*"?"universal":"type",h="";d?i.splice(i.length-u.length,u.length):h="namespace",m?(p.forEach(()=>s.next()),s.next()):h=h?"namespace,target":"target";let v=a||{type:S,value:"",start:e.start,end:c?.end||e.end};v.type=S,v.namespace={value:a?.value||"",beforeComments:d?u:[],afterComments:m?p.map(re.createCommentAst):[]},v.value=c?.value||"",v.end=c?.end||e.end,h&&(v.namespace.invalid=h),a||i.push(v)}else if(e.type==="("){let a=(0,le.last)(i),l=[];if(a&&a.type==="pseudo_class"&&lm.NthParser.isNthPseudoClass(a.value)&&s.peek().type!==")"){let c=(0,re.createEmptyNth)();c.start=s.peek().start,l.push(c);let f=new lm.NthParser(c,s);if(s.run(p=>f.state==="selector"?(s.back(),!1):f.handleToken(p),c,r),s.peek().type!==")"){c.end=(0,le.last)(c.nodes)?.end||c.start;let p=(0,re.createEmptySelector)();p.start=c.end,l.push(p)}}s.run((c,f)=>{if(c.type===")"){let p=(0,le.last)(f);return p&&(p.end=(0,le.last)(p.nodes)?.end??p.start),!1}return um(c,f,r,s)},l,r);let u=s.peek(0);if(!a||"nodes"in a||a.type==="invalid"||a.type==="combinator"||a.type==="comment"||a.type==="nth_step"||a.type==="nth_dash"||a.type==="nth_offset"||a.type==="nth_of"||u.type!==")")i.push({type:"invalid",value:(0,le.getText)([e,u],void 0,void 0,r),start:e.start,end:u?.end??s.peekBack().end});else{let c=(0,le.last)(l);c&&(0,re.trimCombinators)(c),a.nodes=l,a.end=u.end}}else if((0,le.isComment)(e.type))i.push((0,re.createCommentAst)(e));else if(e.type===","){let a=(0,le.last)(t);a.end=e.start,(0,re.trimCombinators)(a);let l=(0,re.createEmptySelector)();s.done()?(l.start=e.end,l.end=e.end):l.start=s.peek().start,t.push(l)}else e.type==="&"?i.push({type:"nesting",value:"&",start:e.start,end:e.end}):i.push({type:"invalid",value:e.value,start:e.start,end:e.end});s.done()&&(o.end=(0,le.last)(o.nodes)?.end??o.start,(0,re.trimCombinators)(o))}});var pm=g(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0})});var mm=g(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.stringifySelectorAst=void 0;var NT=Rl();function IT(e){return"length"in e?Il(e):Ze(e)}fo.stringifySelectorAst=IT;var Nl={id:e=>`#${e.value}${Nt(e)}`,class:e=>`.${e.dotComments.map(Ze).join("")}${e.value}${Nt(e)}`,type:e=>`${dm(e)}${e.value}${Nt(e)}`,combinator:e=>`${e.before}${e.value}${e.after}`,attribute:e=>`[${e.value}]${Nt(e)}`,pseudo_class:e=>`:${e.colonComments.map(Ze).join("")}${e.value}${Nt(e)}`,pseudo_element:e=>`:${e.colonComments.first.map(Ze).join("")}:${e.colonComments.second.map(Ze).join("")}${e.value}${Nt(e)}`,comment:({before:e,value:t,after:r})=>`${e}${t}${r}`,universal:e=>`${dm(e)}${e.value}${Nt(e)}`,nesting:e=>`${e.value}${Nt(e)}`,selector:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,compound_selector:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,invalid:e=>e.value,nth:e=>`${e.before}${e.nodes.map(Ze).join("")}${e.after}`,nth_step:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_dash:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_offset:({before:e,value:t,after:r})=>`${e}${t}${r}`,nth_of:({before:e,value:t,after:r})=>`${e}${t}${r}`};function Ze(e){return Nl[e.type]?.(e)??""}function Il(e){let t=[];for(let r of e)t.push(Ze(r));return t.join(",")}function Nt(e){if("nodes"in e)if(e.nodes?.length)if(e.type==="pseudo_class"&&NT.NthParser.isNthPseudoClass(e.value)){let[t,...r]=e.nodes;return`(${Ze(t)}${Il(r)})`}else return`(${Il(e.nodes)})`;else return"()";return""}function dm({namespace:e}){let t="";if(e){t+=e.value;for(let r of e.beforeComments)t+=Nl.comment(r);t+="|";for(let r of e.afterComments)t+=Nl.comment(r)}return t}});var ho=g(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.walk=void 0;var Ol=Symbol("nest-end");function po(e,t,r={}){let s=Array.isArray(e)?[...e]:[e],n=OT(e);for(;s.length;){let o=s.shift();if(o===Ol){n.up();continue}else if((!r.ignoreList||!r.ignoreList.includes(o.type))&&(!r.visitList||r.visitList.includes(o.type))){let i=t(o,n.indexInSelector,n.nodesInSelector,n.parents)??-1;if(n.next(),i===1/0)return;if(i>=0){for(;i>0&&s.length;)s.shift()===Ol&&(i--,n.up());continue}}else n.next();PT(o)&&(n.insertNested(o),s.unshift(...o.nodes,Ol))}}mo.walk=po;function OT(e){let t=[],r=[[]],s={parents:[],indexInSelector:0,nodesInSelector:Array.isArray(e)?e:"nodes"in e?e.nodes:[e],up(){s.parents.pop(),s.indexInSelector=t.shift();let n=s.parents,o=n[n.length-1];s.nodesInSelector=o?o.nodes:e},next(){s.indexInSelector++},insertNested(n){s.parents=[...s.parents,n],r.push(s.parents),t.unshift(s.indexInSelector),s.indexInSelector=0,s.nodesInSelector=n.nodes}};return s}po.skipNested=0;po.skipCurrentSelector=1;po.stopAll=1/0;function PT(e){return e&&"nodes"in e}});var gm=g(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.splitCompoundSelectors=Cr.groupCompoundSelectors=void 0;var hm=ho();function ym(e,t){let r=DT(t);return(0,hm.walk)(e,(s,n,o,i)=>{if(i.length===0&&s.type==="selector")r.addSelector(s);else{if(t?.deep&&"nodes"in s){let a=[];for(let l of s.nodes)a.push(l.type==="selector"?ym(l,t):l);s={...s,nodes:a}}return r.handleNode(s),hm.walk.skipNested}}),"length"in e?r.output:r.output[0]}Cr.groupCompoundSelectors=ym;function DT({splitPseudoElements:e=!0}={}){let t=[],r,s,n,o=i=>{if(i.type==="pseudo_element"&&e===!0&&(s=void 0),i.type==="combinator")r.nodes.push(i),s=void 0;else if(i.type==="comment"&&!MT(i))r.nodes.push(i),s=void 0;else if(i.type==="type"||i.type==="universal"||i.type==="class"||i.type==="id"||i.type==="attribute"||i.type==="nesting"||i.type==="pseudo_class"||i.type==="pseudo_element"||i.type==="invalid"||i.type==="comment")s||(n=void 0,s={type:"compound_selector",start:i.start,end:i.end,before:"",after:"",nodes:[],invalid:!1},r.nodes.push(s)),!s.invalid&&i.type!=="comment"&&(n&&(s.invalid=i.type==="universal"||i.type==="type"),n=i),s.nodes.push(i),s.end=i.end;else if(i.type==="selector"||i.type==="compound_selector")for(let a of i.nodes)o(a);else r.nodes.push(i),s=void 0};return{addSelector(i){r={type:"selector",start:i.start,end:i.end,before:"before"in i?i.before:"",after:"after"in i?i.after:"",nodes:[]},t.push(r),s=void 0},handleNode:o,output:t}}function kT(e){let t=Array.isArray(e)?e:[e],r=[];for(let s of t){let n={...s,nodes:[]};for(let o of s.nodes)o.type==="compound_selector"?n.nodes.push(...o.nodes):n.nodes.push(o);r.push(n)}return"length"in e?r:r[0]}Cr.splitCompoundSelectors=kT;function MT(e){return e.type==="comment"&&e.before===""&&e.after===""}});var _m=g(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.compareSpecificity=Er.calcSpecificity=void 0;var Pl=ho();function vm(e){let t=[0,0,0,0];return(0,Pl.walk)(e,r=>{switch(r.type){case"type":case"pseudo_element":t[3]++;break;case"class":case"attribute":t[2]++;break;case"pseudo_class":if(Sm[r.value])return Sm[r.value](r,t),Pl.walk.skipNested;t[2]++;break;case"id":t[1]++;break}return r.type!=="selector"&&r.type!=="compound_selector"?Pl.walk.skipNested:void 0}),t}Er.calcSpecificity=vm;var Sm={not:go,is:go,has:go,where:()=>{},"nth-child":yo,"nth-last-child":yo,"nth-of-type":yo,"nth-last-of-type":yo};function yo(e,t){t[2]++,go(e,t)}function go(e,t){if(e.nodes?.length){let r=[0,0,0,0];for(let s of e.nodes){let n=vm(s);(!r||bm(n,r)===1)&&(r=n)}LT(t,r)}}function bm(e,t){for(let r=0;r<4;++r){let s=e[r]-t[r];if(s>0)return 1;if(s<0)return-1}return 0}Er.compareSpecificity=bm;function LT(e,t){for(let r=0;r<4;++r)e[r]+=t[r]}});var it=g(ie=>{"use strict";var FT=ie&&ie.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),VT=ie&&ie.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FT(t,e,r)};Object.defineProperty(ie,"__esModule",{value:!0});ie.compareSpecificity=ie.calcSpecificity=ie.splitCompoundSelectors=ie.groupCompoundSelectors=ie.walk=ie.stringifySelectorAst=ie.parseCssSelector=void 0;var UT=cm();Object.defineProperty(ie,"parseCssSelector",{enumerable:!0,get:function(){return UT.parseCssSelector}});VT(pm(),ie);var $T=mm();Object.defineProperty(ie,"stringifySelectorAst",{enumerable:!0,get:function(){return $T.stringifySelectorAst}});var qT=ho();Object.defineProperty(ie,"walk",{enumerable:!0,get:function(){return qT.walk}});var Am=gm();Object.defineProperty(ie,"groupCompoundSelectors",{enumerable:!0,get:function(){return Am.groupCompoundSelectors}});Object.defineProperty(ie,"splitCompoundSelectors",{enumerable:!0,get:function(){return Am.splitCompoundSelectors}});var Cm=_m();Object.defineProperty(ie,"calcSpecificity",{enumerable:!0,get:function(){return Cm.calcSpecificity}});Object.defineProperty(ie,"compareSpecificity",{enumerable:!0,get:function(){return Cm.compareSpecificity}})});var Hl=g((Qs,Tr)=>{var jT=200,Mm="__lodash_hash_undefined__",Lm=9007199254740991,$l="[object Arguments]",BT="[object Array]",Fm="[object Boolean]",Vm="[object Date]",WT="[object Error]",ql="[object Function]",Um="[object GeneratorFunction]",So="[object Map]",$m="[object Number]",jl="[object Object]",Em="[object Promise]",qm="[object RegExp]",vo="[object Set]",jm="[object String]",Bm="[object Symbol]",kl="[object WeakMap]",Wm="[object ArrayBuffer]",bo="[object DataView]",zm="[object Float32Array]",Gm="[object Float64Array]",Hm="[object Int8Array]",Qm="[object Int16Array]",Km="[object Int32Array]",Ym="[object Uint8Array]",Jm="[object Uint8ClampedArray]",Xm="[object Uint16Array]",Zm="[object Uint32Array]",zT=/[\\^$.*+?()[\]{}|]/g,GT=/\w*$/,HT=/^\[object .+?Constructor\]$/,QT=/^(?:0|[1-9]\d*)$/,G={};G[$l]=G[BT]=G[Wm]=G[bo]=G[Fm]=G[Vm]=G[zm]=G[Gm]=G[Hm]=G[Qm]=G[Km]=G[So]=G[$m]=G[jl]=G[qm]=G[vo]=G[jm]=G[Bm]=G[Ym]=G[Jm]=G[Xm]=G[Zm]=!0;G[WT]=G[ql]=G[kl]=!1;var KT=typeof global=="object"&&global&&global.Object===Object&&global,YT=typeof self=="object"&&self&&self.Object===Object&&self,at=KT||YT||Function("return this")(),eh=typeof Qs=="object"&&Qs&&!Qs.nodeType&&Qs,Tm=eh&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,JT=Tm&&Tm.exports===eh;function XT(e,t){return e.set(t[0],t[1]),e}function ZT(e,t){return e.add(t),e}function ex(e,t){for(var r=-1,s=e?e.length:0;++r<s&&t(e[r],r,e)!==!1;);return e}function tx(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e}function th(e,t,r,s){var n=-1,o=e?e.length:0;for(s&&o&&(r=e[++n]);++n<o;)r=t(r,e[n],n,e);return r}function rx(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function sx(e,t){return e?.[t]}function rh(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function xm(e){var t=-1,r=Array(e.size);return e.forEach(function(s,n){r[++t]=[n,s]}),r}function Bl(e,t){return function(r){return e(t(r))}}function wm(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var nx=Array.prototype,ox=Function.prototype,_o=Object.prototype,Dl=at["__core-js_shared__"],Rm=function(){var e=/[^.]+$/.exec(Dl&&Dl.keys&&Dl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),sh=ox.toString,It=_o.hasOwnProperty,Ao=_o.toString,ix=RegExp("^"+sh.call(It).replace(zT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nm=JT?at.Buffer:void 0,Im=at.Symbol,Om=at.Uint8Array,ax=Bl(Object.getPrototypeOf,Object),lx=Object.create,ux=_o.propertyIsEnumerable,cx=nx.splice,Pm=Object.getOwnPropertySymbols,fx=Nm?Nm.isBuffer:void 0,px=Bl(Object.keys,Object),Ml=Rr(at,"DataView"),Ks=Rr(at,"Map"),Ll=Rr(at,"Promise"),Fl=Rr(at,"Set"),Vl=Rr(at,"WeakMap"),Ys=Rr(Object,"create"),dx=Kt(Ml),mx=Kt(Ks),hx=Kt(Ll),yx=Kt(Fl),gx=Kt(Vl),Dm=Im?Im.prototype:void 0,km=Dm?Dm.valueOf:void 0;function Qt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Sx(){this.__data__=Ys?Ys(null):{}}function vx(e){return this.has(e)&&delete this.__data__[e]}function bx(e){var t=this.__data__;if(Ys){var r=t[e];return r===Mm?void 0:r}return It.call(t,e)?t[e]:void 0}function _x(e){var t=this.__data__;return Ys?t[e]!==void 0:It.call(t,e)}function Ax(e,t){var r=this.__data__;return r[e]=Ys&&t===void 0?Mm:t,this}Qt.prototype.clear=Sx;Qt.prototype.delete=vx;Qt.prototype.get=bx;Qt.prototype.has=_x;Qt.prototype.set=Ax;function lt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Cx(){this.__data__=[]}function Ex(e){var t=this.__data__,r=Co(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():cx.call(t,r,1),!0}function Tx(e){var t=this.__data__,r=Co(t,e);return r<0?void 0:t[r][1]}function xx(e){return Co(this.__data__,e)>-1}function wx(e,t){var r=this.__data__,s=Co(r,e);return s<0?r.push([e,t]):r[s][1]=t,this}lt.prototype.clear=Cx;lt.prototype.delete=Ex;lt.prototype.get=Tx;lt.prototype.has=xx;lt.prototype.set=wx;function xr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Rx(){this.__data__={hash:new Qt,map:new(Ks||lt),string:new Qt}}function Nx(e){return Eo(this,e).delete(e)}function Ix(e){return Eo(this,e).get(e)}function Ox(e){return Eo(this,e).has(e)}function Px(e,t){return Eo(this,e).set(e,t),this}xr.prototype.clear=Rx;xr.prototype.delete=Nx;xr.prototype.get=Ix;xr.prototype.has=Ox;xr.prototype.set=Px;function wr(e){this.__data__=new lt(e)}function Dx(){this.__data__=new lt}function kx(e){return this.__data__.delete(e)}function Mx(e){return this.__data__.get(e)}function Lx(e){return this.__data__.has(e)}function Fx(e,t){var r=this.__data__;if(r instanceof lt){var s=r.__data__;if(!Ks||s.length<jT-1)return s.push([e,t]),this;r=this.__data__=new xr(s)}return r.set(e,t),this}wr.prototype.clear=Dx;wr.prototype.delete=kx;wr.prototype.get=Mx;wr.prototype.has=Lx;wr.prototype.set=Fx;function Vx(e,t){var r=zl(e)||lw(e)?rx(e.length,String):[],s=r.length,n=!!s;for(var o in e)(t||It.call(e,o))&&!(n&&(o=="length"||nw(o,s)))&&r.push(o);return r}function nh(e,t,r){var s=e[t];(!(It.call(e,t)&&lh(s,r))||r===void 0&&!(t in e))&&(e[t]=r)}function Co(e,t){for(var r=e.length;r--;)if(lh(e[r][0],t))return r;return-1}function Ux(e,t){return e&&oh(t,Gl(t),e)}function Ul(e,t,r,s,n,o,i){var a;if(s&&(a=o?s(e,n,o,i):s(e)),a!==void 0)return a;if(!To(e))return e;var l=zl(e);if(l){if(a=tw(e),!t)return Xx(e,a)}else{var u=Ht(e),c=u==ql||u==Um;if(cw(e))return zx(e,t);if(u==jl||u==$l||c&&!o){if(rh(e))return o?e:{};if(a=rw(c?{}:e),!t)return Zx(e,Ux(a,e))}else{if(!G[u])return o?e:{};a=sw(e,u,Ul,t)}}i||(i=new wr);var f=i.get(e);if(f)return f;if(i.set(e,a),!l)var p=r?ew(e):Gl(e);return ex(p||e,function(d,m){p&&(m=d,d=e[m]),nh(a,m,Ul(d,t,r,s,m,e,i))}),a}function $x(e){return To(e)?lx(e):{}}function qx(e,t,r){var s=t(e);return zl(e)?s:tx(s,r(e))}function jx(e){return Ao.call(e)}function Bx(e){if(!To(e)||iw(e))return!1;var t=ch(e)||rh(e)?ix:HT;return t.test(Kt(e))}function Wx(e){if(!ah(e))return px(e);var t=[];for(var r in Object(e))It.call(e,r)&&r!="constructor"&&t.push(r);return t}function zx(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Wl(e){var t=new e.constructor(e.byteLength);return new Om(t).set(new Om(e)),t}function Gx(e,t){var r=t?Wl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Hx(e,t,r){var s=t?r(xm(e),!0):xm(e);return th(s,XT,new e.constructor)}function Qx(e){var t=new e.constructor(e.source,GT.exec(e));return t.lastIndex=e.lastIndex,t}function Kx(e,t,r){var s=t?r(wm(e),!0):wm(e);return th(s,ZT,new e.constructor)}function Yx(e){return km?Object(km.call(e)):{}}function Jx(e,t){var r=t?Wl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Xx(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function oh(e,t,r,s){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n],a=s?s(r[i],e[i],i,r,e):void 0;nh(r,i,a===void 0?e[i]:a)}return r}function Zx(e,t){return oh(e,ih(e),t)}function ew(e){return qx(e,Gl,ih)}function Eo(e,t){var r=e.__data__;return ow(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Rr(e,t){var r=sx(e,t);return Bx(r)?r:void 0}var ih=Pm?Bl(Pm,Object):dw,Ht=jx;(Ml&&Ht(new Ml(new ArrayBuffer(1)))!=bo||Ks&&Ht(new Ks)!=So||Ll&&Ht(Ll.resolve())!=Em||Fl&&Ht(new Fl)!=vo||Vl&&Ht(new Vl)!=kl)&&(Ht=function(e){var t=Ao.call(e),r=t==jl?e.constructor:void 0,s=r?Kt(r):void 0;if(s)switch(s){case dx:return bo;case mx:return So;case hx:return Em;case yx:return vo;case gx:return kl}return t});function tw(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&It.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function rw(e){return typeof e.constructor=="function"&&!ah(e)?$x(ax(e)):{}}function sw(e,t,r,s){var n=e.constructor;switch(t){case Wm:return Wl(e);case Fm:case Vm:return new n(+e);case bo:return Gx(e,s);case zm:case Gm:case Hm:case Qm:case Km:case Ym:case Jm:case Xm:case Zm:return Jx(e,s);case So:return Hx(e,s,r);case $m:case jm:return new n(e);case qm:return Qx(e);case vo:return Kx(e,s,r);case Bm:return Yx(e)}}function nw(e,t){return t=t??Lm,!!t&&(typeof e=="number"||QT.test(e))&&e>-1&&e%1==0&&e<t}function ow(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function iw(e){return!!Rm&&Rm in e}function ah(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_o;return e===r}function Kt(e){if(e!=null){try{return sh.call(e)}catch{}try{return e+""}catch{}}return""}function aw(e){return Ul(e,!0,!0)}function lh(e,t){return e===t||e!==e&&t!==t}function lw(e){return uw(e)&&It.call(e,"callee")&&(!ux.call(e,"callee")||Ao.call(e)==$l)}var zl=Array.isArray;function uh(e){return e!=null&&fw(e.length)&&!ch(e)}function uw(e){return pw(e)&&uh(e)}var cw=fx||mw;function ch(e){var t=To(e)?Ao.call(e):"";return t==ql||t==Um}function fw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lm}function To(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function pw(e){return!!e&&typeof e=="object"}function Gl(e){return uh(e)?Vx(e):Wx(e)}function dw(){return[]}function mw(){return!1}Tr.exports=aw});var wh=g(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.parseImports=void 0;var ct=ot();function Rw(e,t="{",r="}",s=!1,n=!1){return Ow((0,ct.tokenize)(e,{isDelimiter:Nw,isStringDelimiter:ct.isStringDelimiter,isWhitespace:ct.isWhitespace,shouldAddToken:Iw,createToken:ct.createToken,getCommentStartType:ct.getJSCommentStartType,isCommentEnd:ct.isCommentEnd,getUnclosedComment:ct.getUnclosedComment}),t,r,s,n)}Do.parseImports=Rw;var Nw=e=>e===";"||e==="("||e===")"||e===","||e==="{"||e==="}"||e===":"||e==="*"||e==="["||e==="]",Iw=e=>!(e==="space"||(0,ct.isComment)(e)),xh=e=>e.value==="from"||e.type===";";function Ow(e,t,r,s=!1,n=!1){let o=[],i=new ct.Seeker(e),a,l;for(;(a=i.next())&&a.type;)if(a.value==="import"){let u=i.index,c=[],f,p=!1,d,m={},S;if(l=i.next(),l.type==="string")S=l.value.slice(1,-1);else{if(l.type==="text"?l.value==="from"?(i.back(),c.push("missing name")):f=l.value:l.type==="*"?(p=!0,i.peek().value==="as"?(i.next(),l=i.peek(),l.type==="text"&&l.value!=="from"?(i.next(),f=l.value):c.push("missing as name")):c.push("expected as after *")):l.type===","&&c.push("missing default name"),l.type===t){p&&c.push("Invalid named after *"),i.back();let h=i.flatBlock(t,r,xh);if(h){let v=Xl(h,c,s);d=v.named,m=v.tagged}else c.push("unclosed block")}else{l=i.peek();let h=!1;if(l.type===","&&(h=!0,i.next(),l=i.peek()),l.type===t){f&&!h&&c.push("missing comma after name"),p&&c.push("Invalid named after *");let v=i.flatBlock(t,r,xh);if(v){let T=Xl(v,c,s);d=T.named,m=T.tagged}else c.push("unclosed block")}else h&&c.push("missing named block")}l=i.next(),l.value!=="from"&&(i.back(),c.push("invalid missing from")),l=i.next(),l.type==="string"?S=l.value.slice(1,-1):(i.back(),c.push("invalid missing source"))}l=i.peek(),n&&l.type!==";"&&!i.done()?c.push("missing semicolon"):l.type===";"&&i.next(),o.push({star:p,defaultName:f,named:d,tagged:m,from:S,errors:c,start:i.tokens[u].start,end:i.tokens[i.index].end})}return o}function Xl(e,t,r){var s;let n=[],o={},i=[];for(let l=0;l<e.length;l++){let u=e[l];if(((s=e[l+1])===null||s===void 0?void 0:s.type)==="("&&r){let c=[],f=e[l],p;for(let d=l+2;d<e.length;d++){if(l=d,e[d].type===")"){p=!0;break}c.push(e[d])}o[f.value]=Xl(c,t,!1).named,f.type!=="text"&&t.push(`invalid tag name: ${f.value}`),p||t.push(`unclosed tagged import "${f.value}"`)}else u.type===","?a():i.push(u)}return i.length&&a(),{named:n,tagged:o};function a(){if(i.length===1){let l=i[0].value;n.push([l,l])}else i.length===3&&i[1].value==="as"&&n.push([i[0].value,i[2].value]);i.length=0}}});var Ih=g((zk,Nh)=>{var Zl="(".charCodeAt(0),eu=")".charCodeAt(0),ko="'".charCodeAt(0),tu='"'.charCodeAt(0),ru="\\".charCodeAt(0),Dr="/".charCodeAt(0),su=",".charCodeAt(0),nu=":".charCodeAt(0),Mo="*".charCodeAt(0),Dw="u".charCodeAt(0),kw="U".charCodeAt(0),Mw="+".charCodeAt(0),Lw=/^[a-f0-9?-]+$/i;Nh.exports=function(e){for(var t=[],r=e,s,n,o,i,a,l,u,c,f=0,p=r.charCodeAt(f),d=r.length,m=[{nodes:t}],S=0,h,v="",T="",A="";f<d;)if(p<=32){s=f;do s+=1,p=r.charCodeAt(s);while(p<=32);i=r.slice(f,s),o=t[t.length-1],p===eu&&S?A=i:o&&o.type==="div"?(o.after=i,o.sourceEndIndex+=i.length):p===su||p===nu||p===Dr&&r.charCodeAt(s+1)!==Mo&&(!h||h&&h.type==="function"&&h.value!=="calc")?T=i:t.push({type:"space",sourceIndex:f,sourceEndIndex:s,value:i}),f=s}else if(p===ko||p===tu){s=f,n=p===ko?"'":'"',i={type:"string",sourceIndex:f,quote:n};do if(a=!1,s=r.indexOf(n,s+1),~s)for(l=s;r.charCodeAt(l-1)===ru;)l-=1,a=!a;else r+=n,s=r.length-1,i.unclosed=!0;while(a);i.value=r.slice(f+1,s),i.sourceEndIndex=i.unclosed?s:s+1,t.push(i),f=s+1,p=r.charCodeAt(f)}else if(p===Dr&&r.charCodeAt(f+1)===Mo)s=r.indexOf("*/",f),i={type:"comment",sourceIndex:f,sourceEndIndex:s+2},s===-1&&(i.unclosed=!0,s=r.length,i.sourceEndIndex=s),i.value=r.slice(f+2,s),t.push(i),f=s+2,p=r.charCodeAt(f);else if((p===Dr||p===Mo)&&h&&h.type==="function"&&h.value==="calc")i=r[f],t.push({type:"word",sourceIndex:f-T.length,sourceEndIndex:f+i.length,value:i}),f+=1,p=r.charCodeAt(f);else if(p===Dr||p===su||p===nu)i=r[f],t.push({type:"div",sourceIndex:f-T.length,sourceEndIndex:f+i.length,value:i,before:T,after:""}),T="",f+=1,p=r.charCodeAt(f);else if(Zl===p){s=f;do s+=1,p=r.charCodeAt(s);while(p<=32);if(c=f,i={type:"function",sourceIndex:f-v.length,value:v,before:r.slice(c+1,s)},f=s,v==="url"&&p!==ko&&p!==tu){s-=1;do if(a=!1,s=r.indexOf(")",s+1),~s)for(l=s;r.charCodeAt(l-1)===ru;)l-=1,a=!a;else r+=")",s=r.length-1,i.unclosed=!0;while(a);u=s;do u-=1,p=r.charCodeAt(u);while(p<=32);c<u?(f!==u+1?i.nodes=[{type:"word",sourceIndex:f,sourceEndIndex:u+1,value:r.slice(f,u+1)}]:i.nodes=[],i.unclosed&&u+1!==s?(i.after="",i.nodes.push({type:"space",sourceIndex:u+1,sourceEndIndex:s,value:r.slice(u+1,s)})):(i.after=r.slice(u+1,s),i.sourceEndIndex=s)):(i.after="",i.nodes=[]),f=s+1,i.sourceEndIndex=i.unclosed?s:f,p=r.charCodeAt(f),t.push(i)}else S+=1,i.after="",i.sourceEndIndex=f+1,t.push(i),m.push(i),t=i.nodes=[],h=i;v=""}else if(eu===p&&S)f+=1,p=r.charCodeAt(f),h.after=A,h.sourceEndIndex+=A.length,A="",S-=1,m[m.length-1].sourceEndIndex=f,m.pop(),h=m[S],t=h.nodes;else{s=f;do p===ru&&(s+=1),s+=1,p=r.charCodeAt(s);while(s<d&&!(p<=32||p===ko||p===tu||p===su||p===nu||p===Dr||p===Zl||p===Mo&&h&&h.type==="function"&&h.value==="calc"||p===Dr&&h.type==="function"&&h.value==="calc"||p===eu&&S));i=r.slice(f,s),Zl===p?v=i:(Dw===i.charCodeAt(0)||kw===i.charCodeAt(0))&&Mw===i.charCodeAt(1)&&Lw.test(i.slice(2))?t.push({type:"unicode-range",sourceIndex:f,sourceEndIndex:s,value:i}):t.push({type:"word",sourceIndex:f,sourceEndIndex:s,value:i}),f=s}for(f=m.length-1;f;f-=1)m[f].unclosed=!0,m[f].sourceEndIndex=r.length;return m[0].nodes}});var Ph=g((Gk,Oh)=>{Oh.exports=function e(t,r,s){var n,o,i,a;for(n=0,o=t.length;n<o;n+=1)i=t[n],s||(a=r(i,n,t)),a!==!1&&i.type==="function"&&Array.isArray(i.nodes)&&e(i.nodes,r,s),s&&r(i,n,t)}});var Lh=g((Hk,Mh)=>{function Dh(e,t){var r=e.type,s=e.value,n,o;return t&&(o=t(e))!==void 0?o:r==="word"||r==="space"?s:r==="string"?(n=e.quote||"",n+s+(e.unclosed?"":n)):r==="comment"?"/*"+s+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+s+(e.after||""):Array.isArray(e.nodes)?(n=kh(e.nodes,t),r!=="function"?n:s+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):s}function kh(e,t){var r,s;if(Array.isArray(e)){for(r="",s=e.length-1;~s;s-=1)r=Dh(e[s],t)+r;return r}return Dh(e,t)}Mh.exports=kh});var Vh=g((Qk,Fh)=>{var Lo="-".charCodeAt(0),Fo="+".charCodeAt(0),ou=".".charCodeAt(0),Fw="e".charCodeAt(0),Vw="E".charCodeAt(0);function Uw(e){var t=e.charCodeAt(0),r;if(t===Fo||t===Lo){if(r=e.charCodeAt(1),r>=48&&r<=57)return!0;var s=e.charCodeAt(2);return r===ou&&s>=48&&s<=57}return t===ou?(r=e.charCodeAt(1),r>=48&&r<=57):t>=48&&t<=57}Fh.exports=function(e){var t=0,r=e.length,s,n,o;if(r===0||!Uw(e))return!1;for(s=e.charCodeAt(t),(s===Fo||s===Lo)&&t++;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;if(s=e.charCodeAt(t),n=e.charCodeAt(t+1),s===ou&&n>=48&&n<=57)for(t+=2;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;if(s=e.charCodeAt(t),n=e.charCodeAt(t+1),o=e.charCodeAt(t+2),(s===Fw||s===Vw)&&(n>=48&&n<=57||(n===Fo||n===Lo)&&o>=48&&o<=57))for(t+=n===Fo||n===Lo?3:2;t<r&&(s=e.charCodeAt(t),!(s<48||s>57));)t+=1;return{number:e.slice(0,t),unit:e.slice(t)}}});var Ae=g((Kk,qh)=>{var $w=Ih(),Uh=Ph(),$h=Lh();function Pt(e){return this instanceof Pt?(this.nodes=$w(e),this):new Pt(e)}Pt.prototype.toString=function(){return Array.isArray(this.nodes)?$h(this.nodes):""};Pt.prototype.walk=function(e,t){return Uh(this.nodes,e,t),this};Pt.unit=Vh();Pt.walk=Uh;Pt.stringify=$h;qh.exports=Pt});var Hy=g((sn,Lr)=>{var uR=200,gy="__lodash_hash_undefined__",Sy=9007199254740991,_u="[object Arguments]",cR="[object Array]",vy="[object Boolean]",by="[object Date]",fR="[object Error]",Au="[object Function]",_y="[object GeneratorFunction]",zo="[object Map]",Ay="[object Number]",Cu="[object Object]",iy="[object Promise]",Cy="[object RegExp]",Go="[object Set]",Ey="[object String]",Ty="[object Symbol]",hu="[object WeakMap]",xy="[object ArrayBuffer]",Ho="[object DataView]",wy="[object Float32Array]",Ry="[object Float64Array]",Ny="[object Int8Array]",Iy="[object Int16Array]",Oy="[object Int32Array]",Py="[object Uint8Array]",Dy="[object Uint8ClampedArray]",ky="[object Uint16Array]",My="[object Uint32Array]",pR=/[\\^$.*+?()[\]{}|]/g,dR=/\w*$/,mR=/^\[object .+?Constructor\]$/,hR=/^(?:0|[1-9]\d*)$/,H={};H[_u]=H[cR]=H[xy]=H[Ho]=H[vy]=H[by]=H[wy]=H[Ry]=H[Ny]=H[Iy]=H[Oy]=H[zo]=H[Ay]=H[Cu]=H[Cy]=H[Go]=H[Ey]=H[Ty]=H[Py]=H[Dy]=H[ky]=H[My]=!0;H[fR]=H[Au]=H[hu]=!1;var yR=typeof global=="object"&&global&&global.Object===Object&&global,gR=typeof self=="object"&&self&&self.Object===Object&&self,pt=yR||gR||Function("return this")(),Ly=typeof sn=="object"&&sn&&!sn.nodeType&&sn,ay=Ly&&typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,SR=ay&&ay.exports===Ly;function vR(e,t){return e.set(t[0],t[1]),e}function bR(e,t){return e.add(t),e}function _R(e,t){for(var r=-1,s=e?e.length:0;++r<s&&t(e[r],r,e)!==!1;);return e}function AR(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e}function Fy(e,t,r,s){var n=-1,o=e?e.length:0;for(s&&o&&(r=e[++n]);++n<o;)r=t(r,e[n],n,e);return r}function CR(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function ER(e,t){return e?.[t]}function Vy(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function ly(e){var t=-1,r=Array(e.size);return e.forEach(function(s,n){r[++t]=[n,s]}),r}function Eu(e,t){return function(r){return e(t(r))}}function uy(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var TR=Array.prototype,xR=Function.prototype,Qo=Object.prototype,mu=pt["__core-js_shared__"],cy=function(){var e=/[^.]+$/.exec(mu&&mu.keys&&mu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Uy=xR.toString,kt=Qo.hasOwnProperty,Ko=Qo.toString,wR=RegExp("^"+Uy.call(kt).replace(pR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fy=SR?pt.Buffer:void 0,py=pt.Symbol,dy=pt.Uint8Array,RR=Eu(Object.getPrototypeOf,Object),NR=Object.create,IR=Qo.propertyIsEnumerable,OR=TR.splice,my=Object.getOwnPropertySymbols,PR=fy?fy.isBuffer:void 0,DR=Eu(Object.keys,Object),yu=Ur(pt,"DataView"),nn=Ur(pt,"Map"),gu=Ur(pt,"Promise"),Su=Ur(pt,"Set"),vu=Ur(pt,"WeakMap"),on=Ur(Object,"create"),kR=tr(yu),MR=tr(nn),LR=tr(gu),FR=tr(Su),VR=tr(vu),hy=py?py.prototype:void 0,yy=hy?hy.valueOf:void 0;function er(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function UR(){this.__data__=on?on(null):{}}function $R(e){return this.has(e)&&delete this.__data__[e]}function qR(e){var t=this.__data__;if(on){var r=t[e];return r===gy?void 0:r}return kt.call(t,e)?t[e]:void 0}function jR(e){var t=this.__data__;return on?t[e]!==void 0:kt.call(t,e)}function BR(e,t){var r=this.__data__;return r[e]=on&&t===void 0?gy:t,this}er.prototype.clear=UR;er.prototype.delete=$R;er.prototype.get=qR;er.prototype.has=jR;er.prototype.set=BR;function dt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function WR(){this.__data__=[]}function zR(e){var t=this.__data__,r=Yo(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():OR.call(t,r,1),!0}function GR(e){var t=this.__data__,r=Yo(t,e);return r<0?void 0:t[r][1]}function HR(e){return Yo(this.__data__,e)>-1}function QR(e,t){var r=this.__data__,s=Yo(r,e);return s<0?r.push([e,t]):r[s][1]=t,this}dt.prototype.clear=WR;dt.prototype.delete=zR;dt.prototype.get=GR;dt.prototype.has=HR;dt.prototype.set=QR;function Fr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function KR(){this.__data__={hash:new er,map:new(nn||dt),string:new er}}function YR(e){return Jo(this,e).delete(e)}function JR(e){return Jo(this,e).get(e)}function XR(e){return Jo(this,e).has(e)}function ZR(e,t){return Jo(this,e).set(e,t),this}Fr.prototype.clear=KR;Fr.prototype.delete=YR;Fr.prototype.get=JR;Fr.prototype.has=XR;Fr.prototype.set=ZR;function Vr(e){this.__data__=new dt(e)}function eN(){this.__data__=new dt}function tN(e){return this.__data__.delete(e)}function rN(e){return this.__data__.get(e)}function sN(e){return this.__data__.has(e)}function nN(e,t){var r=this.__data__;if(r instanceof dt){var s=r.__data__;if(!nn||s.length<uR-1)return s.push([e,t]),this;r=this.__data__=new Fr(s)}return r.set(e,t),this}Vr.prototype.clear=eN;Vr.prototype.delete=tN;Vr.prototype.get=rN;Vr.prototype.has=sN;Vr.prototype.set=nN;function oN(e,t){var r=xu(e)||NN(e)?CR(e.length,String):[],s=r.length,n=!!s;for(var o in e)(t||kt.call(e,o))&&!(n&&(o=="length"||TN(o,s)))&&r.push(o);return r}function $y(e,t,r){var s=e[t];(!(kt.call(e,t)&&Wy(s,r))||r===void 0&&!(t in e))&&(e[t]=r)}function Yo(e,t){for(var r=e.length;r--;)if(Wy(e[r][0],t))return r;return-1}function iN(e,t){return e&&qy(t,wu(t),e)}function bu(e,t,r,s,n,o,i){var a;if(s&&(a=o?s(e,n,o,i):s(e)),a!==void 0)return a;if(!Xo(e))return e;var l=xu(e);if(l){if(a=AN(e),!t)return vN(e,a)}else{var u=Zt(e),c=u==Au||u==_y;if(ON(e))return pN(e,t);if(u==Cu||u==_u||c&&!o){if(Vy(e))return o?e:{};if(a=CN(c?{}:e),!t)return bN(e,iN(a,e))}else{if(!H[u])return o?e:{};a=EN(e,u,bu,t)}}i||(i=new Vr);var f=i.get(e);if(f)return f;if(i.set(e,a),!l)var p=r?_N(e):wu(e);return _R(p||e,function(d,m){p&&(m=d,d=e[m]),$y(a,m,bu(d,t,r,s,m,e,i))}),a}function aN(e){return Xo(e)?NR(e):{}}function lN(e,t,r){var s=t(e);return xu(e)?s:AR(s,r(e))}function uN(e){return Ko.call(e)}function cN(e){if(!Xo(e)||wN(e))return!1;var t=Gy(e)||Vy(e)?wR:mR;return t.test(tr(e))}function fN(e){if(!By(e))return DR(e);var t=[];for(var r in Object(e))kt.call(e,r)&&r!="constructor"&&t.push(r);return t}function pN(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Tu(e){var t=new e.constructor(e.byteLength);return new dy(t).set(new dy(e)),t}function dN(e,t){var r=t?Tu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function mN(e,t,r){var s=t?r(ly(e),!0):ly(e);return Fy(s,vR,new e.constructor)}function hN(e){var t=new e.constructor(e.source,dR.exec(e));return t.lastIndex=e.lastIndex,t}function yN(e,t,r){var s=t?r(uy(e),!0):uy(e);return Fy(s,bR,new e.constructor)}function gN(e){return yy?Object(yy.call(e)):{}}function SN(e,t){var r=t?Tu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vN(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function qy(e,t,r,s){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n],a=s?s(r[i],e[i],i,r,e):void 0;$y(r,i,a===void 0?e[i]:a)}return r}function bN(e,t){return qy(e,jy(e),t)}function _N(e){return lN(e,wu,jy)}function Jo(e,t){var r=e.__data__;return xN(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ur(e,t){var r=ER(e,t);return cN(r)?r:void 0}var jy=my?Eu(my,Object):kN,Zt=uN;(yu&&Zt(new yu(new ArrayBuffer(1)))!=Ho||nn&&Zt(new nn)!=zo||gu&&Zt(gu.resolve())!=iy||Su&&Zt(new Su)!=Go||vu&&Zt(new vu)!=hu)&&(Zt=function(e){var t=Ko.call(e),r=t==Cu?e.constructor:void 0,s=r?tr(r):void 0;if(s)switch(s){case kR:return Ho;case MR:return zo;case LR:return iy;case FR:return Go;case VR:return hu}return t});function AN(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&kt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function CN(e){return typeof e.constructor=="function"&&!By(e)?aN(RR(e)):{}}function EN(e,t,r,s){var n=e.constructor;switch(t){case xy:return Tu(e);case vy:case by:return new n(+e);case Ho:return dN(e,s);case wy:case Ry:case Ny:case Iy:case Oy:case Py:case Dy:case ky:case My:return SN(e,s);case zo:return mN(e,s,r);case Ay:case Ey:return new n(e);case Cy:return hN(e);case Go:return yN(e,s,r);case Ty:return gN(e)}}function TN(e,t){return t=t??Sy,!!t&&(typeof e=="number"||hR.test(e))&&e>-1&&e%1==0&&e<t}function xN(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wN(e){return!!cy&&cy in e}function By(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qo;return e===r}function tr(e){if(e!=null){try{return Uy.call(e)}catch{}try{return e+""}catch{}}return""}function RN(e,t){return bu(e,!0,!0,t)}function Wy(e,t){return e===t||e!==e&&t!==t}function NN(e){return IN(e)&&kt.call(e,"callee")&&(!IR.call(e,"callee")||Ko.call(e)==_u)}var xu=Array.isArray;function zy(e){return e!=null&&PN(e.length)&&!Gy(e)}function IN(e){return DN(e)&&zy(e)}var ON=PR||MN;function Gy(e){var t=Xo(e)?Ko.call(e):"";return t==Au||t==_y}function PN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Sy}function Xo(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function DN(e){return!!e&&typeof e=="object"}function wu(e){return zy(e)?oN(e):fN(e)}function kN(){return[]}function MN(){return!1}Lr.exports=RN});var ku=g((t1,sg)=>{function $N(){}function qN(e){return function(){return e}}function Br(e){this.states=this.compileStates(e)}Br.prototype.compileStates=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=this.compileState(e[r],e)},this),t};Br.prototype.compileState=function(e,t){var r=[];function s(l,u){r.push({groups:Br.getGroupCount(l),regExp:l,value:u})}function n(l){if(Array.isArray(l))l.forEach(n);else if(typeof l=="object")Object.keys(l).forEach(function(u){s(u,l[u])});else if(typeof l=="string")n(t[l]);else throw new Error("Unexpected 'state' format")}n(e);var o=r.map(function(l){return"("+l.regExp+")"}).join("|"),i=[],a=1;return r.forEach(function(l){var u;typeof l.value=="function"?u=l.value:typeof l.value=="string"?u=qN(l.value):u=$N,i.push({name:l.regExp,fn:u,pos:a,pos2:a+l.groups+1}),a+=l.groups+1}),{regExp:new RegExp(o,"g"),actions:i}};Br.getGroupCount=function(e){return new RegExp("("+e+")|^$").exec("").length-2};Br.prototype.parse=function(e,t,r){r=r||{};for(var s=e,n=0;;){var o=this.states[s],i=o.regExp;i.lastIndex=n;var a=i.exec(t);if(!a)return r;var l=o.actions;n=o.regExp.lastIndex;for(var u=0;u<l.length;u++){var c=l[u];if(a[c.pos]){var f=c.fn.apply(r,Array.prototype.slice.call(a,c.pos,c.pos2).concat([o.regExp.lastIndex-a[0].length,a[0].length]));if(f){if(!(f in this.states))throw new Error("State '"+f+"' doesn't exist");s=f}break}}}};sg.exports=Br});var Mu=g((r1,ng)=>{ng.exports={typeMatchClass:"\\.((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",typeMatchId:"#((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",identifierEscapeRegexp:"(^[\\0-,\\.-@\\[-\\^`\\{-\\x9F]|^\\x2D\\x2D|[\\0-,\\.\\/:-@\\[-\\^`\\{-\\x9F])"}});var ug=g((s1,lg)=>{"use strict";var jN=ku(),og=Mu();function Wr(e){return e.replace(/\\(.)/g,"$1")}function BN(e,t){this.selector.nodes.push({type:"comment",content:t})}function ni(e){return function(t,r){this.selector.nodes.push({type:e,name:Wr(r)})}}function WN(e,t){var r={type:"pseudo-class",name:Wr(t),content:""};return this.selector.nodes.push(r),this.token=r,this.brackets=1,"inBrackets"}function zN(e,t,r){var s={type:"selector",nodes:[]},n={type:"nested-pseudo-class",name:Wr(t),nodes:[s]};r&&(s.before=r),this.selector.nodes.push(n),this.stack.push(this.root),this.root=n,this.selector=s}function GN(e,t){this.stack.length>0?(t&&(this.selector.after=t),this.root=this.stack.pop(),this.selector=this.root.nodes[this.root.nodes.length-1]):this.selector.nodes.push({type:"invalid",value:e})}function HN(e,t,r,s){var n={type:"operator",operator:r};t&&(n.before=t),s&&(n.after=s),this.selector.nodes.push(n)}function QN(e){this.selector.nodes.push({type:"spacing",value:e})}function ig(e,t,r){var s={type:"element",name:Wr(r)};t&&(s.namespace=Wr(t.substr(0,t.length-1))),this.selector.nodes.push(s)}function ag(e,t){var r={type:"universal"};t&&(r.namespace=Wr(t.substr(0,t.length-1))),this.selector.nodes.push(r)}function KN(e,t){this.selector.nodes.push({type:"attribute",content:t})}function YN(e){this.selector.nodes.push({type:"invalid",value:e})}function JN(e){this.selector.before=e}function XN(e){this.selector.after=e}function ZN(e,t,r){var s={type:"selector",nodes:[]};t&&(this.selector.after=t),r&&(s.before=r),this.root.nodes.push(s),this.selector=s}function un(e){this.token.content+=e}function e0(e){this.token.content+=e,this.brackets++}function t0(e){if(--this.brackets===0)return"selector";this.token.content+=e}function r0(){var e={"/\\*([\\s\\S]*?)\\*/":BN};e[og.typeMatchClass]=ni("class"),e[og.typeMatchId]=ni("id");var t={":(not|any|-\\w+?-any|matches|is|where|has|local|global)\\((\\s*)":zN,":((?:\\\\.|[A-Za-z_\\-0-9])+)\\(":WN,":((?:\\\\.|[A-Za-z_\\-0-9])+)":ni("pseudo-class"),"::((?:\\\\.|[A-Za-z_\\-0-9])+)":ni("pseudo-element"),"(\\*\\|)((?:\\\\.|[A-Za-z_\\-0-9])+)":ig,"(\\*\\|)\\*":ag,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?\\*":ag,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?((?:\\\\.|[A-Za-z_\\-])(?:\\\\.|[A-Za-z_\\-0-9])*)":ig,"\\[([^\\]]+)\\]":KN,"(\\s*)\\)":GN,"(\\s*)((?:\\|\\|)|(?:>>)|[>+~])(\\s*)":HN,"(\\s*),(\\s*)":ZN,"\\s+$":XN,"^\\s+":JN,"\\s+":QN,".":YN},r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var s0=new jN({selector:r0(),inBrackets:{"/\\*[\\s\\S]*?\\*/":un,'"([^\\\\"]|\\\\.)*"':un,"'([^\\\\']|\\\\.)*'":un,"[^()'\"/]+":un,"\\(":e0,"\\)":t0,".":un}});function n0(e){var t={type:"selector",nodes:[]},r={type:"selectors",nodes:[t]};return s0.parse("selector",e,{stack:[],root:r,selector:t}),r}lg.exports=n0});var fg=g((n1,cg)=>{"use strict";var o0=Mu(),i0=new RegExp(o0.identifierEscapeRegexp,"g");function Mt(e,t){return e==="*"?"*":t?e.replace(i0,"\\$1"):e.replace(/(^[^A-Za-z_\\-]|^--|[^A-Za-z_0-9\\-])/g,"\\$1")}function a0(e){switch(e.type){case"selectors":return e.nodes.map(oi).join(",");case"selector":return e.nodes.map(oi).join("");case"element":return(typeof e.namespace=="string"?Mt(e.namespace)+"|":"")+Mt(e.name);case"class":return"."+Mt(e.name,!0);case"id":return"#"+Mt(e.name,!0);case"attribute":return"["+e.content+"]";case"spacing":return e.value;case"pseudo-class":return":"+Mt(e.name)+(typeof e.content=="string"?"("+e.content+")":"");case"nested-pseudo-class":return":"+Mt(e.name)+"("+e.nodes.map(oi).join(",")+")";case"pseudo-element":return"::"+Mt(e.name);case"universal":return(typeof e.namespace=="string"?Mt(e.namespace)+"|":"")+"*";case"operator":return e.operator;case"comment":return"/*"+e.content+"*/";case"invalid":return e.value}}function oi(e){var t=a0(e);return e.before&&(t=e.before+t),e.after&&(t=t+e.after),t}cg.exports=oi});var mg=g((o1,dg)=>{"use strict";var l0=ku();function u0(e,t){this.value.nodes.push({type:"comment",content:t})}function c0(e){var t=this.value.nodes[this.value.nodes.length-1];t.after=(t.after||"")+e}function f0(e){this.value.before=e}function p0(e){this.value.after=e}function ii(e){return e.replace(/\\(?:([a-fA-F0-9]{1,6})|(.))/g,function(t,r,s){if(s)return s;var n=parseInt(r,16);return n<65536?String.fromCharCode(n):String.fromCharCode(Math.floor((n-65536)/1024)+55296)+String.fromCharCode((n-65536)%1024+56320)})}function pg(e,t){var r=ii(t);this.value.nodes.push({type:"string",value:r,stringType:e[0]})}function d0(e,t){var r={type:"value",nodes:[]};t&&(r.before=t),this.root.nodes.push(r),this.value=r}function m0(e){this.value.nodes.push({type:"item",name:e})}function h0(e,t,r){this.stack.push(this.root),this.root={type:"nested-item",name:t,nodes:[{type:"value",nodes:[]}]},r&&(this.root.nodes[0].before=r),this.value.nodes.push(this.root),this.value=this.root.nodes[0]}function y0(e,t,r){if(this.stack.length===0){if(t){var s=this.value.nodes[this.value.nodes.length-1];s.after=(s.after||"")+t}this.value.nodes.push({type:"invalid",value:r})}else t&&(this.value.after=t),this.root=this.stack.pop(),this.value=this.root.nodes[this.root.nodes.length-1]}function Lu(e,t,r,s){var n={type:"url"};switch(t&&(n.innerSpacingBefore=t),s&&(n.innerSpacingAfter=s),r[0]){case'"':n.stringType='"',n.url=ii(r.substr(1,r.length-2));break;case"'":n.stringType="'",n.url=ii(r.substr(1,r.length-2));break;default:n.url=ii(r);break}this.value.nodes.push(n)}var g0=new l0({decl:{"^\\s+":f0,"/\\*([\\s\\S]*?)\\*/":u0,'"((?:[^\\\\"]|\\\\.)*)"':pg,"'((?:[^\\\\']|\\\\.)*)'":pg,'url\\((\\s*)("(?:[^\\\\"]|\\\\.)*")(\\s*)\\)':Lu,"url\\((\\s*)('(?:[^\\\\']|\\\\.)*')(\\s*)\\)":Lu,"url\\((\\s*)((?:[^\\\\)'\"]|\\\\.)*)(\\s*)\\)":Lu,"([\\w-]+)\\((\\s*)":h0,"(\\s*)(\\))":y0,",(\\s*)":d0,"\\s+$":p0,"\\s+":c0,"[^\\s,)]+":m0}});function S0(e){var t={type:"value",nodes:[]},r={type:"values",nodes:[t]};return g0.parse("decl",e,{stack:[],root:r,value:t}),r}dg.exports=S0});var gg=g((i1,yg)=>{"use strict";var v0=jt(),cn;function hg(e,t){return v0(e,{quotes:t==='"'?"double":"single"})}function b0(e){switch(e.type){case"values":return e.nodes.map(cn).join(",");case"value":return e.nodes.map(cn).join("");case"item":return e.name;case"nested-item":return e.name+"("+e.nodes.map(cn).join(",")+")";case"invalid":return e.value;case"comment":return"/*"+e.content+"*/";case"string":switch(e.stringType){case"'":return"'"+hg(e.value,"'")+"'";case'"':return'"'+hg(e.value,'"')+'"'}throw new Error("Invalid stringType");case"url":var t="url("+(e.innerSpacingBefore||""),r=(e.innerSpacingAfter||"")+")";switch(e.stringType){case"'":return t+"'"+e.url.replace(/(\\)/g,"\\$1").replace(/'/g,"\\'")+"'"+r;case'"':return t+'"'+e.url.replace(/(\\)/g,"\\$1").replace(/"/g,'\\"')+'"'+r;default:return t+e.url.replace(/("|'|\)|\\)/g,"\\$1")+r}}}cn=function(t){var r=b0(t);return t.before&&(r=t.before+r),t.after&&(r=r+t.after),r};yg.exports=cn});var Sg=g(fn=>{fn.parse=ug();fn.stringify=fg();fn.parseValues=mg();fn.stringifyValues=gg()});var Yu=g(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.color=O.call=O.resolution=O.frequency=O.time=O.flex=O.percentage=O.angle=O.length=O.unknownUnit=O.number=O.integer=O.string=O.dashedIdent=O.customIdent=O.comment=O.space=O.cssWideKeyword=O.literal=O.invalid=void 0;var L0=e=>({start:0,end:0,value:"",...e,type:"invalid"});O.invalid=L0;var F0=e=>({start:0,end:0,before:"",after:"",value:"",...e,type:"literal"});O.literal=F0;var V0=e=>({start:0,end:0,value:"initial",...e,type:"css-wide-keyword"});O.cssWideKeyword=V0;var U0=e=>({start:0,end:0,before:"",after:"",value:" ",...e,type:"space"});O.space=U0;var $0=e=>({start:0,end:0,before:"",after:"",value:"",...e,type:"comment"});O.comment=$0;var q0=e=>({start:0,end:0,value:"",...e,type:"<custom-ident>"});O.customIdent=q0;var j0=e=>({start:0,end:0,value:"-",...e,type:"<dashed-ident>"});O.dashedIdent=j0;var B0=e=>({start:0,end:0,value:'""',...e,type:"<string>"});O.string=B0;var W0=e=>({start:0,end:0,value:"0",...e,type:"<integer>"});O.integer=W0;var z0=e=>({start:0,end:0,value:"0",...e,type:"<number>"});O.number=z0;var G0=e=>({start:0,end:0,value:"0",unit:"",integer:!1,...e,type:"unknown-unit"});O.unknownUnit=G0;var H0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<length>"});O.length=H0;var Q0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<angle>"});O.angle=Q0;var K0=e=>({start:0,end:0,value:"0",unit:"%",integer:!1,...e,type:"<percentage>"});O.percentage=K0;var Y0=e=>({start:0,end:0,value:"0",unit:"fr",integer:!1,...e,type:"<flex>"});O.flex=Y0;var J0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<time>"});O.time=J0;var X0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<frequency>"});O.frequency=X0;var Z0=e=>({start:0,end:0,value:"0",integer:!1,...e,type:"<resolution>"});O.resolution=Z0;var eI=e=>({start:0,end:0,value:"",args:e.args||[],before:"",after:"",...e,type:"call"});O.call=eI;var tI=e=>({start:0,end:0,value:"#000000",...e,type:"<color>"});O.color=tI});var xg=g($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.resolutionValidUnits=$e.frequencyValidUnits=$e.timeValidUnits=$e.angleValidUnits=$e.lengthValidUnits=void 0;$e.lengthValidUnits=["px","em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","q","in","pt","pc"];$e.angleValidUnits=["deg","grad","rad","turn"];$e.timeValidUnits=["s","ms"];$e.frequencyValidUnits=["hz","khz"];$e.resolutionValidUnits=["dpi","dpcm","dppx"]});var wg=g(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.tokenizeValue=void 0;var gt=ot();function rI(e,t={}){return(0,gt.tokenize)(e,{isDelimiter:sI,isStringDelimiter(s,n){return n!=="\\"&&(0,gt.isStringDelimiter)(s)},isWhitespace:gt.isWhitespace,shouldAddToken:()=>!0,createToken:gt.createToken,getCommentStartType:gt.getMultilineCommentStartType,isCommentEnd:gt.isCommentEnd,getUnclosedComment:gt.getUnclosedComment,shouldClose(s,n){return(0,gt.isWhitespace)(s)&&(0,gt.isWhitespace)(n)||n==="\\"||/[-_a-zA-Z0-9]/.test(s)?!1:s.charCodeAt(0)<=127},offset:t.offset})}fi.tokenizeValue=rI;var sI=(e,t)=>t!=="\\"&&(e==="("||e===")"||e==="["||e==="]"||e==="<"||e===">"||e==="{"||e==="}"||e==="@"||e==="|"||e===":"||e===";"||e==="~"||e==="&"||e===","||e==="/"||e==="+"||e==="-"||e==="*"||e==="#"||e==="%"||e===".")});var Ju=g(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.stringifyCSSValue=void 0;function Ng(e){if(!Array.isArray(e))return Rg(e);let t="";for(let r of e)t+=Rg(r);return t}pi.stringifyCSSValue=Ng;function Rg(e){return nI[e.type]?.(e)||""}var nI={space:({before:e,value:t,after:r})=>e+t+r,literal:({before:e,value:t,after:r})=>e+t+r,"css-wide-keyword":({value:e})=>e,invalid:({value:e})=>e,comment:({value:e})=>e,call:({value:e,before:t,after:r,args:s})=>`${e}(${t}${Ng(s)}${r})`,"<custom-ident>":({value:e})=>e,"<dashed-ident>":({value:e})=>e,"<string>":({value:e})=>e,"<number>":({value:e})=>e,"<integer>":({value:e})=>e,"<length>":({value:e,unit:t})=>e+t,"<percentage>":({value:e,unit:t})=>e+t,"<angle>":({value:e,unit:t})=>e+t,"<time>":({value:e,unit:t})=>e+t,"<frequency>":({value:e,unit:t})=>e+t,"<resolution>":({value:e,unit:t})=>e+t,"<flex>":({value:e,unit:t})=>e+t,"unknown-unit":({value:e,unit:t})=>e+t,"<color>":({value:e})=>e}});var Lg=g(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.parseCSSValue=void 0;var Z=Yu(),dn=xg(),oI=wg(),Ig=Ju(),Dg=ot();function iI(e,t){let r=(0,oI.tokenizeValue)(e);return new Dg.Seeker(r).run(kg,[],e)}di.parseCSSValue=iI;function kg(e,t,r,s){let{type:n,value:o,start:i,end:a}=e;if(n==="space"){let l=o.indexOf(" ");l===-1&&(l=o.indexOf(`
`)),l===-1&&(l=o.indexOf("	"));let u=l!==-1?o.substring(0,l):"",c=l!==-1?o.substring(l+1):o.substring(1);t.push((0,Z.space)({value:l!==-1?o[l]:o[0],start:i,end:a,before:u,after:c}))}else if(n==="text"||n==="-"){if(Xu(e,t,r,s))return;let l=aI(e,t,r,s);if(s.peek().type==="("){s.next();let u=[];s.run((p,d)=>p.type===")"?!1:kg(p,d,r,s),u,r);let c=u.length&&u[0].type==="space"?(0,Ig.stringifyCSSValue)(u.shift()):"",f=u.length&&u[u.length-1].type==="space"?(0,Ig.stringifyCSSValue)(u.pop()):"";t.push((0,Z.call)({value:l,start:i,end:s.peek(0).end,args:u,before:c,after:f}))}else l.match(/^inherit|unset|initial$/i)?t.push((0,Z.cssWideKeyword)({value:l,start:e.start,end:s.peek(0).end})):l.match(/^--/)?t.push((0,Z.dashedIdent)({value:l,start:e.start,end:s.peek(0).end})):l.match(/^[-][a-z]|[a-z]/i)?t.push((0,Z.customIdent)({value:l,start:e.start,end:s.peek(0).end})):t.push((0,Z.literal)({value:l,start:i,end:s.peek(0).end}))}else if(n==="string")t.push((0,Z.string)({value:o,start:i,end:a}));else if(n==="+"){if(Xu(e,t,r,s))return;t.push((0,Z.literal)({value:o,start:i,end:a}))}else if(n==="#"){let l=s.next();l.type==="text"&&l.value.match(/^[0-9a-f]{3,8}$/i)&&l.value.length!==5&&l.value.length!==7?t.push((0,Z.color)({value:o+l.value,start:i,end:l.end})):(s.back(),t.push((0,Z.invalid)({value:"#",start:i,end:a})))}else n==="."?Xu(e,t,r,s)||t.push((0,Z.literal)({start:i,end:a,value:o})):(0,Dg.isComment)(n)?t.push((0,Z.comment)({value:o,start:i,end:a})):o.length===1?t.push((0,Z.literal)({start:i,end:a,value:o})):t.push((0,Z.invalid)({value:o,start:i,end:a}))}function aI(e,t,r,s){let n="",o=0,i=e;for(;i.type==="text"||i.type==="-";)n+=i.value,o++,i=s.peek(o);return s.index+=o-1,n}function Xu(e,t,r,s){let{value:n,start:o}=e,i=Og(n);if(!i)return!1;let[a,l]=i;if(l&&!Zu(a)){let f=Pg(n);if(!f)return;[a,l]=f}let u=1;if(!l){let f=s.peek(u);for(;f.type==="-"||f.type==="+"||f.type==="."||f.type==="%"||f.type==="text";){let p=a+f.value;if(i=Og(p),!i){if(!Zu(a))return;u--;break}u++;let[d,m]=i;if(a=d,m){l=m;break}f=s.peek(u)}if(!Zu(a)){let p=Pg(a+l);if(!p)return;[a,l]=p}s.index+=u-1,!l&&s.peek().type==="text"&&(l=s.next().value)}let c=a.match(uI);if(l){let f=lI[l.toLowerCase()]||Z.unknownUnit;t.push(f({value:a,unit:l,integer:!!c,start:o,end:s.peek(0).end}))}else{let f=c?Z.integer:Z.number;t.push(f({value:a,start:o,end:s.peek(0).end}))}return!0}var lI={"%":Z.percentage,fr:Z.flex,...dn.lengthValidUnits.reduce((e,t)=>(e[t]=Z.length,e),{}),...dn.angleValidUnits.reduce((e,t)=>(e[t]=Z.angle,e),{}),...dn.timeValidUnits.reduce((e,t)=>(e[t]=Z.time,e),{}),...dn.frequencyValidUnits.reduce((e,t)=>(e[t]=Z.frequency,e),{}),...dn.resolutionValidUnits.reduce((e,t)=>(e[t]=Z.resolution,e),{})},Mg=/^[-+]?(\d+\.?\d*|\d*\.?\d+)(e[-+]?\d+)?/i,uI=/^[-+]?\d+$/i,cI=[/[-+]?(\d+\.?\d*|\d*\.?\d+)(e[-+]?\d*)?/,/[-+]?\d+(e[-+]?\d*)?/,/[-+]/,/[-+]?\./].map(e=>e.source).join("|");function Zu(e){let r=e.match(Mg)?.[0];return!!r&&r===e}function Og(e){let r=e.match(new RegExp("^("+cI+")","i"))?.[0];return r?[r,e.substring(r.length)]:!1}function Pg(e){let r=e.match(Mg)?.[0];return r?[r,e.substring(r.length)]:!1}});var hi=g(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.defineProperty=void 0;function Fg(e){return{}}mi.defineProperty=Fg;Fg.errors={unexpectedType:(e,t)=>`expected to get ${t}, but got ${e.type}`,unexpectedComma:()=>"unexpected comma"}});var Vg=g(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.background=void 0;var fI=hi();yi.background=(0,fI.defineProperty)({name:"background",syntax:"[ <bg-layer> , ]* <final-bg-layer>",subSyntax:{"<bg-layer>":"<bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>","<final-bg-layer>":"<'background-color'> || <bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>"},subProperties:{},topLevelCommaSeparation:!0,classifications:{"background-image":()=>!1,"background-position":()=>!1,"background-size":{syntax:"<bg-size>",match:()=>!0},"background-repeat":()=>!1,"background-origin":()=>!1,"background-clip":()=>!1,"background-attachment":()=>!1,"background-color":{inTopLevelIndex:(e,t)=>e===t-1,match:()=>!1}}})});var Ug=g(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.margin=void 0;var pI=hi(),gi={top:[0,1,0,0],left:[0,0,1,3],bottom:[0,1,2,2],right:[0,0,1,1]};Si.margin=(0,pI.defineProperty)({name:"margin",syntax:"<length>{1,4}",formats:{all:"<length>","horizontal-vertical":"<length><length>","top-horizontal-bottom":"<length><length><length>","top-right-bottom-left":"<length><length><length><length>"},classifications:{"margin-top":(e,{amountOfType:t,indexOfType:r})=>gi.top[t-1]===r,"margin-right":(e,{amountOfType:t,indexOfType:r})=>gi.right[t-1]===r,"margin-bottom":(e,{amountOfType:t,indexOfType:r})=>gi.bottom[t-1]===r,"margin-left":(e,{amountOfType:t,indexOfType:r})=>gi.left[t-1]===r}})});var Yg=g(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.stringify=j.doubleBar=j.doubleAmpersand=j.bar=j.juxtaposing=j.group=j.dataType=j.property=j.keyword=j.literal=j.parseValueSyntax=j.isWhitespace=void 0;var nr=ot(),dI=e=>e==="<"||e===">"||e==="["||e==="]"||e===","||e==="/"||e==="|"||e==="&"||e==="#"||e==="("||e===")"||e==="{"||e==="}"||e==="?"||e==="!"||e==="*"||e==="+",mI=e=>e===" "||e==="	"||e==="\r"||e===`
`||e==="\f";j.isWhitespace=mI;function hI(e){return yI((0,nr.tokenize)(e,{isDelimiter:dI,isWhitespace:j.isWhitespace,createToken:nr.createToken,isStringDelimiter:()=>!1,shouldAddToken:()=>!0,getCommentStartType:()=>"",isCommentEnd:()=>!1,getUnclosedComment:()=>""}),e)}j.parseValueSyntax=hI;function Gr(e,t=!1,r){return{type:"literal",name:e,enclosed:t,multipliers:r}}j.literal=Gr;function jg(e,t){return{type:"keyword",name:e,multipliers:t}}j.keyword=jg;function Bg(e,t,r){return{type:"property",name:e,range:t,multipliers:r}}j.property=Bg;function Wg(e,t,r){return{type:"data-type",name:e,range:t,multipliers:r}}j.dataType=Wg;function zg(e,t){return{type:"group",nodes:e,multipliers:t}}j.group=zg;function Gg(e){return{type:"juxtaposing",nodes:e}}j.juxtaposing=Gg;function Hg(e){return{type:"|",nodes:e}}j.bar=Hg;function Qg(e){return{type:"&&",nodes:e}}j.doubleAmpersand=Qg;function Kg(e){return{type:"||",nodes:e}}j.doubleBar=Kg;function yI(e,t){let r=(n,{ast:o},i,a)=>{if(n.type==="<"){let l=!1;a.eat("space");let u=a.run((d,m)=>{let{type:S}=d;if(S==="space"||S==="["||S===">")return!1;m.push(d)},[],i);if(u.length===0)throw new Error("missing data type name");a.back();let c=(0,nr.getText)(u,void 0,void 0,t),f=qg(c),p;if(f==="invalid")throw new Error("missing data type name");{let d=a.eat("space").next();if(d.type===">")l=!0;else if(d.type==="["){let m=a.eat("space").take("text"),S=a.eat("space").take(","),h=a.eat("space").take("text"),v=a.eat("space").take("]");if(m&&S&&h&&v)p=[zr(m.value),zr(h.value)];else throw new Error("Invalid range");a.eat("space").take(">")&&(l=!0)}}if(!l)throw new Error('missing ">"');f==="quoted"?o.push(Bg(c.slice(1,-1),p)):o.push(Wg(c,p))}else if(n.type==="["){let l=a.run(r,{ast:[]},t);$g(l.ast),o.push(zg(l.ast))}else{if(n.type==="]")return!1;if(n.type==="text"){let l=qg(n.value);if(l==="invalid")if(n.value.startsWith("'")){let u=a.run((c,f)=>(f.push(c),c.value.endsWith("'")?!1:void 0),[n],t);if(u.length<=2)throw new Error("unclosed or empty literal");o.push(Gr((0,nr.getText)(u,void 0,void 0,t).slice(1,-1),!0))}else throw new Error("invalid literal");else l==="quoted"?o.push(Gr(n.value.slice(1,-1),!0)):o.push(jg(n.value))}else if(n.type===","||n.type==="/"||n.type==="("||n.type===")")o.push(Gr(n.value));else if(n.type==="space")a.eat("space");else if(gI(n)){let l=ec(o);if(!l||l.type==="juxtaposing"||Qr(l))throw new Error("unexpected modifier");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=SI(n.type)}else if(n.type==="{")if(a.peekBack().type==="space")o.push(Gr(n.value,!1));else{let l=ec(o);if(!l||Qr(l)||l.type==="juxtaposing")throw new Error("unexpected range modifier");let u=a.eat("space").take("text");if(!u)throw new Error("missing range start value");if(a.eat("space").take(",")){let f=a.eat("space").take("text");if(!a.eat("space").take("}"))throw new Error("missing }");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=[zr(u.value),zr(f?.value??"\u221E")]}else{if(!a.eat("space").take("}"))throw new Error("missing }");if(l.multipliers??(l.multipliers={}),l.multipliers.range)throw new Error("multiple multipliers on same node");l.multipliers.range=[zr(u.value),zr(u.value)]}}else if(n.type==="#"){let l=ec(o);if(!l||l.type==="juxtaposing"||Qr(l))throw new Error("unexpected list modifier");l.multipliers??(l.multipliers={}),l.multipliers.list=!0}else if(n.type==="&"){if(!a.take("&"))throw new Error("missing &");o.push(Qg([]))}else if(n.type==="|")o.push(a.take("|")?Kg([]):Hg([]));else if(n.type==="}")o.push(Gr(n.value,!1));else throw new Error(`UnHandled ${JSON.stringify(n)}`)}vI(o)},s=new nr.Seeker(e).run(r,{ast:[]},t);return $g(s.ast),s.ast[0]}function ec(e){let t=(0,nr.last)(e);return t?.type==="juxtaposing"?(0,nr.last)(t.nodes):t}function $g(e){let t=["&&","||","|"];for(let r=0;r<t.length;r++){let s=t[r];for(let n=0;n<e.length;n++){let o=e[n];if(o.type===s){let i=e[n-1],a=e[n+1];if(!i)throw new Error(`missing node before ${s}`);if(!a)throw new Error(`missing node after ${s}`);if(a.type===s)throw new Error("invalid grouping");i.type===s?(i.nodes.push(a),e.splice(n-1,3,i)):(o.nodes.push(i,a),e.splice(n-1,3,o)),n--}}}if(e.length>1)throw new Error("could not applyPrecedence")}function zr(e){return e==="\u221E"?1/0:e==="-\u221E"?-1/0:parseFloat(e)}function gI(e){let{type:t}=e;return t==="!"||t==="?"||t==="+"||t==="*"}function SI(e){switch(e){case"!":return[1,1];case"*":return[0,1/0];case"+":return[1,1/0];case"?":return[0,1]}}function vI(e){if(e.length>1){let t=e[e.length-1],r=e[e.length-2];r.type==="juxtaposing"&&!Qr(t)?(e.length=e.length-1,r.nodes.push(t)):!Qr(r)&&!Qr(t)&&e.splice(e.length-2,2,Gg([r,t]))}}function Qr(e){let{type:t}=e;return t==="&&"||t==="|"||t==="||"}function Hr(e){let{type:t}=e;if("multipliers"in e)throw new Error("TODO: multipliers");if(t==="property")return`<'${e.name}'${e.range?` [${e.range}]`:""}>`;if(t==="data-type")return`<${e.name}${e.range?` [${e.range}]`:""}>`;if(t==="literal")return e.enclosed?`'${e.name}'`:`${e.name}`;if(t==="group")return`[ ${e.nodes.map(r=>Hr(r)).join("")} ]`;if(t==="&&")return e.nodes.map(r=>Hr(r)).join(" && ");if(t==="||")return e.nodes.map(r=>Hr(r)).join(" || ");if(t==="|")return e.nodes.map(r=>Hr(r)).join(" | ");if(t==="juxtaposing")return e.nodes.map(r=>Hr(r)).join(" ");if(t==="keyword")return e.name;throw new Error(`missing stringify for node ${JSON.stringify(e)}`)}j.stringify=Hr;function qg(e){return e.startsWith("'")?e.endsWith("'")&&e.length>1?"quoted":"invalid":"literal"}});var tc=g(pe=>{"use strict";var bI=pe&&pe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),_I=pe&&pe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bI(t,e,r)};Object.defineProperty(pe,"__esModule",{value:!0});pe.parseValueSyntax=pe.margin=pe.background=pe.defineProperty=pe.stringifyCSSValue=pe.parseCSSValue=void 0;_I(Yu(),pe);var AI=Lg();Object.defineProperty(pe,"parseCSSValue",{enumerable:!0,get:function(){return AI.parseCSSValue}});var CI=Ju();Object.defineProperty(pe,"stringifyCSSValue",{enumerable:!0,get:function(){return CI.stringifyCSSValue}});var EI=hi();Object.defineProperty(pe,"defineProperty",{enumerable:!0,get:function(){return EI.defineProperty}});var TI=Vg();Object.defineProperty(pe,"background",{enumerable:!0,get:function(){return TI.background}});var xI=Ug();Object.defineProperty(pe,"margin",{enumerable:!0,get:function(){return xI.margin}});var wI=Yg();Object.defineProperty(pe,"parseValueSyntax",{enumerable:!0,get:function(){return wI.parseValueSyntax}})});var vS=g((cF,SS)=>{"use strict";SS.exports=function(){return["-ms-","mso-","-moz-","-o-","-xv-","-atsc-","-wap-","-khtml-","-webkit-","prince-","-ah-","-hp-","-ro-","-rim-","-tc-"]}});var Ac=g((fF,bS)=>{var iO=vS();bS.exports=e=>{if(typeof e!="string")throw new TypeError("is-vendor-prefixed expected a string");return new RegExp("^("+iO().join("|")+")([a-z-]+)$","i").test(e)}});var BS=g((oU,jS)=>{"use strict";jS.exports={_extensions:{}}});var nP={};fe(nP,{CustomValueStrategy:()=>ri,Diagnostics:()=>oe,Stylable:()=>Bi,StylableMeta:()=>ss,createCustomValue:()=>si,createDefaultResolver:()=>ji,createNamespaceStrategy:()=>pS,defaultNamespaceBuilder:()=>Oi,defaultNoMatchHandler:()=>dc,ensureModuleImport:()=>Gh,generateStylableJSModuleSource:()=>GS,noCollisionNamespace:()=>zS,parseModuleImportStatement:()=>Qh,processNamespace:()=>FS,validateCustomPropertyName:()=>Ie});module.exports=rv(nP);function Lc(e,t,r=[],s={}){function n(a,l=!1){let u=t(a,"utf8"),c=s[a];return(l||!c||c&&c.content!==u)&&(s[a]={value:o(u,a),content:u}),s[a].value}function o(a,l){return r.reduce((u,c)=>c(u,l),e(l,a))}function i(a,l){let u;try{u=t(a,"utf8")}catch{u=""}s[a]={value:l,content:u}}return{processContent:o,postProcessors:r,cache:s,process:n,add:i}}var B=I(qt(),1),Cs=B.default,HP=B.default.stringify,QP=B.default.fromJSON,KP=B.default.plugin,Es=B.default.parse,YP=B.default.list,JP=B.default.document,XP=B.default.comment,zn=B.default.atRule,ye=B.default.rule,_e=B.default.decl,Sr=B.default.root,ZP=B.default.CssSyntaxError,eD=B.default.Declaration,tD=B.default.Container,rD=B.default.Processor,sD=B.default.Document,nD=B.default.Comment,oD=B.default.Warning,iD=B.default.AtRule,aD=B.default.Result,lD=B.default.Input,cp=B.default.Rule,uD=B.default.Root,cD=B.default.Node;var Gd=I(Ed());var Ar=I($d(),1),qd=Ar.default,ND=Ar.default.objectify,ID=Ar.default.parse,OD=Ar.default.async,PD=Ar.default.sync;var ZE=I(zd()),eT=Cs([(0,Gd.default)()]);function Hd(e,t=""){let r=eT.process(e,{from:t,parser:qd});return r.root.type==="document"?r.root.nodes[0]:r.root}var oe=class{constructor(t=[]){this.reports=t}report(t,r){let s=r.node;this.reports.push({filePath:s.source?.input.from,...t,...r})}};function y(e,t,r){let s=(...n)=>({code:e,severity:t,message:r(...n)});return s.code=e,s.severity=t,s}var Qd=["active","any","any-link","checked","default","defined","dir","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-within","focus-visible","has","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","placeholder-shown","read-only","read-write","required","right","root","scope","target","valid","visited","where"],Kd=["initial","inherit","unset"],El=["not","any","matches","is","where","has","host","host-context","nth-child","nth-last-child","nth-of-type","nth-last-of-type","global","local"],Yd=El.filter(e=>{switch(e){case"global":case"local":case"nth-of-type":case"nth-last-of-type":return!1}return!0}),Jd=["after","backdrop","before","cue","first-letter","first-line","grammar-error","marker","placeholder","selection","slotted","spelling-error"],Tl={annotation:{preserveQuotes:!1},attr:{preserveQuotes:!1},blur:{preserveQuotes:!1},brightness:{preserveQuotes:!1},calc:{preserveQuotes:!1},"character-variant":{preserveQuotes:!1},circle:{preserveQuotes:!1},clamp:{preserveQuotes:!1},"conic-gradient":{preserveQuotes:!1},constant:{preserveQuotes:!1},contrast:{preserveQuotes:!1},counter:{preserveQuotes:!1},counters:{preserveQuotes:!1},"cubic-bezier":{preserveQuotes:!1},"drop-shadow":{preserveQuotes:!1},ellipse:{preserveQuotes:!1},env:{preserveQuotes:!1},"fit-content":{preserveQuotes:!1},format:{preserveQuotes:!1},grayscale:{preserveQuotes:!1},hsl:{preserveQuotes:!1},hsla:{preserveQuotes:!1},"hue-rotate":{preserveQuotes:!1},hwb:{preserveQuotes:!1},image:{preserveQuotes:!1},inset:{preserveQuotes:!1},invert:{preserveQuotes:!1},leader:{preserveQuotes:!1},"linear-gradient":{preserveQuotes:!1},local:{preserveQuotes:!1},matrix:{preserveQuotes:!1},matrix3d:{preserveQuotes:!1},max:{preserveQuotes:!1},min:{preserveQuotes:!1},minmax:{preserveQuotes:!1},opacity:{preserveQuotes:!1},ornaments:{preserveQuotes:!1},paint:{preserveQuotes:!1},path:{preserveQuotes:!0},perspective:{preserveQuotes:!1},polygon:{preserveQuotes:!1},"radial-gradient":{preserveQuotes:!1},rect:{preserveQuotes:!1},repeat:{preserveQuotes:!1},"repeating-linear-gradient":{preserveQuotes:!1},"repeating-radial-gradient":{preserveQuotes:!1},"repeating-conic-gradient":{preserveQuotes:!1},rgb:{preserveQuotes:!1},rgba:{preserveQuotes:!1},rotate:{preserveQuotes:!1},rotate3d:{preserveQuotes:!1},rotateX:{preserveQuotes:!1},rotateY:{preserveQuotes:!1},rotateZ:{preserveQuotes:!1},saturate:{preserveQuotes:!1},scale:{preserveQuotes:!1},scale3d:{preserveQuotes:!1},scaleX:{preserveQuotes:!1},scaleY:{preserveQuotes:!1},scaleZ:{preserveQuotes:!1},scroll:{preserveQuotes:!1},sepia:{preserveQuotes:!1},skew:{preserveQuotes:!1},skewX:{preserveQuotes:!1},skewY:{preserveQuotes:!1},steps:{preserveQuotes:!1},styleset:{preserveQuotes:!1},stylistic:{preserveQuotes:!1},swash:{preserveQuotes:!1},symbols:{preserveQuotes:!1},translate:{preserveQuotes:!1},translate3d:{preserveQuotes:!1},translateX:{preserveQuotes:!1},translateY:{preserveQuotes:!1},translateZ:{preserveQuotes:!1},url:{preserveQuotes:!1},var:{preserveQuotes:!1},color:{preserveQuotes:!0},"color-mix":{preserveQuotes:!0},lab:{preserveQuotes:!0},oklab:{preserveQuotes:!0},lch:{preserveQuotes:!0},oklch:{preserveQuotes:!0},supports:{preserveQuotes:!0},anchor:{preserveQuotes:!0},selector:{preserveQuotes:!0},style:{preserveQuotes:!0},"image-set":{preserveQuotes:!0},sin:{preserveQuotes:!0},cos:{preserveQuotes:!0},tan:{preserveQuotes:!0},asin:{preserveQuotes:!0},acos:{preserveQuotes:!0},atan:{preserveQuotes:!0},atan2:{preserveQuotes:!0},pow:{preserveQuotes:!0},sqrt:{preserveQuotes:!0},hypot:{preserveQuotes:!0},log:{preserveQuotes:!0},exp:{preserveQuotes:!0},abs:{preserveQuotes:!0},sign:{preserveQuotes:!0}};var Ch=I(De());var Ot=I(it()),Ir=I(Hl());var Y=Ot.stringifySelectorAst,ee=Ot.walk,Nr=new Map;function L(e,t={}){Nr.has(e)||(Nr.size>1e4&&Nr.delete(Nr.keys().next().value),Nr.set(e,(0,Ot.parseCssSelector)(e)));let r=Nr.get(e);return t.clone?(0,Ir.default)(r):r}function fh(e){return(0,Ir.default)(e)}function xo(e){return L(e).map(r=>{let s="";return(0,Ot.walk)(r,n=>{if(n.type!=="class"&&n.type!=="type"||s||n.nodes)return s="complex",Ot.walk.stopAll;s=n.type},{ignoreList:["selector","comment"]}),s==="class"||s==="type"?{type:s,isSimple:!0}:{type:"complex",isSimple:!1}})}function ph(e){return e.value="",Yt(e)}function Js(e){let t=e;return t.type="class",t.dotComments=[],t}function dh(e){let t=e;return t.type="invalid",t}function Yt(e){let t=e;return t.type="selector",t.before||="",t.after||="",t}function mh(e,t,r){let s=e;return s.type="pseudo_class",s.value=t,s.colonComments=[],r?s.nodes=r:delete s.nodes,s}function Ql(e){let t=e.combinator||"space";return{type:"combinator",combinator:t,value:e.value??(t==="space"?" ":t),before:e.before??"",after:e.after??"",start:e.start??0,end:e.end??0,invalid:e.invalid??!1}}function hh(e){for(let t of e)if(t.type==="pseudo_class")return!0;return!1}function Xs(e,t){return e.type===t.type&&e.value===t.value}function Jt(e){return e.charAt(0).match(/[A-Z]/)}var hw=e=>e.type==="nesting";function ut(e,t,r=!1,s=hw){let n=[];return t.forEach(o=>{e.forEach(i=>{let a=(0,Ir.default)(o);a.before=i.before||a.before;let l=a.nodes[0];ee(a,d=>(l=d,ee.stopAll),{ignoreList:["selector"]});let u=l.type==="nesting",c=l.type==="pseudo_class"&&l.value==="global",f=r?i.nodes.every((d,m)=>Xs(d,a.nodes[m])):!1,p=!1;ee(a,(d,m,S)=>{s(d)&&(p=!0,S.splice(m,1,{type:"selector",nodes:(0,Ir.default)(i.nodes),start:d.start,end:d.end,after:"",before:""}))}),l&&!u&&!f&&!c&&!p&&a.nodes.unshift(...(0,Ir.default)(i.nodes),{type:"combinator",combinator:"space",value:" ",before:"",after:"",start:l.start,end:l.start,invalid:!1}),n.push(a)})}),{selector:Y(n),ast:n}}var vh=I(it());var wo=I(it()),Kl=I(Hl());function yh(e,t){let r={},s=(n,o)=>{let i=e[n];i&&(r[n]=Zs(i,a=>{let l=`:--${a}`;return o.includes(l)?(t({type:"circular",path:o}),(0,wo.parseCssSelector)(l)):(r[a]||s(a,[...o,l]),r[a])},({type:a,unknown:l})=>t({type:a,origin:n,unknown:l})))};for(let n of Object.keys(e))s(n,[`:--${n}`]);return r}function yw(e){return e.type==="pseudo_class"&&e.value.startsWith("--")}function Zs(e,t,r){let s=[];for(let n of e)s.push(...gw(n,t,r));return s}function gw(e,t,r){let s=[];(0,wo.walk)(e,(o,i,a,l)=>{if(yw(o)){let u=o.value.slice(2),c=t(u);if(!c)r({type:"unknown",origin:"",unknown:u});else if(c.length!==0){let f=l[l.length-1];if(f&&"nodes"in f&&f.nodes){let p=0;s.push(d=>{d&&p++;let m=p===c.length;m&&(p=0);let S=c[p];return S.before=S.after="",f.nodes[i]=S,m})}}}});let n=[];if(s.length){s.forEach(i=>i(!1)),n.push((0,Kl.default)(e));let o=!0;for(;o;){let i=0;for(let a=0;a<s.length;++a){let l=s[a];if(l(a===i))if(i<s.length-1)i++;else return o=!1,n;else break}n.push((0,Kl.default)(e))}}return[e]}function et(e,t){let r=e.parent;for(;r;){if(r.type==="atrule"&&r.name===t)return!0;r=r.parent}return!1}function bh(e,t=!0){let r=e.parent;return r&&(t&&r.type==="root"||r.type==="atrule"&&(r.name==="media"||r.name==="supports"))}function Ro(e,t,r,s=!1,n,o=!1){let i=L(t),a=i[0].nodes[0],l=_h.bind(null,a),u=r||Sr();return e.nodes.forEach(c=>{if(c.type==="decl")r?.append(c.clone());else{if(c.type==="rule"&&(c.selector===":vars"||c.selector===":import"))return;if(c.type==="rule"){let f=L(c.selector,{clone:!0}),p=s?ut(i,f,!0).ast:f;n&&(p=Zs(p,n,()=>{}));let d=s||o?p:p.filter(m=>l(m));if(d.length){let m=Y(d.map(h=>(s||(h=Sh(h,a)),gh(h,a),h))),S=Ro(c,t,c.clone({selector:m,nodes:[]}),s,n,!0);u.append(S)}}else if(c.type==="atrule")if(c.name==="media"||c.name==="supports"||c.name==="st-scope"||c.name==="layer"||c.name==="container"){let f=c.name==="st-scope"?c.params:"",p=o||!1;if(f){let m=L(f,{clone:!0}),S=s?m:m.filter(h=>l(h));S.length&&(p=!0,f=Y(S.map(h=>(s||(h=Sh(h,a)),gh(h,a),h))))}let d=Ro(c,t,zn({params:f||c.params,name:c.name}),s,n,p);d.nodes&&u.append(d)}else s&&u.append(c.clone())}}),u}var No="st-mixin-marker",Io=e=>e.type==="attribute"&&e.value===No;function gh(e,t){ee(e,r=>{Xs(r,t)&&(Yt(r).nodes=[{type:"attribute",value:No,start:r.start,end:r.end}])})}function Sh(e,t){let r=(0,vh.groupCompoundSelectors)(e,{deep:!0,splitPseudoElements:!1});return ee(r,s=>{if(s.type==="compound_selector"){let n=s.nodes;for(let o=1;o<n.length;o++){let i=n[o];if(Xs(i,t)){let a=n.splice(o,n.length-o);n.unshift(...a);break}}}}),r}function _h(e,t){let r=!1;return ee(t,s=>{if(s.type==="combinator")return ee.stopAll;if(s.type==="pseudo_class"){if(s.nodes)for(let n of s.nodes)_h(e,n)&&(r=!0);return ee.skipNested}else if(Xs(s,e))return r=!0,ee.stopAll}),r}function Ah(e,t,r=s=>s.prop==="-st-extends"){let s=null;return e.walkRules(t,n=>{let o=n.nodes?n.nodes.findIndex(r):-1;xo(n.selector).reduce((l,{isSimple:u})=>u?l:!1,!0)&&~o&&(s=n.nodes[o])}),s}function Eh(e){return typeof e.value=="string"}var en={INVALID_MERGE_OF:y("14001","error",e=>`invalid merge of: 
"${e}"`),INVALID_RECURSIVE_MIXIN:y("10010","error",()=>"invalid recursive mixin")};function Oo(e,t,r,s,n){let o=null,i=et(t,"keyframes"),a=n?"&":"["+No+"]",l=n?void 0:Io;if(e.walkRules(u=>{if(!et(u,"keyframes"))if(u.selector===a&&!o)if(u.parent===e)o=u;else{let{selector:c}=ut(L(t.selector),L(u.selector),!1,l);o="NoRoot",u.selector=c}else if(bw(u,o))u.selector.includes(a)&&(u.selector=u.selector.split(a).join("&"),s?.report(en.INVALID_RECURSIVE_MIXIN(),{node:t}));else{let{selector:c}=ut(L(t.selector),L(u.selector),!1,l);u.selector=c}}),e.nodes){let u=t,c=!Sw(r),f=c?t:ye({selector:"&"}),p=m=>{c?f.insertBefore(r,m):(m.raws.before=(m.raws.before||"")+"    ",f.append(m)),!d&&m.type!=="decl"&&vw(r)&&(d=!0)},d=!1;if(e.nodes.slice().forEach(m=>{if(m===o)for(let S of[...m.nodes])p(S);else m.type==="decl"?p(m):(m.type==="rule"||m.type==="atrule")&&(!i?(t.parent.last===u?t.parent.append(m):t.parent.insertAfter(u,m),u=m):s?.report(en.INVALID_MERGE_OF(m.toString()),{node:t}))}),f!==t&&f.nodes.length&&r.before(f),d){let m=ye({selector:"&"});for(;r.next();){let S=r.next();S.raws.before=(S.raws.before||"")+"    ",m.append(S)}r.after(m)}}return t}function Sw(e){let t=e.prev();for(;t;){if(t.type!=="decl"&&t.type!=="comment")return!0;t=t.prev()}return!1}function vw(e){let t=e.next();for(;t;){if(t.type==="decl")return!0;t=t.prev()}return!1}var bw=(e,t)=>{let r=e.parent;for(;r;){if(r===t)return!0;r=r.parent}return!1},_w={MISSING_SOURCE_FILENAME:y("17001","error",()=>"missing source filename")};function Th(e,t){let r=e.source&&e.source.input.file||"";if(!r)t.report(_w.MISSING_SOURCE_FILENAME(),{node:e});else if(!(0,Ch.isAbsolute)(r))throw new Error('source filename is not absolute path: "'+r+'"');return r}function Po(e){if((e._kind==="class"||e._kind==="element")&&!e["-st-extends"])return e.alias}var se={};fe(se,{addSymbol:()=>de,diagnostics:()=>Jl,get:()=>D,getAll:()=>xw,getAllByType:()=>ue,hooks:()=>Tw,readableTypeMap:()=>Yl,reportRedeclare:()=>ww});var Or={strictCustomProperty:!1},Aw={metaInit(){},analyzeInit(){},analyzeAtRule(){},analyzeSelectorNode(){},analyzeSelectorDone(){},analyzeDeclaration(){},analyzeDone(){},prepareAST(){},transformInit(){},transformResolve(){return{}},transformAtRuleNode(){},transformSelectorNode(){},transformDeclaration(){},transformValue(){},transformJSExports(){},transformLastPass(){}};function k(e){return{...Aw,...e}}var Mk=Symbol(),_={key(e){return Symbol(e)},set(e,t,r){e[t]=r},get(e,t){return e[t]},getAssure(e,t){if(!e[t])throw new Error(`key ${t.description} is missing on map`);return e[t]},getUnsafe(e,t){return e[t]}};var Cw={import:"main",class:"main",cssVar:"main",element:"main",keyframes:"keyframes",layer:"layer",container:"container",var:"main"},Yl={class:"css class",element:"css element type",cssVar:"css custom property",import:"stylable imported symbol",keyframes:"css keyframes",layer:"css layer",container:"css container name",var:"stylable var"};function Ew(e){return{byNS:{main:e?[...e.byNS.main]:[],keyframes:e?[...e.byNS.keyframes]:[],layer:e?[...e.byNS.layer]:[],container:e?[...e.byNS.container]:[]},byNSFlat:{main:e?{...e.byNSFlat.main}:{},keyframes:e?{...e.byNSFlat.keyframes}:{},layer:e?{...e.byNSFlat.layer}:{},container:e?{...e.byNSFlat.container}:{}},byType:{import:e?{...e.byType.import}:{},class:e?{...e.byType.class}:{},cssVar:e?{...e.byType.cssVar}:{},element:e?{...e.byType.element}:{},keyframes:e?{...e.byType.keyframes}:{},layer:e?{...e.byType.layer}:{},container:e?{...e.byType.container}:{},var:e?{...e.byType.var}:{}}}}var Pr=_.key("mappedSymbols"),Jl={REDECLARE_SYMBOL:y("06001","warning",e=>`redeclare symbol "${e}"`),REDECLARE_ROOT:y("06002","error",()=>"root is used for the stylesheet and cannot be overridden")},Tw=k({metaInit({meta:e}){_.set(e.data,Pr,Ew())}});function D(e,t,r){let{byNSFlat:s,byType:n}=_.getUnsafe(e.data,Pr);return r?n[r][t]:s.main[t]}function xw(e,t){let{byNSFlat:r}=_.getUnsafe(e.data,Pr);return r[t||"main"]}function ue(e,t){let{byType:r}=_.getUnsafe(e.data,Pr);return r[t]}function de({context:e,symbol:t,node:r,safeRedeclare:s=!1,localName:n}){let{byNS:o,byNSFlat:i,byType:a}=_.getUnsafe(e.meta.data,Pr),l=n||t.name,u=a[t._kind],c=Cw[t._kind];if(r&&l==="root"&&c==="main"&&i[c][l]){e.diagnostics.report(Jl.REDECLARE_ROOT(),{node:r,word:"root"});return}return o[c].push({name:l,symbol:t,ast:r,safeRedeclare:s}),i[c][l]=t,u[l]=t,t}function ww(e){let{byNS:t}=_.getUnsafe(e.meta.data,Pr);for(let r of Object.values(t)){let s={},n=new Set;for(let o of r){let{name:i,safeRedeclare:a}=o;s[i]=s[i]||[],!a&&s[i].length&&n.add(i),s[i].push(o)}for(let o of n)for(let{safeRedeclare:i,ast:a}of s[o])!i&&a&&e.diagnostics.report(Jl.REDECLARE_SYMBOL(o),{node:a,word:o})}}var me={};fe(me,{ImportTypeHook:()=>Dt,PseudoImport:()=>ey,PseudoImportDecl:()=>cu,StylablePublicApi:()=>fu,createImportSymbol:()=>pu,diagnostics:()=>ze,getImportStatements:()=>ty,hooks:()=>Kw});var Fe={INVALID_FUNCTIONAL_SELECTOR:y("00001","error",(e,t)=>`"${e}" ${t} is not functional`),FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:y("05014","error",e=>`cannot define "${e}" inside a complex selector`)};var kr=I(De()),zh=I(wh());function ve(e){return e.replace(/^['"](.*?)['"]$/g,"$1")}function Rh(e){return Pw(e.replace(/(?=.*)\.\w+$/,"").replace(/\.st$/,""))}function Pw(e){return e.replace(/[^0-9a-zA-Z_]/gm,"").replace(/^[^a-zA-Z_]+/gm,"")}var au=I(Ae()),Ne={ST_IMPORT_STAR:y("05001","error",()=>"@st-import * is not supported"),INVALID_ST_IMPORT_FORMAT:y("05002","error",e=>`Invalid @st-import format:
 - ${e.join(`
 - `)}`),ST_IMPORT_EMPTY_FROM:y("05003","error",()=>'@st-import must specify a valid "from" string value'),EMPTY_IMPORT_FROM:y("05004","error",()=>'"-st-from" cannot be empty'),MULTIPLE_FROM_IN_IMPORT:y("05005","warning",()=>'cannot define multiple "-st-from" declarations in a single import'),DEFAULT_IMPORT_IS_LOWER_CASE:y("05006","warning",()=>"Default import of a Stylable stylesheet must start with an upper-case letter"),ILLEGAL_PROP_IN_IMPORT:y("05007","warning",e=>`"${e}" css attribute cannot be used inside :import block`),FROM_PROP_MISSING_IN_IMPORT:y("05008","error",()=>'"-st-from" is missing in :import block'),INVALID_NAMED_IMPORT_AS:y("05009","error",e=>`Invalid named import "as" with name "${e}"`),INVALID_NESTED_KEYFRAMES:y("05010","error",e=>`Invalid nested keyframes import "${e}"`),INVALID_NESTED_TYPED_IMPORT:y("05019","warning",(e,t)=>`Invalid nested ${e} import "${t}"`)},iu={ATTEMPT_OVERRIDE_SYMBOL:y("16001","error",(e,t,r)=>`Attempt to override existing ${e} import symbol. ${t} -> ${r}`),PATCH_CONTAINS_NEW_IMPORT_IN_NEW_IMPORT_NONE_MODE:y("16002","error",()=>'Attempt to insert new a import in newImport "none" mode')};function jh(e){let t=Object.entries(e.named||{}),r=Object.entries(e.keyframes||{}),s="";if(e.defaultExport&&(s+=e.defaultExport),e.defaultExport&&(t.length||r.length)&&(s+=", "),t.length||r.length){s+="[";let n=Vo(t),o=Vo(r);s+=n.join(", "),o.length&&(n.length&&(s+=", "),s+=`keyframes(${o.join(", ")})`),s+="]"}return s+=` from ${JSON.stringify(e.request||"")}`,{name:"st-import",params:s}}function Gh(e,t,r,s=new oe){let n=qw(e,t,r,s);if(!s.reports.length)for(let o of n)o();return{diagnostics:s}}function qw(e,t,{newImport:r},s){let n=[],o=new Set;for(let i of e.nodes)if(i.type==="atrule"&&i.name==="st-import"){let a=Uo(i,"*",s);Wh(a,t,o,s),n.push(()=>i.assign(jh(a)))}else if(i.type==="rule"&&i.selector===":import"){let a=$o(i,"*",s);Wh(a,t,o,s),n.push(()=>{let l=Kh(a),{defaultDecls:u,namedDecls:c}=Ww(i,l,a);a.defaultExport&&Bh(u,i,"-st-default",a.defaultExport),l.length&&Bh(c,i,"-st-named",l.join(", "))})}if(r==="none")return o.size!==t.length&&s.report(iu.PATCH_CONTAINS_NEW_IMPORT_IN_NEW_IMPORT_NONE_MODE(),{node:e}),n;if(o.size===t.length)return n;for(let i of t)o.has(i)||zw(i)&&(r==="st-import"?n.push(()=>{e.prepend(zn(jh({defaultExport:i.defaultExport||"",keyframes:i.keyframes||{},named:i.named||{},request:i.request})))}):n.push(()=>{e.prepend(ye(Bw(i)))}));return n}function Hh(e,t,r){!kr.default.isAbsolute(e)&&!e.startsWith(".")?(r.request=e,r.from=e):(r.request=e,r.from=kr.default.posix&&kr.default.posix.isAbsolute(t)?kr.default.posix.resolve(t,e):kr.default.resolve(t,e))}function Qh(e,t,r){return e.type==="atrule"?Uo(e,t,r):$o(e,t,r)}function Uo(e,t,r){let s={},n={defaultExport:"",from:"",request:"",named:{},rule:e,context:t,keyframes:s,typed:{keyframes:s}},o=(0,zh.parseImports)(`import ${e.params}`,"[","]",!0)[0];if(o&&o.star)r.report(Ne.ST_IMPORT_STAR(),{node:e});else{if(Hh(o.from||"",t,n),n.defaultExport=o.defaultName||"",n.defaultExport&&!Jt(n.defaultExport)&&n.from.endsWith(".css")&&r.report(Ne.DEFAULT_IMPORT_IS_LOWER_CASE(),{node:e,word:n.defaultExport}),o.tagged){for(let[i,a]of Object.entries(o.tagged))if(a)for(let[l,u]of a)n.typed[i]??={},n.typed[i][u]=l}if(o.named)for(let[i,a]of o.named)n.named[a]=i;o.errors.length?r.report(Ne.INVALID_ST_IMPORT_FORMAT(o.errors),{node:e}):o.from?.trim()||r.report(Ne.ST_IMPORT_EMPTY_FROM(),{node:e})}return n}function $o(e,t,r){let s=!1,n={},o={defaultExport:"",from:"",request:"",named:{},keyframes:n,typed:{keyframes:n},rule:e,context:t};return e.walkDecls(i=>{switch(i.prop){case"-st-from":{let a=ve(i.value);a.trim()||r.report(Ne.EMPTY_IMPORT_FROM(),{node:i}),s&&r.report(Ne.MULTIPLE_FROM_IN_IMPORT(),{node:e}),Hh(a,t,o),s=!0;break}case"-st-default":o.defaultExport=i.value,!Jt(o.defaultExport)&&o.from.endsWith(".css")&&r.report(Ne.DEFAULT_IMPORT_IS_LOWER_CASE(),{node:i,word:o.defaultExport});break;case"-st-named":{let{typedMap:a,namedMap:l}=jw(i.value,i,r);o.named=l,o.keyframes=a.keyframes||{},o.typed=a}break;default:r.report(Ne.ILLEGAL_PROP_IN_IMPORT(i.prop),{node:i,word:i.prop});break}}),o.from||r.report(Ne.FROM_PROP_MISSING_IN_IMPORT(),{node:e}),o}function jw(e,t,r){let s={},n={};return e&&Yh((0,au.default)(e),s,n,t,r),{namedMap:s,typedMap:n}}function Bw(e){let t=[],r=Kh(e);return e.request&&t.push(_e({prop:"-st-from",value:JSON.stringify(e.request)})),e.defaultExport&&t.push(_e({prop:"-st-default",value:e.defaultExport})),r.length&&t.push(_e({prop:"-st-named",value:r.join(", ")})),{selector:":import",nodes:t}}function Ww(e,t,r){let s=[],n=[];for(let o of e.nodes)o.type==="decl"&&(o.prop==="-st-named"?(o.assign({value:t.join(", ")}),s.push(o)):o.prop==="-st-default"&&(o.assign({value:r.defaultExport}),n.push(o)));return{defaultDecls:n,namedDecls:s}}function Bh(e,t,r,s){if(!e.length)t.append(_e({prop:r,value:s}));else if(e.length>1)for(let n=0;n<e.length-1;n++)e[n].remove()}function Vo(e){let t=[];for(let[r,s]of e)r===s?t.push(s):t.push(`${s} as ${r}`);return t}function Kh({named:e={},keyframes:t={}}){let r=Vo(Object.entries(e)),s=Vo(Object.entries(t));return s.length&&r.push(`keyframes(${s.join(", ")})`),r}function zw({named:e={},keyframes:t={},defaultExport:r}){return r||Object.keys(e).length||Object.keys(t).length}function Wh(e,t,r,s){let n=["named","keyframes"];for(let o of t)if(!r.has(o)&&e.request===o.request){for(let i of n){let a=o[i];if(a)for(let[l,u]of Object.entries(a)){let c=e[i][l];c!==u&&(c?s.report(iu.ATTEMPT_OVERRIDE_SYMBOL(i,c===l?c:`${c} as ${l}`,u===l?u:`${u} as ${l}`),{node:e.rule}):e[i][l]=u)}}o.defaultExport&&(e.defaultExport?e.defaultExport!==o.defaultExport&&s.report(iu.ATTEMPT_OVERRIDE_SYMBOL("default",e.defaultExport,o.defaultExport),{node:e.rule}):e.defaultExport=o.defaultExport),r.add(o)}}function Yh(e,t,r,s,n){let{nodes:o}=e;for(let i=0;i<o.length;i++){let a=o[i];if(a.type==="word"){let l=o[i+1],u=o[i+2],c=o[i+3],f=o[i+4];if(Gw(l,u))if(c?.type==="space"&&f?.type==="word")t[f.value]=a.value,i+=4;else{i+=f?2:3,n.report(Ne.INVALID_NAMED_IMPORT_AS(a.value),{node:s});continue}else t[a.value]=a.value}else a.type==="function"&&(r?(r[a.value]??={},Yh(a,r[a.value],null,s,n)):n.report(Ne.INVALID_NESTED_TYPED_IMPORT(a.value,au.default.stringify(a)),{node:s}))}}function Gw(e,t){return e?.type==="space"&&t?.type==="word"&&t?.value==="as"}function lu(e,t,r=new Set,s=void 0,n=0){for(let{context:o,request:i}of t.getImportStatements())try{let a=e.resolvePath(o,i);s?.({context:o,request:i,resolved:a,depth:n}),r.has(a)||(r.add(a),a.endsWith(".st.css")&&lu(e,e.analyze(a),r,s,n+1))}catch{}return r}var Hw="*",Qw=["initial-value","syntax","inherits"],Xt={MISSING_REQUIRED_DESCRIPTOR:y("01001","error",e=>`@property rules require a "${e}" descriptor`),MISSING_REQUIRED_INITIAL_VALUE_DESCRIPTOR:y("01002","warning",()=>'@property "initial-value" descriptor is optional only if the "syntax" is the universal syntax definition, otherwise the descriptor is required'),INVALID_DESCRIPTOR_TYPE:y("01003","error",e=>`@property does not support descriptor of type "${e}"`),INVALID_DESCRIPTOR_NAME:y("01004","error",e=>`@property does not support descriptor named "${e}"`)};function Jh(e,t){let r=e.params,s=new Map;if(!e.nodes?.length)return{valid:!0};for(let n of e.nodes){if(n.type!=="decl"){(n.type==="atrule"||n.type==="rule")&&t.report(Xt.INVALID_DESCRIPTOR_TYPE(n.type),{node:n,word:"params"in n?n.params:n.selector});continue}if(!Qw.includes(n.prop)){t.report(Xt.INVALID_DESCRIPTOR_NAME(n.prop),{node:n,word:n.prop});continue}s.set(n.prop,ve(n.value))}return s.has("syntax")?s.has("inherits")?!s.has("initial-value")&&s.get("syntax")!==Hw?(t.report(Xt.MISSING_REQUIRED_INITIAL_VALUE_DESCRIPTOR(),{node:e,word:r}),{valid:!1}):{valid:!0}:(t.report(Xt.MISSING_REQUIRED_DESCRIPTOR("inherits"),{node:e,word:r}),{valid:!1}):(t.report(Xt.MISSING_REQUIRED_DESCRIPTOR("syntax"),{node:e,word:r}),{valid:!1})}function Ie(e){return e.startsWith("--")}function uu(e,t){return`--${e}-${t}`}var Zh=I(De());var ey=":import",cu={DEFAULT:"-st-default",NAMED:"-st-named",FROM:"-st-from"},Dt=new Map,qo=_.key("imports"),ze={...Ne,FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:Fe.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR,NO_ST_IMPORT_IN_NESTED_SCOPE:y("05011","error",()=>'cannot use "@st-import" inside of nested scope'),NO_PSEUDO_IMPORT_IN_NESTED_SCOPE:y("05012","error",()=>'cannot use ":import" inside of nested scope'),INVALID_CUSTOM_PROPERTY_AS_VALUE:y("05013","error",(e,t)=>`invalid alias for custom property "${e}" as "${t}"; custom properties must be prefixed with "--" (double-dash)`),UNKNOWN_IMPORTED_SYMBOL:y("05015","error",(e,t)=>`cannot resolve imported symbol "${e}" from stylesheet "${t}"`),UNKNOWN_IMPORTED_FILE:y("05016","error",(e,t)=>`cannot resolve imported file: "${e}"${t?`
Failed with:
${t}`:""}`),UNKNOWN_TYPED_IMPORT:y("05018","error",e=>`Unknown type import "${e}"`),NO_DEFAULT_EXPORT:y("05020","error",e=>`Native CSS files have no default export. Imported file: "${e}"`),UNSUPPORTED_NATIVE_IMPORT:y("05021","warning",()=>"Unsupported @import within imported native CSS file")},Kw=k({metaInit({meta:e}){_.set(e.data,qo,[])},analyzeInit(e){let t=_.getUnsafe(e.meta.data,qo),r=Zh.default.dirname(e.meta.source);for(let s of e.meta.sourceAst.nodes){if(!Xh(s))continue;let n=s.type==="atrule"?Uo(s,r,e.diagnostics):$o(s,r,e.diagnostics);t.push(n),Jw(n,e,r)}},analyzeAtRule({context:e,atRule:t}){t.name==="st-import"&&t.parent?.type!=="root"?e.diagnostics.report(ze.NO_ST_IMPORT_IN_NESTED_SCOPE(),{node:t}):t.name==="import"&&e.meta.type==="css"&&e.diagnostics.report(ze.UNSUPPORTED_NATIVE_IMPORT(),{node:t})},analyzeSelectorNode({context:e,rule:t,node:r}){if(r.value==="import"){if(t.selector!==":import"){e.diagnostics.report(ze.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR(ey),{node:t});return}t.parent?.type!=="root"&&e.diagnostics.report(ze.NO_PSEUDO_IMPORT_IN_NESTED_SCOPE(),{node:t})}},prepareAST({node:e,toRemove:t}){Xh(e)&&t.push(e)},transformInit({context:e}){Zw(e),Yw(e)}}),fu=class{constructor(t){this.stylable=t}analyze(t){return ty(t).map(({request:r,defaultExport:s,named:n,keyframes:o})=>({from:r,default:s,named:n,typed:{keyframes:o}}))}};function Yw(e){let t=0,r=lu(e.resolver,e.meta,new Set,({depth:s})=>{t=Math.max(t,s)},1);e.meta.transformCssDepth={cssDepth:t,deepDependencies:r}}function Xh(e){return e.type==="atrule"&&e.name==="st-import"||e.type==="rule"&&e.selector===":import"}function ty({data:e}){return _.getUnsafe(e,qo)}function pu(e,t,r,s){return{_kind:"import",type:t==="default"?"default":"named",name:t==="default"?r:e.named[r],import:e,context:s}}function Jw(e,t,r){Xw(e,t),e.defaultExport&&de({context:t,localName:e.defaultExport,symbol:pu(e,"default","default",r),node:e.rule}),Object.keys(e.named).forEach(s=>{de({context:t,localName:s,symbol:pu(e,"named",s,r),node:e.rule})});for(let[s,n]of Object.entries(e.typed)){let o=Dt.get(s);if(o)for(let[i,a]of Object.entries(n))o(t,i,a,e);else t.diagnostics.report(ze.UNKNOWN_TYPED_IMPORT(s),{node:e.rule,word:s})}}function Xw(e,t){for(let[r,s]of Object.entries(e.named))Ie(s)&&!Ie(r)&&t.diagnostics.report(ze.INVALID_CUSTOM_PROPERTY_AS_VALUE(s,r),{node:e.rule})}function Zw(e){let t=_.getUnsafe(e.meta.data,qo);for(let r of t){let s=e.resolver.getModule(r);if(s.value)if(s.kind==="css"){let n=s.value;if(n.type==="css"){let o=!1;for(let i of n.diagnostics.reports)if(i.code==="05021"){o=!0;break}o&&e.diagnostics.report(ze.UNSUPPORTED_NATIVE_IMPORT(),{node:r.rule,word:r.defaultExport})}n.type!=="stylable"&&r.defaultExport&&e.diagnostics.report(ze.NO_DEFAULT_EXPORT(r.request),{node:r.rule,word:r.defaultExport});for(let o in r.named){let i=r.named[o],a=e.resolver.resolveImported(r,i);if(a===null||!a.symbol){let l=r.rule.nodes&&r.rule.nodes.find(u=>u.type==="decl"&&u.prop===cu.NAMED);e.diagnostics.report(ze.UNKNOWN_IMPORTED_SYMBOL(i,r.request),{node:l||r.rule,word:i})}}}else s.kind;else{let n=r.rule.nodes&&r.rule.nodes.find(o=>o.type==="decl"&&o.prop===cu.FROM);e.diagnostics.report(ze.UNKNOWN_IMPORTED_FILE(r.request,eR(s)),{node:n||r.rule,word:r.request})}}}function eR(e){if("error"in e){let{error:t}=e;return typeof t=="object"&&t?"details"in t?String(t.details):"message"in t?String(t.message):String(t):String(t)}return""}var Ve={};fe(Ve,{defaultProcessNamespace:()=>rR,diagnostics:()=>ft,hooks:()=>tR,parseNamespace:()=>ry,setMetaNamespace:()=>sR});var jo=I(De());var Bo=I(Ae());function tn(e,t=0){let r=e.length&3,s=e.length-r,n=3432918353,o=461845907,i=t,a=0,l=0,u=0;for(;a<s;)l=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,++a,l=(l&65535)*n+(((l>>>16)*n&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(l&65535)*o+(((l>>>16)*o&65535)<<16)&4294967295,i^=l,i=i<<13|i>>>19,u=(i&65535)*5+(((i>>>16)*5&65535)<<16)&4294967295,i=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(l=0,r){case 3:l^=(e.charCodeAt(a+2)&255)<<16;case 2:l^=(e.charCodeAt(a+1)&255)<<8;case 1:l^=e.charCodeAt(a)&255,l=(l&65535)*n+(((l>>>16)*n&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(l&65535)*o+(((l>>>16)*o&65535)<<16)&4294967295,i^=l}return i^=e.length,i^=i>>>16,i=(i&65535)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(i&65535)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,i^=i>>>16,i>>>0}var ft={INVALID_NAMESPACE_DEF:y("11007","error",()=>"invalid @st-namespace"),EMPTY_NAMESPACE_DEF:y("11008","error",()=>"@st-namespace must contain at least one character or digit"),EXTRA_DEFINITION:y("11012","error",()=>"@st-namespace must contain a single string definition"),INVALID_NAMESPACE_VALUE:y("11013","error",()=>"@st-namespace must contain only letters, numbers or dashes"),INVALID_NAMESPACE_REFERENCE:y("11010","error",()=>"st-namespace-reference dose not have any value"),NATIVE_OVERRIDE_DEPRECATION:y("11014","info",()=>"@namespace will stop working in version 6, use @st-namespace instead")},rn=_.key("namespace"),tR=k({metaInit({meta:e}){_.set(e.data,rn,{namespaces:[],usedNativeNamespace:[],usedNativeNamespaceNodes:[],foundStNamespace:!1})},analyzeAtRule({context:e,atRule:t}){let r=t.name==="st-namespace",s=t.name==="namespace";if(!r&&!s)return;let n=_.getUnsafe(e.meta.data,rn);if(n.foundStNamespace&&s)return;let o=r?e.diagnostics:void 0,i=ry(t,o);i&&(n.namespaces.push(i),s?(n.usedNativeNamespace.push(t.params),n.usedNativeNamespaceNodes.push(t)):(n.usedNativeNamespace.length=0,n.usedNativeNamespaceNodes.length=0,n.foundStNamespace=!0))},analyzeDone(e){let{usedNativeNamespaceNodes:t}=_.getUnsafe(e.meta.data,rn);for(let r of t)e.diagnostics.report(ft.NATIVE_OVERRIDE_DEPRECATION(),{node:r})},prepareAST({context:e,node:t,toRemove:r}){let{usedNativeNamespace:s}=_.getUnsafe(e.meta.data,rn);t.type==="atrule"&&(t.name==="st-namespace"||t.name==="namespace"&&s.includes(t.params))&&r.push(t)}});function ry(e,t){let{nodes:r}=(0,Bo.default)(e.params);if(!r.length){t?.report(ft.EMPTY_NAMESPACE_DEF(),{node:e});return}let s=!1,n;for(let o of r)switch(o.type){case"string":{n===void 0?s||(n=ve(o.value)):(t?.report(ft.EXTRA_DEFINITION(),{node:e,word:Bo.default.stringify(o)}),s=!0,n=void 0);break}case"comment":case"space":break;default:t?.report(ft.EXTRA_DEFINITION(),{node:e,word:Bo.default.stringify(o)}),s=!0,n=void 0}if(n===void 0){t?.report(ft.INVALID_NAMESPACE_DEF(),{node:e});return}if(n!==void 0&&n.trim()===""){t?.report(ft.EMPTY_NAMESPACE_DEF(),{node:e});return}if(!n.match(/^([a-zA-Z-_]|[^\x00-\x7F]+)([a-zA-Z-_0-9]|[^\x00-\x7F])*$/)){t?.report(ft.INVALID_NAMESPACE_VALUE(),{node:e,word:n});return}return n}function rR(e,t,r){return e+tn(t)}function sR(e,t){let r=e.meta,{namespaces:s}=_.getUnsafe(r.data,rn),n=s[s.length-1]||Rh(jo.default.basename(r.source))||"s",o,i=r.sourceAst.nodes.length;for(;i--;){let a=r.sourceAst.nodes[i];if(a.type==="comment"&&a.text.includes("st-namespace-reference")){let l=a.text.indexOf("=");l===-1?e.diagnostics.report(ft.INVALID_NAMESPACE_REFERENCE(),{node:a}):o=ve(a.text.slice(l+1));break}}r.namespace=t(n,o?jo.default.resolve(jo.default.dirname(r.source),o):r.source,r.source)}var Ge={};fe(Ge,{diagnostics:()=>sy,getGlobalRules:()=>oR,hooks:()=>nR,unwrapPseudoGlobals:()=>ny});var Wo=_.key("globals"),sy={UNSUPPORTED_MULTI_SELECTOR_IN_GLOBAL:y("04001","error",()=>"unsupported multi selector in :global()")},nR=k({metaInit({meta:e}){_.set(e.data,Wo,{rules:new Map})},analyzeSelectorNode({context:e,node:t,topSelectorIndex:r,rule:s,originalNode:n}){let{rules:o}=_.getUnsafe(e.meta.data,Wo);if(t.type==="selector"||t.type==="combinator"||t.type==="comment")return;o.has(n)||o.set(n,{isGlobal:!0,checkedRule:s,topLevelSelectorsFlags:[]});let i=o.get(n);if(t.type==="pseudo_class"&&t.value==="global")return i.topLevelSelectorsFlags[r]??=!0,t.nodes&&t.nodes?.length>1&&e.diagnostics.report(sy.UNSUPPORTED_MULTI_SELECTOR_IN_GLOBAL(),{node:s,word:Y(t.nodes)}),ee.skipNested;t.type==="universal"||t.type==="type"&&!Jt(t.value)?i.topLevelSelectorsFlags[r]??=!0:i.topLevelSelectorsFlags[r]=!1},analyzeSelectorDone({context:e,originalNode:t}){let{rules:r}=_.getUnsafe(e.meta.data,Wo),s=r.get(t);if(!s)return;if(!s.topLevelSelectorsFlags.find(o=>o)){s.isGlobal=!1;return}let n=t.parent;for(;n;){let o=r.get(n);if(o){s.isGlobal=o.isGlobal;break}n=n.parent}},transformInit({context:e}){e.meta.globals={}},transformLastPass({context:{meta:e},ast:t}){t.walkRules(r=>{if(!r.selector.includes(":global("))return;let s=L(r.selector,{clone:!0});ee(ny(s),n=>{n.type==="class"&&(e.globals[n.value]=!0)}),r.selector=Y(s)})}});function oR(e){let{rules:t}=_.getUnsafe(e.data,Wo),r=[];for(let[s,{isGlobal:n,checkedRule:o}]of t)n&&o===s&&s.type==="rule"&&r.push(s);return r}function ny(e){let t=[];return ee(e,r=>{if(r.type==="pseudo_class"&&r.value==="global")return r.nodes?.length===1&&t.push(ph(r)),ee.skipNested}),t}var Oe={};fe(Oe,{StylablePublicApi:()=>du,diagnostics:()=>iR,hooks:()=>aR,isStScopeStatement:()=>Mr});var iR={},aR=k({analyzeAtRule({context:e,atRule:t,analyzeRule:r}){Mr(t)&&(r(ye({selector:t.params,source:t.source}),{isScoped:!0,originalNode:t}),e.meta.scopes.push(t))},prepareAST({node:e,toRemove:t}){Mr(e)&&(oy(e),t.push(()=>e.replaceWith(e.nodes||[])))},transformAtRuleNode({context:{meta:e,inferredSelectorMixin:t},atRule:r,transformer:s}){if(Mr(r)){let{selector:n,inferredSelector:o}=s.scopeSelector(e,r.params,r,void 0,t);r.params=n,s.containerInferredSelectorMap.set(r,o)}},transformLastPass({ast:e}){let t=[];for(let r of e.nodes)Mr(r)&&(oy(r),t.push(()=>r.replaceWith(r.nodes||[])));t.forEach(r=>r())}}),du=class{constructor(t){this.stylable=t}getStScope(t){return lR(t)}};function Mr(e){return e.type==="atrule"&&e.name==="st-scope"}function oy(e){let t=e.params;t&&e.walkRules(r=>{r.selector=ut(L(t),L(r.selector)).selector,r.stScopeSelector=e.params})}function lR(e){let t=e;for(;t?.parent;)if(t=t.parent,Mr(t)&&t.parent?.type==="root")return t}var Se={};fe(Se,{StylablePublicApi:()=>ju,diagnostics:()=>Ue,get:()=>T0,hooks:()=>E0,parseVarsFromExpr:()=>ci,resolveReferencedVarNames:()=>Wu});var Xy=I(Hy()),Nu=I(Ae());var mt=I(Ae());var Zo={INVALID_NAMED_PARAMS:y("13001","error",()=>'invalid named parameters (e.g. "func(name value, [name value, ...])")'),MISSING_REQUIRED_FORMATTER_ARG:y("13002","error",(e,t)=>`${mt.default.stringify(e)}: argument at index ${t} is empty`)};function an(e){let t=[];return e.nodes.length&&(t.push([]),e.nodes.forEach(r=>{if(r.type==="div")t.push([]);else{let{sourceIndex:s,sourceEndIndex:n,...o}=r;t[t.length-1].push(o)}})),t.length&&t[t.length-1].length===0?t.slice(0,-1):t}function tt(e,t,r=!1){return`${e}(${$r(t,!1,void 0,r).join(", ")})`}function $r(e,t=!1,r,s=!1){let n=[],o="",i=0;for(let u of e.nodes)u.type==="div"&&u.value===","?(l(),i++,n.push(o.trim()),o=""):u.type==="comment"?t&&(o+=u.resolvedValue||mt.default.stringify(u)):u.type==="string"?o+=s?mt.default.stringify(u):u.value:o+=u.resolvedValue||mt.default.stringify(u);l(),n.push(o.trim());let a=n.length;for(;a--;)if(n[a]==="")n.pop();else return n;return n;function l(){r&&n.length&&o.trim()===""&&r(Zo.MISSING_REQUIRED_FORMATTER_ARG(e,i))}}function ht(e){return mt.default.stringify(e,t=>{if(t.resolvedValue!==void 0)return t.resolvedValue})}function Qy(e){return ei(e.nodes).map(t=>mt.default.stringify(t,r=>r.type==="div"?null:r.type==="string"?r.value:void 0)).filter(t=>typeof t=="string")}function ei(e,t="div"){let r=[],s=[];e.forEach(o=>{o.type===t?(r.push(s),s=[]):s.push(o)});let n=r[r.length-1];return(n&&n!==s&&s.length||!n&&s.length)&&r.push(s),r}function Ky(e,t,r="div",s=["comment"]){t=1;let n=e.nodes[t];for(;n&&n.type!==r;){if(!s.includes(n.type))return!1;t++,n=e.nodes[t]}return!0}var ti={named:(e,t)=>{let r={};return an(e).forEach(s=>{let n=s[1];if(s.length<3||n&&n.type!=="space"){if(t){let o=s[0];t(Zo.INVALID_NAMED_PARAMS(),{word:o.value})}return}r[s[0].value]=LN(s.slice(2))}),r},args:(e,t)=>$r(e,!0,t).map(r=>({value:r}))};function LN(e){return mt.default.stringify(e,t=>t.type==="function"?mt.default.stringify(t):t.type==="div"?null:t.type==="string"?t.value:void 0)}var ln=class extends Error{constructor(r,s){super(r);this.fallbackValue=s}};function Iu(e,t,r){return{type:e,value:t,flatValue:r}}function Ou(e){return Iu("st-string",e,e)}function He(e,t=!0,r,s){if(typeof e=="string")return t?e:Ou(e);if(typeof e=="object"&&e){let n=r?.[e.type],o=e.value;return n?.flattenValue&&s&&(o=n.getValue([],e,s,r)),(0,Xy.default)(o,i=>He(i,t,r,s))}}function Yy(){return si({processArgs:(e,t,r)=>ri.args(e,t,r),createValue:e=>e,getValue:(e,t)=>e[parseInt(t,10)]})}function Ru(){return si({processArgs:(e,t,r)=>ri.named(e,t,r),createValue:e=>e,getValue:(e,t)=>e[t]})}var Zy={stArray:Yy().register("stArray"),stMap:Ru().register("stMap"),"st-array":Yy().register("st-array"),"st-map":Ru().register("st-map"),"st-string":Ru().register("st-string")},Pu={stArray:{alternativeName:"st-array"},stMap:{alternativeName:"st-map"}},ri={args:(e,t,r)=>{let s=$r(e),n=[];for(let o of s){let i=(0,Nu.default)(o).nodes[0],a=i.type==="function"&&i.value,l=typeof a=="string"&&t[a]?t[a].evalVarAst(i,t,r):He(o,!r);n.push(l)}return n},named:(e,t,r)=>{let s={},n=an(e);for(let[o,i,...a]of n){if(i.type!=="space")throw new Error("Invalid argument");let l;if(a.length!==0){let u=a.filter(c=>c.type!=="comment");if(u.length===1){let c=u[0];if(l=c.resolvedValue,l){if(typeof l=="string"){let f=(0,Nu.default)(l).nodes[0],p=f.type==="function"&&f.value;l=typeof p=="string"&&t[p]?t[p].evalVarAst(f,t,r):He(l,!r)}}else{let f=t[c.value];c.type==="function"&&f?l=f.evalVarAst(c,t,r):l=He(ht(c),!r)}}else l=He(ht(a),!r)}l&&(s[o.value]=l)}return s}};function si({processArgs:e,createValue:t,flattenValue:r,getValue:s}){return{_kind:"CustomValue",register(n){return{flattenValue:r,evalVarAst(o,i,a){let l=e(o,i,a),u=t(l),c;return r&&(c=Jy(r,Iu(n,u),o,i)),Iu(n,u,c)},getValue(o,i,a,l){if(o.length===0){if(r)return Jy(r,i,a,l);{let c=ht([a]);throw new ln(`/* Error trying to flat -> */${c}`,c)}}let u=s(i.value,o[0]);return eg(o.slice(1),u,a,l)}}}}}function Jy(e,t,r,s){let{delimiter:n,parts:o}=e(t);return o.map(i=>eg([],i,r,s)).join(n)}function eg(e,t,r,s){if(typeof t=="string"||t.type==="st-string")return He(t,!0,s);if(t&&s[t.type])return s[t.type].getValue(e,t,r,s);throw new Error("Unknown Type "+JSON.stringify(t))}function tg(e){return e?._kind==="CustomValue"}function FN(e,{symbol:{name:t},meta:{source:r}}){return e.find(({symbol:{name:s},meta:{source:n}})=>t===s&&n===r)}var VN=";:",qr=class{constructor(t,r,s,n){this.fileProcessor=t;this.requireModule=r;this.moduleResolver=s;this.cache=n}getModule({context:t,request:r}){let s,n,o=rg(t,r);if(this.cache?.has(o)){let i=this.cache.get(o);if(i.kind==="resolve")n=i.resolvedPath;else return i}try{n||=this.moduleResolver(t,r)}catch(i){return s={kind:r.endsWith("css")?"css":"js",value:null,error:i,request:r,context:t,resolvedPath:void 0},this.cache?.set(o,s),s}if(n.endsWith(".css")){let i="css";try{s={kind:i,value:this.fileProcessor.process(n),resolvedPath:n}}catch(a){s={kind:i,value:null,error:a,request:r,context:t,resolvedPath:n}}}else{let i="js";try{s={kind:i,value:this.requireModule(n),resolvedPath:n}}catch(a){s={kind:i,value:null,error:a,request:r,context:t,resolvedPath:n}}}return this.cache?.set(o,s),s}analyze(t){return this.fileProcessor.process(t)}resolvePath(t,r){let s=rg(t,r),n=this.cache?.get(s)?.resolvedPath;return n!==void 0||(n=this.moduleResolver(t,r),this.cache?.set(s,{resolvedPath:n,value:null,kind:"resolve"})),n}resolveImported(t,r,s="mappedSymbols"){let n=this.getModule(t);if(n.value===null)return null;if(n.kind==="css"){let{value:o}=n,i=s==="mappedSymbols"?"main":s==="mappedKeyframes"?"keyframes":s;return r=!r&&i==="main"?o.root:r,{_kind:"css",symbol:se.getAll(o,i)[r],meta:o}}else{let{value:o}=n;return{_kind:"js",symbol:r?o[r]:o.default||o,meta:null}}}resolveImport(t){let r=t.type==="named"?t.name:"";return this.resolveImported(t.import,r)}resolve(t){if(!t||t._kind!=="import")if(t&&t._kind!=="var"&&t._kind!=="cssVar"&&t._kind!=="keyframes"&&t._kind!=="layer"&&t._kind!=="container")if(t.alias&&!t["-st-extends"])t=t.alias;else if(t["-st-extends"])t=t["-st-extends"];else return null;else if(t&&t._kind==="cssVar")if(t.alias)t=t.alias;else return null;else return null;return!t||t._kind!=="import"?null:this.resolveImport(t)}deepResolve(t,r=[]){let s=this.resolve(t);for(;s&&s._kind==="css"&&s.symbol&&s.symbol._kind==="import";)s=this.resolve(s.symbol);return s&&s.symbol&&s.meta&&((s.symbol._kind==="class"||s.symbol._kind==="element")&&s.symbol.alias&&!s.symbol["-st-extends"]||s.symbol._kind==="cssVar"&&s.symbol.alias)?r.includes(s.symbol)?{_kind:"css",symbol:s.symbol,meta:s.meta}:(r.push(s.symbol),this.deepResolve(s.symbol.alias,r)):s}resolveSymbolOrigin(t,r,s=[]){if(!t||!r)return null;if(t._kind==="element"||t._kind==="class")return s.includes(t)?{meta:r,symbol:t,_kind:"css"}:(s.push(t),t.alias&&!t["-st-extends"]?this.resolveSymbolOrigin(t.alias,r,s):{meta:r,symbol:t,_kind:"css"});if(t._kind==="cssVar"){if(s.includes(t))return{meta:r,symbol:t,_kind:"css"}}else if(t._kind==="import"){let n=this.resolveImport(t);return n&&n.symbol&&n._kind==="css"?this.resolveSymbolOrigin(n.symbol,n.meta,s):null}return null}resolveSymbols(t,r){let s={mainNamespace:{},class:{},element:{},var:{},js:{},customValues:{...Zy},keyframes:{},layer:{},container:{},cssVar:{},import:{}};for(let[n,o]of Object.entries(t.getAllSymbols())){let i;if(o._kind==="import"||o._kind==="cssVar"&&o.alias){if(i=this.deepResolve(o),!i||!i.symbol)continue;if(i?._kind==="js"){s.js[n]=i,s.mainNamespace[n]="js";let a=i.symbol;tg(a)&&(s.customValues[n]=a.register(n));continue}else o._kind!=="cssVar"&&(i.symbol._kind==="class"||i.symbol._kind==="element")&&(i={_kind:"css",meta:t,symbol:U.createSymbol({name:n,alias:o})})}else i={_kind:"css",meta:t,symbol:o};switch(i.symbol._kind){case"class":s.class[n]=this.resolveExtends(t,i.symbol,!1,void 0,UN(t,n,r,i));break;case"element":s.element[n]=this.resolveExtends(t,n,!0);break;case"var":s.var[n]=i;break;case"cssVar":s.cssVar[n]=i;break}s.mainNamespace[n]=i.symbol._kind}for(let[n,o]of Object.entries(Pe.getAll(t))){let i=Du(t,o,this,"keyframes");i&&(s.keyframes[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}for(let[n,o]of Object.entries(xe.getAll(t))){let i=Du(t,o,this,"layer");i&&(s.layer[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}for(let[n,o]of Object.entries(we.getAll(t))){let i=Du(t,o,this,"container");i&&(s.container[n]={_kind:"css",meta:i.meta,symbol:i.symbol})}return s}resolveExtends(t,r,s=!1,n,o){let i=typeof r=="string"?r:r.name,a=typeof r=="string"?s?t.getTypeElement(r):t.getClass(r):r,l=s?null:be.getCustomSelectorExpended(t,i);if(!a&&!l)return[];if(l&&n){let f=n.resolveSelectorElements(t,l);return f.length===1?f[0][f[0].length-1].resolved:[]}if(!a)return[];let u={_kind:"css",symbol:a,meta:t},c=[];for(;u?.symbol&&!FN(c,u);){c.push(u);let f=u.symbol["-st-extends"]||u.symbol.alias;if(f)if(f._kind==="import"){let p=this.resolve(f);if(p&&p._kind==="css"&&p.symbol&&(p.symbol._kind==="element"||p.symbol._kind==="class")){let{_kind:d,meta:m,symbol:S}=p;u={_kind:d,meta:m,symbol:S}}else{o&&o(p,f,c,t,i,s);break}}else u={_kind:"css",symbol:f,meta:u.meta};else break}return c}};function rg(e,t){return`${e}${VN}${t}`}function UN(e,t,r,s){return(n,o)=>{let i=Ah(e.sourceAst,"."+t);i?n&&n._kind==="js"?r.report(U.diagnostics.CANNOT_EXTEND_JS(),{node:i,word:i.value}):n&&!n.symbol?r.report(U.diagnostics.CANNOT_EXTEND_UNKNOWN_SYMBOL(o.name),{node:i,word:i.value}):r.report(U.diagnostics.IMPORT_ISNT_EXTENDABLE(),{node:i,word:i.value}):s?.symbol.alias&&e.sourceAst.walkRules(new RegExp("\\."+t),a=>(r.report(U.diagnostics.UNKNOWN_IMPORT_ALIAS(t),{node:a,word:t}),!1))}}function jr(e,t){let r=new WeakMap;return s=>{let n=r.get(s);return n||(n=e.resolveSymbols(s,t),r.set(s,n)),n}}function Du(e,t,r,s){let n={meta:e,symbol:t};for(;"import"in n.symbol&&n.symbol.import;){let o=r.resolveImported(n.symbol.import,n.symbol.name,s);if(o?._kind==="css"&&o.symbol?._kind===s)({meta:n.meta,symbol:n.symbol}=o);else return}if(n.symbol?._kind===s)return n}var ui=I(De()),_g=I(Ae());var pn=I(De());var ai=I(Sg());function rr(e,t,r=!1){let s=(0,ai.parseValues)(e.value);s.nodes.forEach(n=>Fu(n,t,1)),r&&(e.value=(0,ai.stringifyValues)(s))}function Fu(e,t,r){switch(e.type){case"value":case"values":t(e,r),e.nodes.forEach(s=>Fu(s,t,r));break;case"url":case"item":t(e,r);break;case"nested-item":t(e,r),e.nodes.forEach(s=>Fu(s,t,r+1));break}}function _0(e){return e===""||e.startsWith("data:")||A0(e)}function A0(e){if(e=e.trim(),e.includes(" "))return!1;try{return new URL(e),!0}catch{return!1}}function C0(e){return!_0(e)}function Vu(e,t,r){e.walkDecls(s=>{rr(s,n=>{if(n.type==="url"){if(!n.url||!C0(n.url)||!n.url.startsWith("."))return;let o=pn.default.join(pn.default.relative(pn.default.dirname(r),pn.default.dirname(t)),n.url).replace(/\\/gm,"/");n.url=Uu(o)}},!0)})}function Uu(e){return!e.startsWith("./")&&!e.startsWith("../")?"./"+e:e}var vg=I(jt());function li(e){return e.replace(/\\(.)/g,"$1")}function $u(e,t){return t?(0,vg.default)(t,{isIdentifier:!0})+"__"+e:e}var sr=class{constructor(t){this.valueHook=t.valueHook,this.stVarOverride=t.stVarOverride,this.getResolvedSymbols=t.getResolvedSymbols}evaluateValue(t,r){return Cg(t.resolver,this.getResolvedSymbols,r.value,r.meta,r.node,r.stVarOverride||this.stVarOverride,this.valueHook,t.diagnostics,t.passedThrough,r.cssVarsMapping,r.args,r.rootArgument,r.initialNode)}},bg={FAIL_TO_EXECUTE_FORMATTER:y("15001","error",(e,t)=>`failed to execute formatter "${e}" with error: "${t}"`),UNKNOWN_FORMATTER:y("15002","error",e=>`cannot find native function or custom formatter called ${e}`)};function Ag(e,t,r,s,n,o,i,a){let l={};for(let u in e)l[u]=qu(t.resolver,li(e[u]),r,n,o,t.replaceValueHook,s,i,a,void 0);return l}function Cg(e,t,r,s,n,o,i,a=new oe,l=[],u={},c=[],f,p){let d=new sr({stVarOverride:o,valueHook:i,getResolvedSymbols:t}),m=t(s),S=(0,_g.default)(r);S.walk(x=>{let{type:C,value:N}=x;if(C==="function"){if(N==="value")Se.hooks.transformValue({context:{meta:s,diagnostics:a,resolver:e,evaluator:d,getResolvedSymbols:t,passedThrough:l},data:{value:N,node:n,meta:s,stVarOverride:o,cssVarsMapping:u,args:c,rootArgument:f,initialNode:p},node:x});else if(N==="")x.resolvedValue=tt(N,x);else if(!m.customValues[N])if(N==="url"){let M=x.nodes[0];if((M.type==="word"||M.type==="string")&&M.value.startsWith("~")){let Q=(0,ui.dirname)(s.source);M.value=Uu((0,ui.relative)(Q,e.resolvePath(Q,M.value.slice(1))).replace(/\\/gm,"/"))}}else if(N==="format")x.resolvedValue=tt(N,x,!0);else if(m.js[N]){let M=m.js[N],Q=$r(x);try{x.resolvedValue=M.symbol.apply(null,Q),d.valueHook&&typeof x.resolvedValue=="string"&&(x.resolvedValue=d.valueHook(x.resolvedValue,{name:x.value,args:Q},!0,l))}catch(Vt){x.resolvedValue=tt(N,x),a&&n&&a.report(bg.FAIL_TO_EXECUTE_FORMATTER(x.resolvedValue,Vt?.message),{node:n,word:n.value})}}else if(N==="var")he.hooks.transformValue({context:{meta:s,diagnostics:a,resolver:e,evaluator:d,getResolvedSymbols:t,passedThrough:l},data:{value:N,node:n,meta:s,stVarOverride:o,cssVarsMapping:u,args:c,rootArgument:f,initialNode:p},node:x});else if(Tl[N]){let{preserveQuotes:M}=Tl[N];x.resolvedValue=tt(N,x,M)}else n&&(x.resolvedValue=tt(N,x),a.report(bg.UNKNOWN_FORMATTER(N),{node:n,word:N}))}},!0);let h="",v=null,T=null,A;for(let x of S.nodes)if(x.type==="function"){let C=m.customValues[x.value];if(C)try{v=C.evalVarAst(x,m.customValues,!0),T=He(v,!0,m.customValues,x);try{h+=C.getValue(c,v,x,m.customValues)}catch(N){if(N instanceof ln)h+=N.fallbackValue;else throw N}}catch(N){A=N;let M=p||n;M&&a.report(Se.diagnostics.COULD_NOT_RESOLVE_VALUE([...f?[f]:[],...c].join(", ")),{node:M,word:r})}else h+=ht([x])}else h+=ht([x]);return{outputValue:h,topLevelType:v,typeError:A,runtimeValue:T}}function qu(e,t,r,s,n,o,i,a=[],l,u=[],c=jr(e,i||new oe)){return Cg(e,c,t,r,s,n,o,i,a,l,u).outputValue}var Bu=I(Ae()),Ue={FORBIDDEN_DEF_IN_COMPLEX_SELECTOR:Fe.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR,NO_VARS_DEF_IN_ST_SCOPE:y("07002","error",()=>'cannot define ":vars" inside of "@st-scope"'),DEPRECATED_ST_FUNCTION_NAME:y("07003","info",(e,t)=>`"${e}" is deprecated, use "${t}"`),CYCLIC_VALUE:y("07004","error",e=>`Cyclic value definition detected: "${e.map((t,r)=>(r===e.length-1?"\u21BB ":r===0?"\u2192 ":"\u21AA ")+t).join(`
`)}"`),MISSING_VAR_IN_VALUE:y("07005","error",()=>"invalid value() with no var identifier"),COULD_NOT_RESOLVE_VALUE:y("07006","error",e=>`cannot resolve value function${e?` using the arguments provided: "${e}"`:""}`),MULTI_ARGS_IN_VALUE:y("07007","error",e=>`value function accepts only a single argument: "value(${e})"`),CANNOT_USE_AS_VALUE:y("07008","error",(e,t)=>`${e} "${t}" cannot be used as a variable`),CANNOT_USE_JS_AS_VALUE:y("07009","error",(e,t)=>`JavaScript ${e} import "${t}" cannot be used as a variable`),UNKNOWN_VAR:y("07010","error",e=>`unknown var "${e}"`),UNKNOWN_CUSTOM_PROP:y("07011","info",e=>`${e.length>1?`Unknown custom-properties "${e.join(", ")}" are`:`Unknown custom-property "${e[0]}" is`} currently not namespaced. However, in Stylable 6, it will be namespaced to the stylesheet. To maintain the current behavior, either wrap the value in quotes or establish a global custom property. If you intend for the custom property to be namespaced based on a different stylesheet context where the variable may be utilized, please reconsider your approach, as this will not be supported in future versions.`)},E0=k({analyzeSelectorNode({context:e,node:t,rule:r}){if(!(t.type!=="pseudo_class"||t.value!=="vars")){if(r.selector===":vars")return et(r,"st-scope")?e.diagnostics.report(Ue.NO_VARS_DEF_IN_ST_SCOPE(),{node:r}):x0(e,r),ee.stopAll;e.diagnostics.report(Ue.FORBIDDEN_DEF_IN_COMPLEX_SELECTOR(":vars"),{node:r})}},transformInit({context:e}){let{cssVar:t}=e.getResolvedSymbols(e.meta);for(let[r,s]of Object.entries(ue(e.meta,"var"))){let n=(0,Bu.default)(ve(s.text)),o=[];n.walk(i=>{if(i.type==="function"&&i.value.toLowerCase()==="var")for(let a of i.nodes)a.type==="word"&&a.value.startsWith("--")&&!t[a.value]&&o.push(a.value)}),o.length&&e.diagnostics.report(Ue.UNKNOWN_CUSTOM_PROP(o),{node:s.node})}},prepareAST({node:e,toRemove:t}){e.type==="rule"&&e.selector===":vars"&&t.push(e)},transformResolve({context:e}){let t={},r=ue(e.meta,"var"),s={...e,diagnostics:new oe};for(let n of Object.keys(r)){let o=r[n],i=e.evaluator.evaluateValue(s,{value:ve(o.text),meta:e.meta,node:o.node});t[n]=i}return t},transformValue({context:e,node:t,data:r}){N0(e,t,r)},transformJSExports({exports:e,resolved:t}){for(let[r,{topLevelType:s,outputValue:n}]of Object.entries(t))e.stVars[r]=s?He(s):n}});function T0(e,t){return D(e,t,"var")}var ju=class{constructor(t){this.stylable=t}getComputed(t){let r=new oe,s=jr(this.stylable.resolver,r),n=new sr({getResolvedSymbols:s}),{var:o}=s(t),i={};for(let[a,l]of Object.entries(o)){let u=new oe,{outputValue:c,topLevelType:f,runtimeValue:p}=n.evaluateValue({resolver:this.stylable.resolver,evaluator:n,meta:t,diagnostics:u},{meta:l.meta,value:ve(l.symbol.text),node:l.symbol.node}),d={value:p??c,input:f??He(c,!1),diagnostics:u};i[a]=d}return i}flatten(t){let r=this.getComputed(t),s=[];for(let[n,o]of Object.entries(r))s.push(...this.flatSingle(o.input,[n]));return s}flatSingle(t,r){let s=[];if(t.flatValue&&s.push({value:t.flatValue,path:r}),typeof t.value=="object"&&t.value!==null)for(let[n,o]of Object.entries(t.value))s.push(...this.flatSingle(typeof o=="string"?Ou(o):o,[...r,n]));return s}};function ci(e){let t=new Set;return(0,Bu.default)(e).walk(r=>{if(r.type==="function"&&r.value==="value")for(let s of r.nodes)switch(s.type){case"word":t.add(s.value);return;case"div":if(s.value===",")return}}),t}function x0(e,t){t.walkDecls(r=>{R0(e.meta,r),w0(e,r);let s=null,n=r.prev();if(n&&n.type==="comment"){let i=n.text.match(/^@type (.+)$/);i&&(s=i[1])}let o=r.prop;de({context:e,symbol:{_kind:"var",name:o,value:"",text:r.value,node:r,valueType:s},node:r})})}function w0(e,t){rr(t,r=>{if(r.type==="nested-item"&&Pu[r.name]){let{alternativeName:s}=Pu[r.name];e.diagnostics.report(Ue.DEPRECATED_ST_FUNCTION_NAME(r.name,s),{node:t,word:r.name})}},!1)}function R0(e,t){rr(t,r=>{r.type==="url"&&e.urls.push(r.url)},!1)}function N0(e,t,r){let{stVarOverride:s,value:n,node:o}=r,i=e.passedThrough||[],a=ti.args(t).map(c=>c.value),l=a[0],u=a.slice(1);if(!l)o&&e.diagnostics.report(Ue.MISSING_VAR_IN_VALUE(),{node:o,word:ht(t)});else if(a.length>=1){if(s?.[l]){t.resolvedValue=s?.[l];return}let c=P0(r.meta.source,l);if(i.includes(c)){O0(e,i,c,r.node,n,t);return}let f=e.getResolvedSymbols(r.meta),p=f.var[l],d=p?.symbol,m=D(e.meta,l);if(d){let{outputValue:S,topLevelType:h,typeError:v}=e.evaluator.evaluateValue({...e,passedThrough:i.concat(c)},{...r,value:ve(d.text),args:u,node:d.node,meta:p.meta,rootArgument:l,initialNode:o});if(o){let T=a.join(", ");!v&&!h&&a.length>1&&e.diagnostics.report(Ue.MULTI_ARGS_IN_VALUE(T),{node:o})}t.resolvedValue=e.evaluator.valueHook?e.evaluator.valueHook(S,l,!0,i):S}else if(m){let S=f.mainNamespace[l];if(S==="js"){let h=f.js[l],v=typeof h.symbol;v==="string"?t.resolvedValue=e.evaluator.valueHook?e.evaluator.valueHook(h.symbol,l,!1,i):h.symbol:o&&e.diagnostics.report(Ue.CANNOT_USE_JS_AS_VALUE(v,l),{node:o,word:l})}else if(S){let h=f[S][l],v={_kind:"css",meta:r.meta,symbol:m};h instanceof Array?v=h[h.length-1]:h._kind==="css"&&(v=h),I0(e,l,v,o)}else o&&e.diagnostics.report(Ue.UNKNOWN_VAR(l),{node:o,word:l})}else o&&e.diagnostics.report(Ue.UNKNOWN_VAR(l),{node:o,word:l})}}function Wu(e,t){let r=new Set,s=[{meta:e.meta,name:t}],n=new Set;for(;s.length;){let{meta:o,name:i}=s.shift(),a=o.source+"/"+i;if(!n.has(a)){n.add(a),r.add(i);let l=D(o,i);switch(l?._kind){case"var":ci(l.text).forEach(u=>s.push({meta:o,name:u}));break;case"import":{let u=e.resolver.deepResolve(l);u?._kind==="css"&&u.symbol._kind==="var"&&s.push({meta:u.meta,name:u.symbol.name});break}}}}return r}function I0(e,t,r,s){let n=r.symbol,o=n._kind==="class"&&n["-st-root"]?"stylesheet":n._kind;s&&e.diagnostics.report(Ue.CANNOT_USE_AS_VALUE(o,t),{node:s,word:t})}function O0(e,t,r,s,n,o){if(s){let i=t.map(a=>a||"");i.push(r),e.diagnostics.report(Ue.CYCLIC_VALUE(i),{node:s,word:r})}return tt(n,o)}function P0(e,t){return`${e}: ${t}`}var be={};fe(be,{CUSTOM_SELECTOR_RE:()=>zu,diagnostics:()=>Hu,getCustomSelector:()=>Qu,getCustomSelectorExpended:()=>Eg,getCustomSelectorNames:()=>M0,getCustomSelectors:()=>Ku,hooks:()=>D0,isScoped:()=>k0,transformCustomSelectorInline:()=>Tg});var Gu=I(it());var Hu={UNKNOWN_CUSTOM_SELECTOR:y("18001","error",e=>`The selector '${e}' is undefined`)},yt=_.key("st-custom-selector"),zu=/:--[\w-]+/g,D0=k({metaInit({meta:e}){_.set(e.data,yt,{})},analyzeAtRule({context:e,atRule:t,analyzeRule:r}){let n=t.params.split(/\s/).shift();if(n&&n.match(zu)){let o=t.params.replace(n,"").trim(),i=L(o,{clone:!0}),a=r(ye({selector:o,source:t.source}),{isScoped:!1,originalNode:t}),l=_.getUnsafe(e.meta.data,yt),u=n.slice(3);l[u]={selector:o,ast:i,isScoped:a,def:t}}},analyzeDone(e){let t=_.getUnsafe(e.meta.data,yt),r={};for(let[n,o]of Object.entries(t))r[n]=o.ast;let s=yh(r,n=>{if(n.type==="unknown"&&t[n.origin]){let o=`:--${n.unknown}`;e.diagnostics.report(Hu.UNKNOWN_CUSTOM_SELECTOR(o),{node:t[n.origin].def,word:o})}else n.type});for(let[n,o]of Object.entries(s))t[n].ast=o,t[n].selector=(0,Gu.stringifySelectorAst)(o)},prepareAST({context:e,node:t,toRemove:r}){t.type==="rule"&&t.selector.match(zu)?t.selector=Tg(e.meta,t.selector,{diagnostics:e.diagnostics,node:t}):t.type==="atrule"&&t.name==="custom-selector"&&r.push(t)},transformSelectorNode({context:e,selectorContext:t,node:r}){let s=r.value.startsWith("--")&&Eg(e.meta,r.value.slice(2));if(s){let n=L(s,{clone:!0}),o=t.createNestedContext(n);t.scopeSelectorAst(o);let i=t.experimentalSelectorInference?o.inferredMultipleSelectors:o.inferredSelector;t.setNextSelectorScope(i,r),t.transform&&t.transformIntoMultiSelector(r,n)}return!!s},transformAtRuleNode({atRule:e}){e.name==="custom-selector"&&e.remove()}});function k0(e,t){return _.getUnsafe(e.data,yt)[t]?.isScoped}function Qu(e,t){return _.getUnsafe(e.data,yt)[t]?.ast}function Ku(e){let t=_.getUnsafe(e.data,yt);return Object.entries(t).reduce((r,[s,{ast:n}])=>(r[s]=n,r),{})}function Eg(e,t){return _.getUnsafe(e.data,yt)[t]?.selector}function M0(e){let t=_.getUnsafe(e.data,yt);return Object.keys(t).map(r=>`:--${r}`)}function Tg(e,t,r={}){let s=L(t,{clone:!0}),n=_.getUnsafe(e.data,yt),o=Zs(s,i=>n[i]?.ast,i=>{if(r.diagnostics&&r.node){let a=`:--${i.unknown}`;r.diagnostics.report(Hu.UNKNOWN_CUSTOM_SELECTOR(a),{node:r.node,word:a})}});return(0,Gu.stringifySelectorAst)(o)}var ir={};fe(ir,{createBooleanStateClassName:()=>ac,createStateWithParamClassName:()=>lc,delimiters:()=>VI,diagnostics:()=>LI,hooks:()=>FI,isTemplateState:()=>Ni,parsePseudoStates:()=>xi,parseStateValue:()=>wi,resolveStateParam:()=>uc,sysValidationErrors:()=>Ce,systemValidators:()=>yn,transformPseudoClassToCustomState:()=>Ri});var or=I(Ae()),Ei=I(jt());var Xg=I(tc());function vi(e,t,r){return Ai(e,t,()=>!0,r)}function bi(e,t,r){let[s,n,o]=mn(e,t,{...r,name:"="});if(s){let i=e[t+s];if(_i(i,">"))return[s+1,i,s+1]}return[0,void 0,o]}function _i(e,t){return e&&e.type==="literal"&&e.value===t}function rc(e,t,r){let s=r?.name||"",n=t;for(;n<e.length;){let[o,i]=mn(e,n,{...r,name:"."});if(o){n+=o;let[a,l]=hn(e,n,{name:s,stopOnFail:!0});if(a)return[o+a,l,n-t+1]}if(r?.stopOnFail)break;n++}return[0,void 0,e.length-t]}function sc(e,t,r){let s=r?.name||"",n=t;for(;n<e.length;){let[o]=mn(e,n,{...r,name:":"});if(o){n+=o;let i={name:s,stopOnFail:!0,ignoreComments:!0,ignoreWhitespace:!1},[a,l]=hn(e,n,i);if(a)return[o+a,l,n-t+1];{let[u,c]=nc(e,n,i);if(u)return[o+u,c,n-t+1];break}}else{if(r?.stopOnFail)break;n++}}return[0,void 0,e.length-t]}function Jg(e,t,r){let s=t;for(;s<e.length;){let[n]=mn(e,s,{...r,name:":"});if(n){s+=n;let[o]=mn(e,s,{...r,name:":",stopOnFail:!0,ignoreWhitespace:!1});if(o){s+=o;let[i,a]=hn(e,s,{...r,stopOnFail:!0});if(a)return[s-t+i,a,s-t+i]}}if(r?.stopOnFail)break;s++}return[0,void 0,s-t]}function mn(e,t,r){let s=r?.name||"";return Ai(e,t,n=>n.type==="literal"&&(!s||n.value===s),r)}function hn(e,t,r){let s=r?.name||"";return Ai(e,t,n=>n.type==="<custom-ident>"&&(!s||n.value===s),r)}function nc(e,t,r){let s=r?.name||"";return Ai(e,t,n=>n.type==="call"&&(!s||n.value===s),r)}function Ai(e,t,r,{stopOnFail:s=!0,ignoreWhitespace:n=!0,ignoreComments:o=!0,stopOnMatch:i}={}){let a=t;for(;a<e.length;){let l=e[a];if(!(o&&l.type==="comment")){if(!(n&&l.type==="space")){if(r(l))return[a-t+1,l,a-t+1];if(s||i?.(l,a,e))break}}a++}return[0,void 0,a-t]}var Kr="-",Ti="--",oc=Ti+Kr,ce={MISSING_TYPE_OR_TEMPLATE:y("08000","error",e=>`pseudo-state "${e}" missing type or template`),UNKNOWN_STATE_TYPE:y("08002","error",(e,t)=>`pseudo-state "${e}" defined with unknown type: "${t}"`),TOO_MANY_STATE_TYPES:y("08003","error",(e,t)=>`pseudo-state "${e}(${t.join(", ")})" definition must be of a single type`),NO_STATE_TYPE_GIVEN:y("08005","warning",e=>`pseudo-state "${e}" expected a definition of a single type, but received none`),TOO_MANY_ARGS_IN_VALIDATOR:y("08006","error",(e,t,r)=>`pseudo-state "${e}" expected "${t}" validator to receive a single argument, but it received "${r.join(", ")}"`),STATE_STARTS_WITH_HYPHEN:y("08007","error",e=>`state "${e}" declaration cannot begin with a "${Kr}" character`),RESERVED_NATIVE_STATE:y("08008","warning",e=>`state "${e}" is reserved for native pseudo-class`),DEFAULT_PARAM_FAILS_VALIDATION:y("08010","error",(e,t,r)=>`pseudo-state "${e}" default value "${t}" failed validation:
${r.join(`
`)}`),NO_STATE_ARGUMENT_GIVEN:y("08004","error",(e,t)=>`pseudo-state "${e}" expected argument of type "${t}" but got none`),FAILED_STATE_VALIDATION:y("08009","error",(e,t,r)=>[`pseudo-state "${e}" with parameter "${t}" failed validation:`,...r].join(`
`)),TEMPLATE_MISSING_PLACEHOLDER:y("08011","warning",(e,t)=>`pseudo-state "${e}" template "${t}" is missing a placeholder, use "$0" to set the parameter insertion place`),TEMPLATE_MULTI_PARAMETERS:y("08012","error",e=>`pseudo-state "${e}" template only supports a single parameter`),TEMPLATE_MISSING_PARAMETER:y("08013","error",e=>`pseudo-state "${e}" template expected a parameter definition`),UNSUPPORTED_MULTI_SELECTOR:y("08014","error",(e,t)=>`pseudo-state "${e}" resulted in an unsupported multi selector "${t}"`),UNSUPPORTED_COMPLEX_SELECTOR:y("08015","error",(e,t)=>`pseudo-state "${e}" resulted in an unsupported complex selector "${t}"`),INVALID_SELECTOR:y("08016","error",(e,t)=>`pseudo-state "${e}" resulted in an invalid selector "${t}"`),UNSUPPORTED_INITIAL_SELECTOR:y("08017","error",(e,t)=>`pseudo-state "${e}" result cannot start with a type or universal selector "${t}"`),NO_PARAM_REQUIRED:y("08018","error",(e,t)=>`pseudo-state "${e}" accepts no parameter, but received "${t}"`)};function xi(e,t,r){let s={},n=(0,or.default)(e);return ei(n.nodes).forEach(i=>{let[a,...l]=i,u=a.value;Zg(u,r,t)&&(a.type==="function"?eS(a,s,l,r,t):a.type==="word"&&ic(s,a))}),s}function Zg(e,t,r){if(e.startsWith("-"))t.report(ce.STATE_STARTS_WITH_HYPHEN(e),{node:r,word:e});else if(El.includes(e))return t.report(ce.RESERVED_NATIVE_STATE(e),{node:r,word:e}),!1;return!0}function wi(e,t,r){let s="",n=null,o=0,i=hn(e,0),[a,l]=i[0]?i:nc(e,0);if(l&&Zg(l.value,r,t)&&(o+=a,s=l.value,l.type==="call")){o=e.length;let u=(0,or.default)((0,Xg.stringifyCSSValue)(e.slice(a-1))),[c,...f]=u.nodes,p={};eS(c,p,f,r,t),p[s]&&(n=p[s])}return s?[o,n]:[0,void 0]}function ic(e,t){e[t.value]||(e[t.value]=null)}function eS(e,t,r,s,n){let o=e.value;if(e.nodes.length===0){ic(t,e),s.report(ce.NO_STATE_TYPE_GIVEN(o),{node:n,word:n.value});return}let{paramType:i,argsFirstNode:a,argsFullValue:l}=II(e.nodes);if(!i){s.report(ce.MISSING_TYPE_OR_TEMPLATE(o),{node:n});return}i?.type==="string"?RI(o,i,a,l,t,s,n):(l.length>1&&s.report(ce.TOO_MANY_STATE_TYPES(o,a.map(u=>u?or.default.stringify(u):"")),{node:n,word:n.value}),NI(o,i,r,t,s,e,n))}function RI(e,t,r,s,n,o,i){let a=ve(or.default.stringify(t));if(s.length===1)n[e]=a.trim().replace(/\\["']/g,'"');else if(s.length===2){a.includes("$0")||o.report(ce.TEMPLATE_MISSING_PLACEHOLDER(e,a),{node:i,word:a});let l=s[1],u=r[1];if(!u){o.report(ce.TEMPLATE_MISSING_PARAMETER(e),{node:i});return}let c=tS(e+" parameter",u,l.splice(l.indexOf(u)+1),o,i);if(!c)return;let f={type:"template",template:a,params:[c]};n[e]=f}else o.report(ce.TEMPLATE_MULTI_PARAMETERS(e),{node:i})}function NI(e,t,r,s,n,o,i){if(t.value==="boolean")ic(s,o);else{let a=tS(e,t,r,n,i);a&&(s[e]=a)}}function tS(e,t,r,s,n){let o=t.value;if(o in yn&&(t.type==="function"||t.type==="word")){let i={type:o,arguments:[],defaultValue:or.default.stringify(r).trim()};return t.type==="function"&&t.nodes.length>0&&OI(t,i,e,s,n),i}else{let i=or.default.stringify(t);s.report(ce.UNKNOWN_STATE_TYPE(e,i),{node:n,word:i});return}}function II(e){let t=[],r=[],s=[],n;for(let i of e)i.type==="div"?(t.push(s),r.push(n),s=[],n=void 0):(s.push(i),!n&&i.type!=="space"&&i.type!=="comment"&&(n=i));return s.length&&(t.push(s),r.push(n)),{paramType:r[0],argsFullValue:t,argsFirstNode:r}}function OI(e,t,r,s,n){ei(e.nodes).forEach(i=>{let a=i[0];if(a.type==="function"){let l=Qy(a);l.length>1?s.report(ce.TOO_MANY_ARGS_IN_VALIDATOR(r,a.value,l),{node:n,word:n.value}):t.arguments.push({name:a.value,args:l})}else(a.type==="string"||a.type==="word")&&t.arguments.push(a.value)})}var Ce={string:{STRING_TYPE_VALIDATION_FAILED:e=>`"${e}" should be of type string`,REGEX_VALIDATION_FAILED:(e,t)=>`expected "${t}" to match regex "${e}"`,CONTAINS_VALIDATION_FAILED:(e,t)=>`expected "${t}" to contain string "${e}"`,MIN_LENGTH_VALIDATION_FAILED:(e,t)=>`expected "${t}" to be of length longer than or equal to ${e}`,MAX_LENGTH_VALIDATION_FAILED:(e,t)=>`expected "${t}" to be of length shorter than or equal to ${e}`,UKNOWN_VALIDATOR:e=>`encountered unknown string validator "${e}"`},number:{NUMBER_TYPE_VALIDATION_FAILED:e=>`expected "${e}" to be of type number`,MIN_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be larger than or equal to ${t}`,MAX_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be lesser then or equal to ${t}`,MULTIPLE_OF_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be a multiple of ${t}`,UKNOWN_VALIDATOR:e=>`encountered unknown number validator "${e}"`},enum:{ENUM_TYPE_VALIDATION_FAILED:(e,t)=>`expected "${e}" to be one of the options: "${t.join(", ")}"`,NO_OPTIONS_DEFINED:()=>"expected enum to be defined with one option or more"}},yn={string:{validate(e,t,r,s,n){let o=e,i=[];return n&&typeof e!="string"&&i.push(Ce.string.STRING_TYPE_VALIDATION_FAILED(e)),t.length>0&&t.forEach(a=>{if(typeof a=="object")if(this.subValidators&&this.subValidators[a.name]){let l=this.subValidators[a.name],u=l(e,r(a.args[0]));n&&u.errors&&i.push(...u.errors)}else s&&i.push(Ce.string.UKNOWN_VALIDATOR(a.name))}),{res:o,errors:i.length?i:null}},subValidators:{regex:(e,t)=>{let s=new RegExp(t).test(e);return{res:e,errors:s?null:[Ce.string.REGEX_VALIDATION_FAILED(t,e)]}},contains:(e,t)=>{let r=!!~e.indexOf(t);return{res:e,errors:r?null:[Ce.string.CONTAINS_VALIDATION_FAILED(t,e)]}},minLength:(e,t)=>{let r=e.length>=Number(t);return{res:e,errors:r?null:[Ce.string.MIN_LENGTH_VALIDATION_FAILED(t,e)]}},maxLength:(e,t)=>{let r=e.length<=Number(t);return{res:e,errors:r?null:[Ce.string.MAX_LENGTH_VALIDATION_FAILED(t,e)]}}}},number:{validate(e,t,r,s,n){let o=e,i=[];return isNaN(e)?n&&i.push(Ce.number.NUMBER_TYPE_VALIDATION_FAILED(e)):t.length>0&&t.forEach(a=>{if(typeof a=="object")if(this.subValidators&&this.subValidators[a.name]){let l=this.subValidators[a.name],u=l(e,r(a.args[0]));n&&u.errors&&i.push(...u.errors)}else s&&i.push(Ce.number.UKNOWN_VALIDATOR(a.name))}),{res:o,errors:i.length?i:null}},subValidators:{min:(e,t)=>{let r=Number(e)>=Number(t);return{res:e,errors:r?null:[Ce.number.MIN_VALIDATION_FAILED(e,t)]}},max:(e,t)=>{let r=Number(e)<=Number(t);return{res:e,errors:r?null:[Ce.number.MAX_VALIDATION_FAILED(e,t)]}},multipleOf:(e,t)=>{let r=Number(e)%Number(t)===0;return{res:e,errors:r?null:[Ce.number.MULTIPLE_OF_VALIDATION_FAILED(e,t)]}}}},enum:{validate(e,t,r,s,n){let o=e,i=[],a=[];if(t.length){let l=t.some(u=>typeof u=="string"?(a.push(u),r(u)===e):!0);n&&!l&&i.push(Ce.enum.ENUM_TYPE_VALIDATION_FAILED(e,a))}else s&&i.push(Ce.enum.NO_OPTIONS_DEFINED());return{res:o,errors:i.length?i:null}}}};function rS(e,t,r,s,n){let o=L(e);if(o.length&&o.length===1){let a=o[0].nodes;if(a.length===1&&a[0].type==="class"){let l=a[0].value,u=U.get(r,l),c=u?.["-st-states"];if(c&&u._kind==="class")for(let f in c){let p=c[f];if(p&&typeof p=="object"){let d=Ni(p)?p.params[0]:p,{errors:m}=PI(d,r,d.defaultValue||"",s,n,t,!0,!!d.defaultValue);if(m){for(let S of t.nodes)if(S.type==="decl"&&S.prop==="-st-states"){n.report(ce.DEFAULT_PARAM_FAILS_VALIDATION(f,d.defaultValue||"",m),{node:S,word:S.value});break}}}}}}}function PI(e,t,r,s,n,o,i,a=!0){let l={res:Ci(t,s,n,o,r||e.defaultValue),errors:null},{type:u}=e,c=yn[u];try{if(l.res||i){let{errors:f}=c.validate(l.res,e.arguments,Ci.bind(null,t,s,n,o),!!i,a);l.errors=f}}catch{}return l}function Ri(e,t,r,s,n,o,i,a){e===null||typeof e=="string"?(s.nodes&&a&&i.report(ce.NO_PARAM_REQUIRED(r,Y(s.nodes)),{node:a,word:Y(s)}),e===null?Js(s).value=ac(r,n):dh(s).value=e,delete s.nodes):typeof e=="object"&&(Ni(e)?DI(t,o,i,a,s,e,r):kI(t,o,i,a,s,e,r,n))}function Ni(e){return!!e&&typeof e=="object"&&e.type==="template"}function ac(e,t){return`${(0,Ei.default)(t,{isIdentifier:!0})}${Ti}${e}`}function lc(e,t,r){return`${(0,Ei.default)(t,{isIdentifier:!0})}${oc}${e}${uc(r,!0)}`}function uc(e,t=!1){let r=`${Kr}${e.length}${Kr}${e.replace(/\s/gm,"_")}`;return t?(0,Ei.default)("s"+r,{isIdentifier:!0}).slice(1):r}function DI(e,t,r,s,n,o,i){let a=o.params[0],l=sS(e,t,r,s,n,a,i);nS(e,t,r,s,a,l,i);let u=ve(l);MI({stateName:i,template:o.template,param:u,node:n,selectorNode:s,diagnostics:r})}function sS(e,t,r,s,n,o,i){let a=n.nodes&&n.nodes.length?Y(n.nodes):"",l=Ci(e,t,r,s,a||o.defaultValue);return s&&!a&&!o.defaultValue&&r.report(ce.NO_STATE_ARGUMENT_GIVEN(i,o.type),{node:s,word:i}),l}function nS(e,t,r,s,n,o,i){let a=yn[n.type],l;try{l=a.validate(o,n.arguments,Ci.bind(null,e,t,r,s),!1,!0)}catch{}l!==void 0&&(l.res!==o&&(o=l.res),s&&l.errors&&r.report(ce.FAILED_STATE_VALIDATION(i,o,l.errors),{node:s,word:o}))}function kI(e,t,r,s,n,o,i,a){let l=sS(e,t,r,s,n,o,i);nS(e,t,r,s,o,l,i);let u=ve(l);Js(n).value=lc(i,a,u),delete n.nodes}function MI({stateName:e,template:t,param:r,node:s,selectorNode:n,diagnostics:o}){let i=t.replace(/\$0/g,r),a=L(i,{clone:!0});if(a.length>1){n&&o.report(ce.UNSUPPORTED_MULTI_SELECTOR(e,i),{node:n});return}else{let l=a[0].nodes.find(({type:c})=>c!=="comment");if(l?.type==="type"||l?.type==="universal"){n&&o.report(ce.UNSUPPORTED_INITIAL_SELECTOR(e,i),{node:n});return}let u;for(let c of a[0].nodes)if(c.type==="combinator"||c.type==="invalid"){u=c;break}if(u){if(n)switch(u.type){case"combinator":o.report(ce.UNSUPPORTED_COMPLEX_SELECTOR(e,i),{node:n});break;case"invalid":o.report(ce.INVALID_SELECTOR(e,i),{node:n});break}return}}Yt(s).nodes=a[0].nodes}function Ci(e,t,r,s,n){return qu(t,n||"",e,s,void 0,void 0,r)}var LI={...ce},FI=k({}),VI={booleanStateDelimiter:Ti,stateMiddleDelimiter:Kr,stateWithParamDelimiter:oc};var vt={};fe(vt,{MixinType:()=>ar,StylablePublicApi:()=>pc,diagnostics:()=>St,hooks:()=>UI});var oS=I(Ae()),Ii={INVALID_NAMED_PARAMS:Zo.INVALID_NAMED_PARAMS,VALUE_CANNOT_BE_STRING:y("10008","error",()=>"value can not be a string (remove quotes?)")};function cc(e,t,r,s=!0){let n=(0,oS.default)(e.value),o=[];function i(a,l){s&&r?.report(a,{...l,node:e})}return n.nodes.forEach(a=>{a.type==="function"?o.push({type:a.value,options:ti[t(a.value)](a,i),valueNode:a,originDecl:e}):a.type==="word"?o.push({type:a.value,options:t(a.value)==="named"?{}:[],valueNode:a,originDecl:e}):a.type==="string"&&r?.report(Ii.VALUE_CANNOT_BE_STRING(),{node:e,word:e.value})}),o}function iS(e,t,r,s){return cc(e,t,r,s).map(n=>(n.partial=!0,n))}var aS=I(Ae());var lS=I(De());var fc=I(it()),ar={ALL:"-st-mixin",PARTIAL:"-st-partial-mixin"},St={VALUE_CANNOT_BE_STRING:Ii.VALUE_CANNOT_BE_STRING,INVALID_NAMED_PARAMS:Ii.INVALID_NAMED_PARAMS,INVALID_MERGE_OF:en.INVALID_MERGE_OF,INVALID_RECURSIVE_MIXIN:en.INVALID_RECURSIVE_MIXIN,PARTIAL_MIXIN_MISSING_ARGUMENTS:y("10001","error",e=>`"${ar.PARTIAL}" can only be used with override arguments provided, missing overrides on "${e}"`),UNKNOWN_MIXIN:y("10002","error",e=>`unknown mixin: "${e}"`),OVERRIDE_MIXIN:y("10003","warning",e=>`override ${e} on same rule`),FAILED_TO_APPLY_MIXIN:y("10004","error",e=>`could not apply mixin: ${e}`),JS_MIXIN_NOT_A_FUNC:y("10005","error",()=>"js mixin must be a function"),UNSUPPORTED_MIXIN_SYMBOL:y("10007","error",(e,t)=>`cannot mix unsupported symbol "${e}" of type "${Yl[t]}"`),CIRCULAR_MIXIN:y("10006","error",e=>`circular mixin found: ${e.join(" --> ")}`),UNKNOWN_ARG:y("10009","warning",e=>`unknown mixin argument "${e}"`)},UI=k({transformSelectorNode({selectorContext:e,node:t}){let r=Io(t);return r&&e.setNextSelectorScope(e.inferredSelectorMixin,t,t.value),r},transformLastPass({context:e,ast:t,transformer:r,cssVarsMapping:s,path:n}){t.walkRules(o=>$I(e,r,o,s,n))}}),pc=class{constructor(t){this.stylable=t}resolveExpr(t,r,{diagnostics:s=new oe,resolveOptionalArgs:n=!1}={}){let o=this.stylable.resolver.resolveSymbols(t,s),{mainNamespace:i}=o,a=uS({meta:t,diagnostics:s},o,_e({prop:"-st-mixin",value:r}),u=>i[u]==="js"?"args":"named"),l=[];for(let{data:u}of a){let c=u.type,f=i[c];if(f==="class"||f==="element"){let p={name:c,kind:"css-fragment",args:[],optionalArgs:new Map};for(let[d,m]of Object.entries(u.options))p.args.push({[d]:m});if(n){let d=new Map,m=o[f][c];fS(t,m,({mixinRoot:S})=>{let h=new Set;cS({meta:t,resolver:this.stylable.resolver},S,h),h.forEach(v=>d.set(v,{name:v}))}),p.optionalArgs=d}l.push(p)}else if(f==="js"&&typeof o.js[c].symbol=="function"){let p={name:c,kind:"js-func",args:[],func:o.js[c].symbol};for(let d of Object.values(u.options))p.args.push(d.value);l.push(p)}else l.push({name:c,kind:"invalid",args:u.valueNode?.type==="function"?aS.default.stringify(u.valueNode.nodes):""})}return l}scopeNestedSelector(t,r){return ut((0,fc.parseCssSelector)(t),(0,fc.parseCssSelector)(r)).selector}};function $I(e,t,r,s,n=[]){let[o,i]=qI(e,r);if(!(!i||i.length===0)){for(let a of i)a.valid&&jI(e,{transformer:t,mixDef:a,rule:r,path:n,cssPropertyMapping:s});for(let a of o)a.remove()}}function qI(e,t){let r=[],s=e.getResolvedSymbols(e.meta),{mainNamespace:n}=s,o=[];for(let i of t.nodes)i.type==="decl"&&(i.prop==="-st-mixin"||i.prop==="-st-partial-mixin")&&(o.push(i),r=uS(e,s,i,a=>n[a]==="js"?"args":"named",r));return[o,r]}function uS(e,t,r,s,n){let{meta:o}=e,i=[],a=r.prop===ar.ALL?cc:r.prop===ar.PARTIAL?iS:null;if(!a)return n||i;if(a(r,s,e.diagnostics,!0).forEach(l=>{let u=D(o,l.type),c=l.type,f=t.mainNamespace[c];f&&(f==="js"&&typeof t.js[c].symbol=="function"||f==="class"||f==="element")?(i.push({valid:!0,data:l,symbol:u}),l.partial&&Object.keys(l.options).length===0&&e.diagnostics.report(St.PARTIAL_MIXIN_MISSING_ARGUMENTS(l.type),{node:r,word:l.type})):(i.push({valid:!1,data:l,symbol:u}),f==="js"?e.diagnostics.report(St.JS_MIXIN_NOT_A_FUNC(),{node:r,word:l.type}):f?e.diagnostics.report(St.UNSUPPORTED_MIXIN_SYMBOL(l.type,f),{node:r,word:l.type}):e.diagnostics.report(St.UNKNOWN_MIXIN(l.type),{node:r,word:l.type}))}),n){let l=n.filter(f=>f.data.partial),u=n.filter(f=>!f.data.partial),c=r.prop===ar.PARTIAL;(l.length&&r.prop===ar.PARTIAL||u.length&&r.prop===ar.ALL)&&e.diagnostics.report(St.OVERRIDE_MIXIN(r.prop),{node:r}),l.length&&u.length?i=c?u.concat(i):l.concat(i):l.length?i=c?i:l.concat(i):u.length&&(i=c?u.concat(i):i)}return i}function jI(e,t){if(BI(e,t))return;let r=e.getResolvedSymbols(e.meta),s=t.mixDef.data.type,n=r.mainNamespace[s];if(n==="class"||n==="element"){let o=r[n][s];zI(e,t,o);return}else if(n==="js"){let o=r.js[s];if(typeof o.symbol=="function")try{WI(e,t,o.symbol)}catch(i){e.diagnostics.report(St.FAILED_TO_APPLY_MIXIN(String(i)),{node:t.rule,word:t.mixDef.data.type});return}return}}function BI({meta:e,diagnostics:t},{mixDef:r,path:s,rule:n}){let o=r.symbol.name===e.root?r.symbol._kind==="class"?e.root:"default":r.data.type;return s.includes(o+" from "+e.source)?(t.report(St.CIRCULAR_MIXIN(s),{node:n,word:o}),!0):!1}function WI(e,t,r){let s=e.evaluator.stVarOverride||{},n=e.meta,o=t.mixDef,i=r(o.data.options.map(u=>u.value)),a=Hd(i);a.walkDecls(u=>{Eh(u)||(u.value=String(u))}),t.transformer.transformAst(a,n,void 0,s,[],!0);let l=o.symbol.import.request;Vu(a,e.resolver.resolvePath((0,lS.dirname)(n.source),l),n.source),Oo(a,t.rule,o.data.originDecl,e.diagnostics,!0)}function zI(e,t,r){let s=t.mixDef,n=s.data.partial,o=s.data.options,i=Object.keys(o);if(n&&i.length===0)return;let a=new Set,l=fS(e.meta,r,({mixinRoot:u,resolved:c,isRootMixin:f})=>{let p=e.evaluator.stVarOverride||{},d=t.mixDef,m=d.data.options;d.data.partial&&GI(e.meta,u,Object.keys(m));let S=Ag(m,t.transformer,e.meta,e.diagnostics,d.data.originDecl,p,t.path,t.cssPropertyMapping);cS({meta:c.meta,resolver:e.resolver},u,a);let h=c.meta,v=f&&c.meta!==e.meta?"default":d.data.type;t.transformer.transformAst(u,h,void 0,S,t.path.concat(v+" from "+e.meta.source),!0,t.transformer.createInferredSelector(h,{name:c.symbol.name,type:c.symbol._kind})),Vu(u,c.meta.source,e.meta.source)});for(let u of i)a.has(u)||e.diagnostics.report(St.UNKNOWN_ARG(u),{node:s.data.originDecl,word:u});if(l.length===1)Oo(l[0],t.rule,s.data.originDecl,t.transformer.diagnostics,!1);else if(l.length>1){let u=Sr();l.forEach(c=>u.prepend(...c.nodes)),Oo(u,t.rule,s.data.originDecl,t.transformer.diagnostics,!1)}}function cS(e,t,r=new Set){t.walk(s=>{let n=s.type==="decl"?s.value:s.type==="atrule"?s.params:"",o=ci(n);for(let i of o)for(let a of Wu(e,i))r.add(a)})}function fS(e,t,r){let s=[];for(let n of t){let o=n.symbol.name===n.meta.root,i=Ro(n.meta.sourceAst,(n.symbol._kind==="class"?".":"")+n.symbol.name,void 0,o,a=>Qu(e,a));if(r({mixinRoot:i,resolved:n,isRootMixin:o}),s.push(i),n.symbol["-st-extends"])break}return s}function GI(e,t,r){let s,n=new Set(r),o;do{o=n.size,s=new RegExp(`value\\((\\s*${Array.from(n).join("\\s*)|(\\s*")}\\s*)\\)`);for(let{text:i,name:a}of Object.values(e.getAllStVars()))!n.has(a)&&i.match(s)&&n.add(a)}while(n.size!==o);t.walkDecls(i=>{if(!i.value.match(s)){let a=i.parent;i.remove(),a?.nodes?.length===0&&a.remove()}})}var U={};fe(U,{StylablePublicApi:()=>hc,addClass:()=>lr,addDevRules:()=>JI,checkForScopedNodeAfter:()=>Pi,createSymbol:()=>vc,createWarningRule:()=>hS,diagnostics:()=>Qe,disableDirectivesForClass:()=>bc,extendTypedRule:()=>Yr,get:()=>Jr,getAll:()=>Sc,hooks:()=>YI,namespaceClass:()=>gn,parseStExtends:()=>yS,validateClassScoping:()=>XI});function Lt(e){for(let t of e){let{symbol:r}=t;if(r._kind==="class"||r._kind==="element"){if(r.alias&&!r["-st-extends"])continue;return t}}return e[0]}var HI="__";function bt(e,t){return t?t+HI+e:e}function QI(){return{name:"",version:"0.0.0",dirPath:""}}function Oi({prefix:e,namespace:t,hashSalt:r,paths:s,packageInfo:n}){return{namespace:e+t,hashPart:r+n.name+"@"+n.version+"/"+s.origin}}function dc(e,t,r,s){throw new Error(`Could not create namespace for:
${r}
the last valid namespace tried was ${JSON.stringify(t)}${s?` that was used by:
${s}
`:e?" ":""}${e?"running on strict mode":""}`)}function pS(e){let{prefix:t="",hashSalt:r="",hashFragment:s="minimal",buildNamespace:n=Oi,getPackageInfo:o=QI,handleNoMatch:i=dc,hashSeparator:a="-",strict:l=!1,hashFn:u=tn,normalizePath:c}=e,f=new Map;return(p,d,m=d)=>{let S=o(m),h={prefix:t,hashSalt:r,namespace:p,paths:{file:S.dirPath?c(S.dirPath,m):m,origin:S.dirPath?c(S.dirPath,d):d},packageInfo:S},{namespace:v,hashPart:T}=n(h)??Oi(h),A=u(T).toString(),x=typeof s=="number"?s:s==="full"?A.length:0,C="";for(;x<=A.length;){let N=A.slice(0,x);C=v+(N?a+N:"");let M=f.get(C);if(!M)return f.set(C,m),C;if(M===m)return C;if(l)return i(l,C,m,M);x++}return i(l,C,m,f.get(C))}}var yc=I(it());var mc=I(De());var mS=I(Ae());var KI={"-st-root":!0,"-st-states":!0,"-st-extends":!0,"-st-global":!0},Qe={INVALID_FUNCTIONAL_SELECTOR:Fe.INVALID_FUNCTIONAL_SELECTOR,UNSCOPED_CLASS:y("00002","warning",e=>`unscoped class "${e}" will affect all elements of the same type in the document`),STATE_DEFINITION_IN_ELEMENT:y("11002","error",()=>"cannot define pseudo states inside a type selector"),STATE_DEFINITION_IN_COMPLEX:y("11003","error",()=>"cannot define pseudo states inside complex selectors"),OVERRIDE_TYPED_RULE:y("11006","warning",(e,t)=>`override "${e}" on typed rule "${t}"`),CANNOT_RESOLVE_EXTEND:y("11004","error",e=>`cannot resolve '-st-extends' type for '${e}'`),CANNOT_EXTEND_IN_COMPLEX:y("11005","error",()=>'cannot define "-st-extends" inside a complex selector'),EMPTY_ST_GLOBAL:y("00003","error",()=>"-st-global must contain a valid selector"),UNSUPPORTED_MULTI_SELECTORS_ST_GLOBAL:y("00004","error",()=>"unsupported multi selector in -st-global"),IMPORT_ISNT_EXTENDABLE:y("00005","error",()=>"import is not extendable"),CANNOT_EXTEND_UNKNOWN_SYMBOL:y("00006","error",e=>`cannot extend unknown symbol "${e}"`),CANNOT_EXTEND_JS:y("00007","error",()=>"JS import is not extendable"),UNKNOWN_IMPORT_ALIAS:y("00008","error",e=>`cannot use alias for unknown import "${e}"`),DISABLED_DIRECTIVE:y("00009","error",(e,t)=>{let r=t==="-st-extends"?` use "@st .${e} :is(.base)" instead`:t==="-st-global"?`use "@st .${e} => :global(<selector>)" instead`:t==="-st-states"?`use "@st .${e} { @st .state; }" instead`:"";return`cannot use ${t} on .${e} since class is defined with "@st" - ${r}`})},gc=_.key("st-structure"),YI=k({metaInit({meta:e}){_.set(e.data,gc,{classesDefinedWithAtSt:new Set})},analyzeSelectorNode({context:e,node:t,rule:r}){t.nodes&&e.diagnostics.report(Qe.INVALID_FUNCTIONAL_SELECTOR("."+t.value,"class"),{node:r,word:Y(t)}),lr(e,t.value,r)},analyzeDeclaration({context:e,decl:t}){e.meta.type==="stylable"&&ZI(t)&&eO(e,t)},transformResolve({context:e}){let t=e.getResolvedSymbols(e.meta),r={};for(let[s,n]of Object.entries(t.class)){let o=[],i=!0;for(let{meta:l,symbol:u}of n){if(!i&&u["-st-root"])break;if(i=!1,u["-st-global"]){let c=!0,f=u["-st-global"].reduce((p,d)=>(d.type==="class"?(p.push(d.value),e.meta.globals[d.value]=!0):c=!1,p),[]);c&&o.push(...f);continue}u.alias&&!u["-st-extends"]||o.push(bt(u.name,l.namespace))}let a=li(o.join(" "));a&&(r[s]=a)}return r},transformSelectorNode({context:e,selectorContext:t,node:r}){let{originMeta:s,resolver:n}=t,i=e.getResolvedSymbols(e.meta).class[r.value]||[{_kind:"css",meta:s,symbol:vc({name:r.value})}];t.setNextSelectorScope(i,r,r.value);let{symbol:a,meta:l}=Lt(i);t.originMeta===l&&a["-st-states"]&&rS(t.selectorStr,t.ruleOrAtRule,e.meta,n,e.diagnostics),t.transform&&gn(l,a,r)},transformJSExports({exports:e,resolved:t}){Object.assign(e.classes,t)}}),hc=class{constructor(t){this.stylable=t}transformIntoSelector(t,r){let s=D(t,r),n=s?._kind==="import"?this.stylable.resolver.deepResolve(s):{_kind:"css",meta:t,symbol:s};if(n?._kind!=="css"||n.symbol?._kind!=="class")return;let o={type:"class",value:"",start:0,end:0,dotComments:[]};return gn(n.meta,n.symbol,o,!1),(0,yc.stringifySelectorAst)(o)}};function Jr(e,t){return D(e,t,"class")}function Sc(e){return ue(e,"class")}function vc(e){let t=e["-st-parts"]||{};return{...e,_kind:"class","-st-parts":t}}function lr(e,t,r){let s=D(e.meta,t,"class");if(!s){let n=D(e.meta,t);n&&n._kind!=="import"&&(n=void 0),s=de({context:e,symbol:vc({name:t,alias:n}),node:r,safeRedeclare:!!n})}return e.meta.type==="css"&&!s["-st-global"]&&(s["-st-global"]=[{type:"class",value:t,dotComments:[],start:0,end:0}]),s}function gn(e,t,r,s=!0){if("-st-global"in t&&t["-st-global"])if(s){let n=t["-st-global"];mh(r,"global",[{type:"selector",nodes:n,after:"",before:"",end:0,start:0}])}else{let n=Yt(r),o=t["-st-global"];n.nodes=o}else r=Js(r),r.value=$u(t.name,e.namespace)}function dS(e,t){if("-st-global"in t&&t["-st-global"]){let r=t["-st-global"];return(0,yc.stringifySelectorAst)(r)}else return"."+$u(t.name,e.namespace)}function JI({getResolvedSymbols:e,meta:t}){let r=e(t);for(let s of Object.values(r.class)){let n=s[0];if(s.length>1&&n.symbol["-st-extends"]){let o=s[s.length-1];t.targetAst.append(hS("."+o.symbol.name,dS(o.meta,o.symbol),(0,mc.basename)(o.meta.source),"."+n.symbol.name,dS(n.meta,n.symbol),(0,mc.basename)(n.meta.source)))}}}function hS(e,t,r,s,n,o){let i=`"class extending component '${s} => ${n}' in stylesheet '${o}' was set on a node that does not extend '${e} => ${t}' from stylesheet '${r}'" !important`;return ye({raws:{between:" "},selector:`${n}:not(${t})::before`,nodes:[_e({prop:"content",value:i}),_e({prop:"display",value:"block !important"}),_e({prop:"font-family",value:"monospace !important"}),_e({prop:"background-color",value:"red !important"}),_e({prop:"color",value:"white !important"})]})}function XI({context:e,classSymbol:t,locallyScoped:r,reportUnscoped:s,node:n,nodes:o,index:i,rule:a}){if(e.meta.type!=="stylable")return!0;if(t.alias){if(r===!1)return Pi(e,a,o,i)===!1?(s&&e.diagnostics.report(Qe.UNSCOPED_CLASS(n.value),{node:a,word:n.value}),!1):!0}else return!0;return r}function Pi(e,t,r,s){for(let n=s+1;n<r.length;n++){let o=r[n];if(!o||o.type==="combinator")break;if(o.type==="class"){let i=o.value,a=lr(e,i,t);if(a&&!a.alias)return!0}}return!1}function ZI(e){return e.prop in KI}function bc(e,t){let{classesDefinedWithAtSt:r}=_.getUnsafe(e.meta.data,gc);r.add(t)}function eO(e,t){let r=t.parent;if(r?.type!=="rule")return;let n=xo(r.selector).reduce((a,{type:l})=>a&&a!==l?"complex":l,""),o=n!=="complex",{classesDefinedWithAtSt:i}=_.getUnsafe(e.meta.data,gc);if(n==="class"&&i.has(r.selector.replace(".",""))){e.diagnostics.report(Qe.DISABLED_DIRECTIVE(r.selector.replace(".",""),t.prop),{node:t});return}else if(t.prop==="-st-states")o&&n!=="type"?Yr(e,t,r.selector,"-st-states",xi(t.value,t,e.diagnostics)):n==="type"?e.diagnostics.report(Qe.STATE_DEFINITION_IN_ELEMENT(),{node:t}):e.diagnostics.report(Qe.STATE_DEFINITION_IN_COMPLEX(),{node:t});else if(t.prop==="-st-extends")if(o){let a=yS(t.value),l=a.types[0]&&a.types[0].symbolName,u=D(e.meta,l);u&&(u._kind==="import"||u._kind==="class"||u._kind==="element")||t.value===e.meta.root?Yr(e,t,r.selector,"-st-extends",Po(u)||u):e.diagnostics.report(Qe.CANNOT_RESOLVE_EXTEND(t.value),{node:t,word:t.value})}else e.diagnostics.report(Qe.CANNOT_EXTEND_IN_COMPLEX(),{node:t});else if(t.prop==="-st-global"&&o&&n!=="type"){let a=r.selector.replace(".",""),l=Jr(e.meta,a);if(l){let u=tO(e,t);u&&(l["-st-global"]=u)}}}function Yr(e,t,r,s,n){let o=r.replace(".",""),i=D(e.meta,o);i&&i[s]&&e.diagnostics.report(Qe.OVERRIDE_TYPED_RULE(s,o),{node:t,word:o}),i&&(i[s]=n)}function yS(e){let t=(0,mS.default)(e),r=[];return t.walk(s=>{if(s.type==="function"){let n=an(s);return r.push({symbolName:s.value,args:n}),!1}else s.type==="word"&&r.push({symbolName:s.value,args:null})},!1),{ast:t,types:r}}function tO(e,t){let r=L(t.value.replace(/^['"]/,"").replace(/['"]$/,""),{clone:!0});if(r[0])r.length>1&&e.diagnostics.report(Qe.UNSUPPORTED_MULTI_SELECTORS_ST_GLOBAL(),{node:t});else{e.diagnostics.report(Qe.EMPTY_ST_GLOBAL(),{node:t});return}return r[0].nodes}var Ee={};fe(Ee,{addType:()=>gS,createSymbol:()=>Sn,diagnostics:()=>_c,get:()=>sO,getAll:()=>nO,hooks:()=>rO,validateTypeScoping:()=>oO});var _c={INVALID_FUNCTIONAL_SELECTOR:Fe.INVALID_FUNCTIONAL_SELECTOR,UNSCOPED_TYPE_SELECTOR:y("03001","warning",e=>`unscoped type selector "${e}" will affect all elements of the same type in the document`)},rO=k({analyzeSelectorNode({context:e,node:t,rule:r,walkContext:[s,n]}){t.nodes&&e.diagnostics.report(_c.INVALID_FUNCTIONAL_SELECTOR(t.value,"type"),{node:r,word:Y(t)}),gS(e,t.value,r)},transformSelectorNode({context:e,node:t,selectorContext:r}){let s=e.getResolvedSymbols(e.meta),n=s.element[t.value];if(!n){let o=s.class[t.value];o?.length>1&&o[0].symbol.alias?n=s.class[t.value]:n=[{_kind:"css",meta:e.meta,symbol:Sn({name:"*"})}]}if(r.setNextSelectorScope(n,t,t.value),r.transform&&n&&n.length>1){let{symbol:o,meta:i}=Lt(n);o._kind==="class"?gn(i,o,t):t.value=o.name}}});function sO(e,t){return D(e,t,"element")}function nO(e){return ue(e,"element")}function Sn(e){let t=e["-st-parts"]||{};return{...e,_kind:"element","-st-parts":t}}function gS(e,t,r){if(!D(e.meta,t,"element")&&Jt(t)){let n=D(e.meta,t);n&&n._kind!=="import"&&(n=void 0),de({context:e,symbol:Sn({name:t,alias:n}),node:r,safeRedeclare:!!n})}return D(e.meta,t,"element")}function oO({context:e,locallyScoped:t,reportUnscoped:r,node:s,nodes:n,index:o,rule:i}){if(e.meta.type!=="stylable")return!0;if(t===!1){if(Pi(e,i,n,o)===!1)return r&&e.diagnostics.report(_c.UNSCOPED_TYPE_SELECTOR(s.value),{node:i,word:s.value}),!1;t=!0}return t}var Xr={};fe(Xr,{diagnostics:()=>AS,hooks:()=>aO});var _S=I(Ac()),AS={UNKNOWN_STATE_USAGE:y("08001","error",e=>`unknown pseudo-class "${e}"`)},aO=k({transformSelectorNode({context:e,selectorContext:t}){let{inferredSelector:r,node:s,ruleOrAtRule:n,scopeSelectorAst:o}=t;if(s.type!=="pseudo_class")return;let i=s.value,a=r.getPseudoClasses({name:i})[i],l=!!a;if(a&&t.transform&&Ri(a.state,a.meta,s.value,s,a.meta.namespace,e.resolver,e.diagnostics,n),s.nodes&&!l)if(s.value==="global"){t.experimentalSelectorInference&&t.setNextSelectorScope([{_kind:"css",meta:e.meta,symbol:Sn({name:"*"})}],s);return}else{let u=s.value.match(/not|any|-\w+?-any|matches|is|where|has|local|nth-child|nth-last-child/),c=s.nodes[0]&&s.nodes[0].type==="nth"?s.nodes.slice(1):s.nodes,f=t.createNestedContext(c,t.inferredSelector);if(o(f),u&&c.length){if(t.experimentalSelectorInference&&!s.value.match(/not|has/)){let p=t.lastInferredSelectorNode;p&&p.type!=="combinator"&&f.inferredMultipleSelectors.add(t.inferredSelector),t.setNextSelectorScope(f.inferredMultipleSelectors,s)}t.elements[t.selectorIndex].push(...f.elements[0])}}!l&&!Qd.includes(s.value)&&!(0,_S.default)(s.value)&&!t.isDuplicateStScopeDiagnostic()&&e.diagnostics.report(AS.UNKNOWN_STATE_USAGE(s.value),{node:n,word:s.value})}});var he={};fe(he,{diagnostics:()=>Ft,get:()=>cO,getRuntimeTypedDefinitionNames:()=>dO,getTransformedName:()=>Cc,hooks:()=>uO,scopeCSSVar:()=>mO});var Re="st-global",lO=new RegExp(`^${Re}\\((.*?)\\)$`);function Zr(e){return e.match(lO)?.[1]}function es(e){if(e.value!==Re)return;let t="",r=!1;for(let{type:s,value:n}of e.nodes)s==="word"?t=n:s==="comment"||s==="space"||(r=!0);return r?void 0:t}var Di=I(Ae()),Ft={...Xt,ILLEGAL_CSS_VAR_USE:y("01005","error",e=>`a custom css property must begin with "--" (double-dash), but received "${e}"`),ILLEGAL_CSS_VAR_ARGS:y("01006","error",e=>`custom property "${e}" usage (var()) must receive comma separated values`),DEPRECATED_ST_GLOBAL_CUSTOM_PROPERTY:y("01007","info",()=>`"st-global-custom-property" is deprecated and will be removed in the next version. Use "@property" with ${Re}`),GLOBAL_CSS_VAR_MISSING_COMMA:y("01008","error",e=>`"@st-global-custom-property" received the value "${e}", but its values must be comma separated`),ILLEGAL_GLOBAL_CSS_VAR:y("01009","error",e=>`"@st-global-custom-property" received the value "${e}", but it must begin with "--" (double-dash)`),MISSING_PROP_NAME:y("01010","error",()=>'missing custom property name for "var(--[PROP NAME])"'),UNDEFINED_CSS_CUSTOM_PROP:y("01011","error",e=>`Undefined "${e}" custom property. Please define the property using '@property' or import it with '@st-import' when 'strictCustomProperty' is enabled.`)},ki=_.key("custom-property"),uO=k({metaInit({meta:e}){_.set(e.data,ki,{stCustomGlobalProperty:{},typedDefinitions:{}})},analyzeInit(e){for(let[t,r]of Object.entries(ue(e.meta,"import")))if(Ie(t)){let s=D(e.meta,t,"import");if(!s){console.warn(`imported symbol "${t}" not found on "${e.meta.source}"`);continue}vn({context:e,node:r.import.rule,name:t,global:!1,final:!0,alias:s})}},analyzeAtRule({context:e,atRule:t}){let r=e.meta.type==="stylable";if(t.name==="property"){let s=t.params,n=!r,o=r?Zr(s):void 0;o!==void 0&&(s=o.trim(),n=!0);let{stCustomGlobalProperty:i,typedDefinitions:a}=_.getUnsafe(e.meta.data,ki);i[s]&&(n=!0),vn({context:e,node:t,name:s,global:n,final:!0}),Jh(t,e.diagnostics),t.nodes&&(a[s]??=[],a[s].push(t))}else t.name==="st-global-custom-property"&&r&&pO(e,t)},analyzeDeclaration({context:e,decl:t}){Ie(t.prop)&&vn({context:e,node:t,name:t.prop,global:e.meta.type==="css",final:!1}),t.value.includes("var(")&&fO(e,t)},prepareAST({context:e,node:t,toRemove:r}){t.type==="atrule"&&t.name==="st-global-custom-property"&&e.meta.type==="stylable"&&r.push(t)},transformResolve({context:{meta:e,getResolvedSymbols:t}}){let r={},s=t(e);for(let[n,o]of Object.entries(ue(e,"cssVar"))){let i=s.cssVar[n]||{_kind:"css",symbol:o,meta:e};r[n]=Cc(i)}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(t.name==="property")if(t.nodes?.length){let s=Zr(t.params)||t.params;r[s]&&(t.params=r[s]||t.params)}else e.meta.type==="stylable"&&t.remove()},transformDeclaration({decl:e,resolved:t}){e.prop=t[e.prop]||e.prop},transformValue({node:e,data:{cssVarsMapping:t}}){let{value:r}=e,s=e.nodes[0]?.value||"";Ie(s)&&t&&t[s]&&(e.nodes[0].value=t[s]),e.nodes.length>2&&(e.resolvedValue=tt(r,e))},transformJSExports({exports:e,resolved:t}){for(let r of Object.keys(t))e.vars[r.slice(2)]=t[r]}});function cO(e,t){return D(e,t,"cssVar")}function vn({context:e,node:t,name:r,global:s,final:n,alias:o}){if(!Ie(r)){e.diagnostics.report(Ft.ILLEGAL_CSS_VAR_USE(r),{node:t,word:r});return}if(!n){if(D(e.meta,r,"cssVar"))return;e.meta.type==="stylable"&&e.meta.flags.strictCustomProperty&&e.diagnostics.report(Ft.UNDEFINED_CSS_CUSTOM_PROP(r),{node:t,word:r})}de({context:e,symbol:{_kind:"cssVar",name:r,global:s,alias:o},safeRedeclare:!n||!!o,node:t})}function fO(e,t){(0,Di.default)(t.value).walk(s=>{if(s.type==="function"&&s.value==="var"&&s.nodes){let n=s.nodes[0];if(!n){e.diagnostics.report(Ft.MISSING_PROP_NAME(),{node:t});return}if(!Ky(s,1)){let o=Di.default.stringify(s.nodes);e.diagnostics.report(Ft.ILLEGAL_CSS_VAR_ARGS(o),{node:t,word:o})}vn({context:e,name:Di.default.stringify(n)?.trim()||"",node:t,global:e.meta.type==="css",final:!1})}})}function pO(e,t){e.diagnostics.report(Ft.DEPRECATED_ST_GLOBAL_CUSTOM_PROPERTY(),{node:t});let r=t.params.split(",");if(t.params.trim().split(/\s+/g).filter(n=>n!==",").length>r.length){e.diagnostics.report(Ft.GLOBAL_CSS_VAR_MISSING_COMMA(t.params),{node:t,word:t.params});return}for(let n of r){let o=n.trim();if(Ie(o)){vn({context:e,node:t,name:o,global:!0,final:!0});let{stCustomGlobalProperty:i}=_.getUnsafe(e.meta.data,ki);i[o]=D(e.meta,o,"cssVar")}else e.diagnostics.report(Ft.ILLEGAL_GLOBAL_CSS_VAR(o),{node:t,word:o})}}function dO(e){let{typedDefinitions:t}=_.getUnsafe(e.data,ki);return Object.keys(t)}function Cc({symbol:e,meta:t}){return e.global?e.name:uu(t.namespace,e.name.slice(2))}function mO(e,t,r){let s=e.deepResolve(D(t,r));return s&&s._kind==="css"&&s.symbol&&s.symbol._kind==="cssVar"?Cc(s):D(t,r,"cssVar")?.global?r:uu(t.namespace,r.slice(2))}var Pe={};fe(Pe,{diagnostics:()=>ts,get:()=>gO,getAll:()=>SO,getKeyframesStatements:()=>yO,hooks:()=>hO,reservedKeyFrames:()=>ES});var CS=I(Ae());var ES=["none","inherited","initial","unset","linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end","start","end","infinite","normal","reverse","alternate","alternate-reverse","forwards","backwards","both","running","paused"],ts={ILLEGAL_KEYFRAMES_NESTING:y("02001","error",()=>'illegal nested "@keyframes"'),MISSING_KEYFRAMES_NAME:y("02002","error",()=>'"@keyframes" missing parameter'),MISSING_KEYFRAMES_NAME_INSIDE_GLOBAL:y("02003","error",()=>`"@keyframes" missing parameter inside "${Re}()"`),KEYFRAME_NAME_RESERVED:y("02004","error",e=>`keyframes "${e}" is reserved`),UNKNOWN_IMPORTED_KEYFRAMES:y("02005","error",(e,t)=>`cannot resolve imported keyframes "${e}" from stylesheet "${t}"`)},Mi=_.key("keyframes");Dt.set("keyframes",(e,t,r,s)=>{TS({context:e,name:t,importName:r,ast:s.rule,importDef:s})});var hO=k({metaInit({meta:e}){_.set(e.data,Mi,{statements:[],paths:{},imports:[]})},analyzeAtRule({context:e,atRule:t}){let{params:r}=t;if(!bh(t,!0)){e.diagnostics.report(ts.ILLEGAL_KEYFRAMES_NESTING(),{node:t});return}let{statements:s}=_.getUnsafe(e.meta.data,Mi);if(s.push(t),!r){e.diagnostics.report(ts.MISSING_KEYFRAMES_NAME(),{node:t});return}let n=e.meta.type==="stylable",o,i=n?Zr(r):void 0;if(i!==void 0&&(r=i,o=!0),r===""){e.diagnostics.report(ts.MISSING_KEYFRAMES_NAME_INSIDE_GLOBAL(),{node:t});return}ES.includes(r)&&e.diagnostics.report(ts.KEYFRAME_NAME_RESERVED(r),{node:t,word:r}),TS({context:e,name:r,importName:r,ast:t,global:n?o:!0})},transformResolve({context:e}){let t=ue(e.meta,"keyframes"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.keyframes[n];i?r[n]=i:o.import&&e.diagnostics.report(ts.UNKNOWN_IMPORTED_KEYFRAMES(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){let s=e.meta.type==="stylable"?Zr(t.params):void 0,n=s??t.params;if(!n)return;let o=r[n];t.params=o?Ec(o):s??bt(n,e.meta.namespace)},transformDeclaration({decl:e,resolved:t}){let r=(0,CS.default)(e.value);r.nodes.forEach(s=>{let n=t[s.value],o=n&&Ec(n);o&&(s.value=o)}),e.value=r.toString()},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.keyframes[r]=Ec(s)}});function yO({data:e}){let{statements:t}=_.getUnsafe(e,Mi);return t}function gO(e,t){return D(e,t,"keyframes")}function SO(e){return ue(e,"keyframes")}function TS({context:e,name:t,importName:r,ast:s,global:n,importDef:o}){let a=vO(e.meta,t,s,!!o)&&!!D(e.meta,t,"keyframes");de({context:e,node:s,localName:t,symbol:{_kind:"keyframes",alias:t,name:r,global:n,import:o},safeRedeclare:a})}function vO(e,t,r,s){let n="",o=r.parent;for(;o;)o.type==="rule"?n+=" -> "+o.selector:o.type==="atrule"&&(n+=" -> "+o.name+" "+o.params),o=o.parent;let{paths:i,imports:a}=_.getUnsafe(e.data,Mi);i[n]||(i[n]=[]);let l=!i[n].includes(t),u=a.includes(t);return i[n].push(t),s&&a.push(t),l&&!u}function Ec({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}var xe={};fe(xe,{diagnostics:()=>cr,get:()=>_O,getAll:()=>AO,getDefinition:()=>CO,hooks:()=>bO});var ur=I(Ae());var cr={MISSING_LAYER_NAME_INSIDE_GLOBAL:y("19001","warning",()=>`"@layer" missing parameter inside "${Re}()"`),LAYER_SORT_STATEMENT_WITH_STYLE:y("19002","error",()=>'"@layer" ordering statement cannot have a style block'),RESERVED_KEYWORD:y("19003","error",e=>`"@layer" name cannot be reserved word "${e}"`),NOT_IDENT:y("19004","error",e=>`"@layer" expected ident, but got "${e}"`),RECONFIGURE_IMPORTED:y("19005","error",e=>`cannot reconfigure imported layer "${e}"`),UNKNOWN_IMPORTED_LAYER:y("19006","error",(e,t)=>`cannot resolve imported layer "${e}" from stylesheet "${t}"`)},bn=_.key("layer");Dt.set("layer",(e,t,r,s)=>{wc({context:e,name:t,importName:r,ast:s.rule,global:!1,importDef:s})});var bO=k({metaInit({meta:e}){_.set(e.data,bn,{analyzedParams:{},layerDefs:{}})},analyzeAtRule({context:e,atRule:t}){if(t.params){if(t.name==="import")TO(e,t);else if(t.name==="layer"){let r=_.getUnsafe(e.meta.data,bn),s=EO(t.params,e.diagnostics,t,e.meta.type==="stylable");s.multiple&&t.nodes&&e.diagnostics.report(cr.LAYER_SORT_STATEMENT_WITH_STYLE(),{node:t}),r.analyzedParams[t.params]=s;for(let n of s.names)wc({context:e,name:n,importName:n,global:!!s.globals[n]||e.meta.type==="css",ast:t})}}},transformResolve({context:e}){let t=ue(e.meta,"layer"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.layer[n];i?r[n]=i:o.import&&e.diagnostics.report(cr.UNKNOWN_IMPORTED_LAYER(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(t.params){if(t.name==="import")xO(e,t,r);else if(t.name==="layer"){let{analyzedParams:s}=_.getUnsafe(e.meta.data,bn),n=s[t.params];n&&(t.params=n.transformNames(o=>r[o]?Tc(r[o]):o))}}},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.layers[r]=Tc(s)}});function _O(e,t){return D(e,t,"layer")}function AO(e){return ue(e,"layer")}function CO(e,t){return _.getUnsafe(e.data,bn).layerDefs[t]}function EO(e,t,r,s){let n=[],o={},i=!0,a=!1,l=(0,ur.default)(e).nodes,u={};for(let c=0;c<l.length;++c){let f=l[c],{type:p,value:d}=f;if(p==="word"){if(i){let m=[];for(let S of xc(d)){let h={...f,value:S};m.length&&m.push({...f,value:"."}),m.push(h),u[S]??=[],u[S].push(h),n.push(S)}i=!1,l.splice(c,1,...m)}}else if(p==="function"&&d===Re&&i&&s){let m=es(f);m?(u[m]??=[],u[m].push(f),n.push(m),o[m]=!0):m===""&&t.report(cr.MISSING_LAYER_NAME_INSIDE_GLOBAL(),{node:r}),i=!1}else if(p==="div"&&d===",")i=!0,a=!0;else if(p!=="comment"){i=!1;let m=ur.default.stringify(f);t.report(cr.NOT_IDENT(m),{node:r,word:m})}}return{names:n,globals:o,multiple:a,transformNames(c){for(let[f,p]of Object.entries(u)){let d=c(f);for(let m of p)m.type==="function"&&(m.type="word"),m.value=d}return ur.default.stringify(l)}}}function xc(e){if(!e.includes("."))return[e];let t=[],r=0;for(let s=0;s<e.length;++s)switch(e[s]){case".":{e[s-1]!=="\\"&&(t.push(e.substring(r,s)),r=s+1);break}}return r<=e.length-1&&t.push(e.substring(r,e.length)),t}function TO(e,t){let r=(0,ur.default)(t.params).nodes;for(let s=0;s<r.length;++s){let n=r[s],{type:o,value:i}=n;if(o==="function"&&i==="layer"&&n.nodes.length){for(let a of n.nodes)if(a.type==="word")for(let l of xc(a.value))wc({context:e,name:l,importName:l,ast:t,global:!1})}}}function xO(e,t,r){let s=(0,ur.default)(t.params).nodes;for(let n=0;n<s.length;++n){let o=s[n],{type:i,value:a}=o;if(i==="function"&&a==="layer"&&o.nodes.length)for(let l of o.nodes){let{type:u,value:c}=l;u==="word"&&(l.value=xc(c).map(f=>r[f]?Tc(r[f]):f).join("."))}}t.params=ur.default.stringify(s)}function Tc({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}function wc({context:e,name:t,importName:r,ast:s,global:n,importDef:o}){let i=D(e.meta,t,"layer");if(i)!i.import&&n?i.global=!0:i.import&&n&&e.diagnostics.report(cr.RECONFIGURE_IMPORTED(t),{node:s,word:t});else{Kd.includes(t)&&(n=!0,e.diagnostics.report(cr.RESERVED_KEYWORD(t),{node:s,word:t}));let a=_.getUnsafe(e.meta.data,bn);a.layerDefs[t]=s,de({context:e,node:s,localName:t,symbol:{_kind:"layer",name:r,alias:t,global:n,import:o},safeRedeclare:!1})}}var we={};fe(we,{diagnostics:()=>qe,get:()=>NO,getAll:()=>IO,getDefinition:()=>OO,hooks:()=>wO});var _t=I(Ae()),qe={UNEXPECTED_DECL_VALUE:y("20001","error",e=>`unexpected value: ${e}`),UNKNOWN_DECL_TYPE:y("20002","error",e=>`unknown container type: ${e}`),MISSING_DECL_TYPE:y("20003","error",()=>"missing container shorthand type"),INVALID_CONTAINER_NAME:y("20004","error",e=>`invalid container name: ${e}`),UNRESOLVED_CONTAINER_NAME:y("20005","error",e=>`unresolved container name: ${e}`),UNKNOWN_IMPORTED_CONTAINER:y("20006","error",(e,t)=>`cannot resolve imported container name "${e}" from stylesheet "${t}"`),MISSING_CONTAINER_NAME_INSIDE_GLOBAL:y("20007","warning",()=>`Missing container name inside "${Re}()"`),UNEXPECTED_DEFINITION:y("20008","error",e=>`Unexpected value in container definition: "${e}""`)},_n=_.key("container");Dt.set("container",(e,t,r,s)=>{Nc({context:e,name:t,importName:r,ast:s.rule,global:!1,importDef:s,forceDefinition:!0})});var wO=k({metaInit({meta:e}){_.set(e.data,_n,{"container-name":{},container:{},definitions:{}})},analyzeDeclaration({context:e,decl:t}){let r=t.prop.toLowerCase();if(r!=="container-name"&&r!=="container")return;let n=_.getUnsafe(e.meta.data,_n)[r],o=t.value;if(n[o])return;let i=n[o]=RO(t,e);for(let{name:a,global:l}of i.containers)Nc({context:e,ast:t,name:a,importName:a,global:l,forceDefinition:!1})},analyzeAtRule({context:e,atRule:t}){if(!t.nodes){let r=(0,_t.default)(t.params).nodes,s=!0,n="",o=!1;for(let i of r)if(!(i.type==="comment"||i.type==="space")){if(s&&i.type==="word")n=i.value;else if(s&&i.type==="function"&&i.value===Re)n=es(i)||"",o=!0;else{let a=_t.default.stringify(i);e.diagnostics.report(qe.UNEXPECTED_DEFINITION(a),{node:t,word:a});break}s=!1}n&&(xS[n]&&e.diagnostics.report(qe.INVALID_CONTAINER_NAME(n),{node:t,word:n}),Nc({context:e,ast:t,name:n,importName:n,global:o,forceDefinition:!0}))}},transformResolve({context:e}){let t=ue(e.meta,"container"),r={},s=e.getResolvedSymbols(e.meta);for(let[n,o]of Object.entries(t)){let i=s.container[n];i?r[n]=i:o.import&&e.diagnostics.report(qe.UNKNOWN_IMPORTED_CONTAINER(o.name,o.import.request),{node:o.import.rule,word:o.name})}return r},transformDeclaration({context:e,decl:t,resolved:r}){let s=t.prop.toLowerCase();if(s!=="container-name"&&s!=="container")return;let o=_.getUnsafe(e.meta.data,_n)[s],i=t.value;t.value=o[i].transformNames(a=>r[a]?Rc(r[a]):a)},transformAtRuleNode({context:e,atRule:t,resolved:r}){if(!t.nodes){t.remove();return}let s=(0,_t.default)(t.params).nodes,n=!1;e:for(let o of s)if(!(o.type==="comment"||o.type==="space"))if(o.type==="word"){let i=r[o.value];i?(o.value=Rc(i),n=!0):e.diagnostics.report(qe.UNRESOLVED_CONTAINER_NAME(o.value),{node:t,word:o.value});break e}else if(o.type==="function"&&o.value===Re){let i=es(o)||"";if(i){n=!0;let a=o;a.type="word",a.value=i}}else break e;n&&(t.params=_t.default.stringify(s)),t.params=e.evaluator.evaluateValue(e,{value:t.params,meta:e.meta,node:t,initialNode:t}).outputValue},transformJSExports({exports:e,resolved:t}){for(let[r,s]of Object.entries(t))e.containers[r]=Rc(s)}}),xS={and:!0,not:!0,or:!0};function RO(e,t){let{prop:r,value:s}=e,n=[],o={},i=(0,_t.default)(s).nodes,a=!1,l=u=>{let{type:c,value:f}=u;if(!(c==="comment"||c==="space"))if(c==="word"||c==="function"&&f===Re){let p=c==="function",d=p?es(u)||"":u.value;if(p&&!d&&t.diagnostics.report(qe.MISSING_CONTAINER_NAME_INSIDE_GLOBAL(),{node:e}),d==="none"){a=!0;return}p?(u.type="word",u.value=d):(n.push({name:d,global:p}),o[d]??=[],o[d].push(u)),xS[d]&&t.diagnostics.report(qe.INVALID_CONTAINER_NAME(d),{node:e,word:d})}else{let p=_t.default.stringify(u);return t.diagnostics.report(qe.UNEXPECTED_DECL_VALUE(p),{node:e,word:p}),!1}return!0};if(r.toLowerCase()==="container-name"){for(let u of i)if(!l(u))break}else{let u="name";for(let c of i){let{type:f,value:p}=c;if(!(f==="comment"||f==="space"))if(u==="name"){if(f==="div"&&p==="/")u="type";else if(!l(c))break}else if(f==="word"&&u==="type")p!=="normal"&&p!=="size"&&p!=="inline-size"&&t.diagnostics.report(qe.UNKNOWN_DECL_TYPE(p),{node:e,word:p}),u="";else{let d=_t.default.stringify(c);t.diagnostics.report(qe.UNEXPECTED_DECL_VALUE(d),{node:e,word:d})}}u==="type"&&t.diagnostics.report(qe.MISSING_DECL_TYPE(),{node:e})}return n.length>0&&a&&t.diagnostics.report(qe.INVALID_CONTAINER_NAME("none"),{node:e,word:"none"}),{containers:n,transformNames(u){for(let[c,f]of Object.entries(o)){let p=u(c);for(let d of f)d.type==="function"&&(d.type="word"),d.value=p}return _t.default.stringify(i)}}}function NO(e,t){return D(e,t,"container")}function IO(e){return ue(e,"container")}function OO(e,t){let{definitions:r}=_.getUnsafe(e.data,_n);return r[t]}function Rc({symbol:e,meta:t}){return e.global?e.alias:bt(e.alias,t.namespace)}function Nc({context:e,name:t,importName:r,ast:s,global:n,importDef:o,forceDefinition:i}){let{definitions:a}=_.getUnsafe(e.meta.data,_n),u=!D(e.meta,t,"container");(i||u)&&(e.meta.type!=="stylable"&&(n=!0),a[t]=s,de({context:e,node:s,localName:t,symbol:{_kind:"container",name:r,alias:t,global:n,import:o},safeRedeclare:!1}))}var Li={};fe(Li,{hooks:()=>PO});var PO=k({transformAtRuleNode({atRule:e,context:t}){e.name==="media"&&(e.params=t.evaluator.evaluateValue(t,{value:e.params,meta:t.meta,node:e,initialNode:e}).outputValue)}});var je={};fe(je,{createPartSymbol:()=>DS,diagnostics:()=>ne,experimentalMsg:()=>PS,getPart:()=>kS,getPartNames:()=>VO,getParts:()=>FO,hooks:()=>kO,isStructureMode:()=>LO,setPart:()=>Vi});var Fi={},DO="__deprecateFromStylable-";function RS(e,t,r={}){let s=r.objectType?r.objectType+".":"",n=r.pleaseUse?`, please use ${r.pleaseUse}`:"",o=r.enumerable||!1,i=r.valueOnThis?`${DO}${t}`:"";!i&&!Fi[t]&&(Fi[t]=new WeakMap),Object.defineProperty(e,t,{configurable:!0,get(){return Oc(`"${s}${t}" is deprecated${n}`),i?this[i]:Fi[t].get(this)},set(a){return i?this[i]=a:Fi[t].set(this,a),a},enumerable:o})}var wS={},Ic=!0;function Oc(e){Ic&&!wS[e]&&(wS[e]=!0,console.warn(e))}function NS(e){Ic=!1;try{return e()}finally{Ic=!0}}var rs=I(tc());var Ui=I(it());var ne={GLOBAL_MAPPING_LIMITATION:y("21000","error",()=>"Currently class mapping is limited to single global selector: :global(<selector>)"),UNSUPPORTED_TOP_DEF:y("21001","error",()=>"top level @st must start with a class"),MISSING_EXTEND:y("21002","error",()=>'missing required class reference to extend a class (e.g. ":is(.class-name)"'),OVERRIDE_IMPORTED_CLASS:y("21003","error",()=>"cannot override imported class definition"),STATE_OUT_OF_CONTEXT:y("21004","error",()=>"pseudo-state definition must be directly nested in a `@st .class{}` definition"),MISSING_MAPPED_SELECTOR:y("21006","error",()=>'missing mapped selector after "=>"'),MULTI_MAPPED_SELECTOR:y("21007","error",()=>"mapped selector accepts only a single selector.\nuse `:is()` or `:where()` to map multiple selectors)"),ELEMENT_OUT_OF_CONTEXT:y("21008","error",()=>"pseudo-element definition must be directly nested in a `@st .class{}` definition"),MISSING_MAPPING:y("21009","error",()=>'expected selector mapping (e.g. "=> <selector>")'),REDECLARE:y("21010","error",(e,t)=>`redeclare ${e} definition: "${t}"`),INVALID_ST_DEF:y("21011","error",e=>`invalid @st "${e}" definition`),MAPPING_UNSUPPORTED_NESTING:y("21012","error",()=>"mapped selector can only contain `&` as an initial selector"),UNEXPECTED_EXTRA_VALUE:y("21013","error",e=>`found unexpected extra value definition: "${e}"`),CLASS_OUT_OF_CONTEXT:y("21014","error",()=>"class definition must be top level")},PS="[experimental feature] stylable structure (@st): API might change!",At=_.key("st-structure"),kO=k({analyzeInit(e){let{meta:t}=e;if(t.type!=="stylable")return;if(t.sourceAst.nodes.find(s=>IS(s))){Oc(PS);let s=_.getUnsafe(e.meta.data,At);s.isStructureMode=!0}else{t.root="root";let s=lr(e,"root");s["-st-root"]=!0}},metaInit({meta:e}){_.set(e.data,At,{isStructureMode:!1,analyzedDefs:new WeakMap,analyzedDefToPartSymbol:new Map,declaredClasses:new Set})},analyzeAtRule({context:e,atRule:t,analyzeRule:r}){if(!IS(t)||e.meta.type!=="stylable")return;let{analyzedDefToPartSymbol:s,declaredClasses:n}=_.getUnsafe(e.meta.data,At),o=$O(t,e);if(o){if(o.type==="topLevelClass"){if(n.add(o.name),lr(e,o.name,t),bc(e,o.name),o.extendedClass){let i=Jr(e.meta,o.extendedClass)||lr(e,o.extendedClass);Yr(e,t,"."+o.name,"-st-extends",Po(i)||i)}if(o.mappedSelector){let i=MS(o);if(i&&i.nodes?.length===1){let a=i.nodes[0];r(Cs.rule({selector:(0,Ui.stringifySelectorAst)(a),source:t.source}),{isScoped:!1,originalNode:t}),Yr(e,t,o.name,"-st-global",a.nodes)}}}else if(o.type==="part"){let i=MO(e,o,s);if(!i){e.diagnostics.report(ne.ELEMENT_OUT_OF_CONTEXT(),{node:t});return}let a=o.name;if(kS(i,a)){let u="::"+a;e.diagnostics.report(ne.REDECLARE("pseudo-element",u),{node:t,word:u});return}r(Cs.rule({selector:(0,Ui.stringifySelectorAst)(o.mappedSelector),source:t.source}),{isScoped:!0,originalNode:t});let l=Vi(i,OS(i),a,[o.mappedSelector]);s.set(o,l)}else if(o.type==="state"){let i=o.parentAnalyze.type==="topLevelClass"?Jr(e.meta,o.parentAnalyze.name):s.get(o.parentAnalyze);if(!i){e.diagnostics.report(ne.STATE_OUT_OF_CONTEXT(),{node:t});return}let a=i["-st-states"]||={},l=o.name;if(a[l]){let u=":"+l;e.diagnostics.report(ne.REDECLARE("pseudo-state",u),{node:t,word:u});return}a[l]=o.stateDef}}},analyzeDone({meta:e}){let{isStructureMode:t}=_.getUnsafe(e.data,At);if(e.type==="stylable"&&!t){let r=Ku(e),s=Sc(e),n=s.root,o=OS(n);for(let[i,a]of Object.entries(r))Vi(n,o,i,a);for(let[i,a]of Object.entries(s))i==="root"||r[i]||Vi(n,o,i,a)}}});function IS(e){return e?.type==="atrule"&&e.name==="st"}function MO(e,{parentAnalyze:t},r){return t.type==="topLevelClass"?Jr(e.meta,t.name):r.get(t)}function LO(e){return _.getUnsafe(e.data,At).isStructureMode}function DS(e){let t=e["-st-parts"]||{},r=e["-st-states"]||{};return{...e,_kind:"part","-st-parts":t,"-st-states":r}}function Vi(e,t,r,s){let n=DS({name:r,id:t+"::"+r,mapTo:s});return e["-st-parts"][r]=n,n}function FO(e){return e["-st-parts"]}function kS(e,t){return e["-st-parts"][t]}function VO(e){return Object.keys(e["-st-parts"])}function OS(e){return e._kind==="class"?"."+e.name:e.id}function UO(e){return e.match}function $O(e,t){let{analyzedDefs:r}=_.getUnsafe(t.meta.data,At);if(r.has(e))return r.get(e);let s=(0,rs.parseCSSValue)(Pc(e)),n=s.length===0?void 0:GO(e,s)||zO(t,e,s)||WO(t,e,s);if(!n){e.parent?.type==="root"?t.diagnostics.report(ne.UNSUPPORTED_TOP_DEF(),{node:e}):t.diagnostics.report(ne.INVALID_ST_DEF(e.params),{node:e});return}switch(n.type){case"topLevelClass":{if(!qO({def:n,atRule:e,context:t}))return;break}case"part":{if(!jO({def:n,atRule:e,context:t}))return;break}case"state":{if(!BO({def:n,atRule:e,context:t}))return;break}}if(UO(n))return r.set(e,n),n}function qO({def:e,atRule:t,context:r}){let{declaredClasses:s}=_.getUnsafe(r.meta.data,At);if(!e.ranges||!e.params||!e.name)return!1;if(e.ranges.extend.length&&!e.extendedClass&&r.diagnostics.report(ne.MISSING_EXTEND(),{node:t,word:(0,rs.stringifyCSSValue)(e.ranges.extend)}),e.ranges.leftoverValue.find(o=>o.type!=="comment"&&o.type!=="space")){let o=(0,rs.stringifyCSSValue)(e.ranges.leftoverValue).trim();return r.diagnostics.report(ne.UNEXPECTED_EXTRA_VALUE(o),{node:t,word:o}),!1}if(t.parent?.type!=="root")return r.diagnostics.report(ne.CLASS_OUT_OF_CONTEXT(),{node:t}),!1;if(D(r.meta,e.name)?._kind==="import")return r.diagnostics.report(ne.OVERRIDE_IMPORTED_CLASS(),{node:t}),!1;if(s.has(e.name)){let o="."+e.name;return r.diagnostics.report(ne.REDECLARE("class",o),{node:t,word:o}),!1}if(e.ranges.mapArrow.length){if(!e.mappedSelector){let i=e.ranges.mapArrow[e.ranges.mapArrow.length-1];for(let a=e.params.length-1;a>=0;a--){let l=e.params[a];if(l===i)break;if(_i(l,","))return r.diagnostics.report(ne.MULTI_MAPPED_SELECTOR(),{node:t}),!1}return r.diagnostics.report(ne.MISSING_MAPPED_SELECTOR(),{node:t}),!1}let o=MS(e,!0);if(!o||!o.nodes||o.nodes.length!==1)return r.diagnostics.report(ne.GLOBAL_MAPPING_LIMITATION(),{node:t,word:(0,Ui.stringifySelectorAst)(e.mappedSelector).trim()}),!1}return!0}function jO({def:e,atRule:t,context:r}){if(!e.parentAnalyze)return r.diagnostics.report(ne.ELEMENT_OUT_OF_CONTEXT(),{node:t}),!1;if(!e.mappedSelector){if(!e.mappedArrow)return r.diagnostics.report(ne.MISSING_MAPPING(),{node:t}),!1;let s=e.ranges.mapArrow[e.ranges.mapArrow.length-1];for(let n=e.params.length-1;n>=0;n--){let o=e.params[n];if(o===s)break;if(_i(o,","))return r.diagnostics.report(ne.MULTI_MAPPED_SELECTOR(),{node:t}),!1}return r.diagnostics.report(ne.MISSING_MAPPED_SELECTOR(),{node:t}),!1}return!HO(e.mappedSelector,r,t)}function BO({def:e,atRule:t,context:r}){if(!e.parentAnalyze)return r.diagnostics.report(ne.STATE_OUT_OF_CONTEXT(),{node:t}),!1;let[s]=vi(e.ranges.leftoverValue,0);if(s){let n=(0,rs.stringifyCSSValue)(e.ranges.leftoverValue).trim();return r.diagnostics.report(ne.UNEXPECTED_EXTRA_VALUE(n),{node:t,word:n}),!1}return!0}function MS(e,t=!1){if(!e.mappedSelector)return;let r,s=!1;for(let n of e.mappedSelector.nodes)if(n.type==="pseudo_class"&&n.value==="global"&&!r){if(r=n,!t)break}else n.type!=="comment"&&(s=!0);return s?void 0:r}function WO(e,t,r){let s={type:"state",params:r,match:!0,ranges:{leftoverValue:[]}},n=0,{analyzedDefs:o}=_.getUnsafe(e.meta.data,At),[i,a]=sc(r,0);if(a)s.name=a.value;else return;n+=i;let l=t.parent,u=l&&o.get(l);u&&(u.type==="topLevelClass"||u.type==="part")&&(s.parentAnalyze=u);let[c,f]=wi(r.slice(n-1),t,e.diagnostics);f!==void 0?(n+=c,s.stateDef=f):s.match=!1;let p=n-1;s.ranges.leftoverValue.push(...r.slice(p));let[d]=vi(r,n);return d&&(s.match=!1),s}function zO(e,t,r){let{analyzedDefs:s}=_.getUnsafe(e.meta.data,At),n={type:"part",params:r,match:!0,name:"",ranges:{pseudoElement:[],mapArrow:[],mapTo:[],leftoverValue:[]}},o=0,[i,a,l]=Jg(r,0);if(n.ranges.pseudoElement.push(...r.slice(o,o+l)),o+=i,a)n.name=a.value;else return!1;let u=t.parent,c=u&&s.get(u);(c?.type==="topLevelClass"||c?.type==="part")&&(n.parentAnalyze=c);let[f,p,d]=bi(r,o,{stopOnFail:!1});if(n.ranges.mapArrow.push(...r.slice(o,o+d)),o+=f,p){n.mappedArrow=!0,n.ranges.mapTo.push(...r.slice(o)),o=r.length-1;let m=Pc(t).slice(p.end),S=L(m.trim()),h=S.length===1&&LS(S[0]);h&&h.nodes.length&&(n.mappedSelector=h)}else n.match=!1;return n.ranges.leftoverValue.push(...r.slice(o+1)),n}function GO(e,t){let r={type:"topLevelClass",params:t,match:!0,ranges:{class:[],extend:[],mapArrow:[],mapTo:[],leftoverValue:[]},name:""},s=0,[n,o,i]=rc(t,s,{stopOnFail:!0});if(r.ranges.class.push(...t.slice(s,s+i)),s+=n,o)r.name=o.value;else return!1;let[a,l,u]=sc(t,s,{name:"is",stopOnFail:!0,stopOnMatch:(d,m,S)=>{let[h]=bi(S,m,{stopOnFail:!0});return h>0}});if(l&&(r.ranges.extend.push(...t.slice(s,s+u)),s+=a,l.type==="call")){let[d,m]=rc(l.args,0,{stopOnFail:!0});if(d){s+=a;let[S]=vi(l.args,d);S||(r.extendedClass=m.value)}}let[c,f,p]=bi(t,s,{stopOnFail:!1});if(f){r.ranges.mapArrow.push(...t.slice(s,s+p)),s+=c,r.ranges.mapTo.push(...t.slice(s)),s=t.length;let d=Pc(e).slice(f.end),m=L(d),S=m.length===1&&LS(m[0]);S&&S.nodes.length&&(r.mappedSelector=S)}return r.ranges.leftoverValue.push(...t.slice(s)),r}function HO(e,t,r){let s=!1,n=!1;return ee(e,o=>{if(n&&o.type==="nesting")return t.diagnostics.report(ne.MAPPING_UNSUPPORTED_NESTING(),{node:r}),s=!0,ee.stopAll;o.type!=="comment"&&o.type!=="selector"&&(n=!0)}),s}function Pc(e){let t=e.raws.afterName||"",r=e.raws.between||"";return t+e.params+r}function LS(e){return{...e,after:"",before:"",nodes:e.nodes.filter(r=>r.type!=="comment")}}var QO=[se,me,Ve,Ge,Oe,Se,be,ir,vt,U,Ee,Xr,he,Pe,xe,we,je],ss=class{constructor(t,r,s){this.sourceAst=t;this.diagnostics=r;this.flags=s;this.data={};this.root="";this.source=Th(this.sourceAst,this.diagnostics);this.type=this.source.endsWith(".st.css")?"stylable":"css";this.namespace="";this.urls=[];this.transformDiagnostics=null;this.transformedScopes=null;this.scopes=[];this.globals={};let n={meta:this,diagnostics:r};for(let{hooks:o}of QO)o.metaInit(n)}getSymbol(t){return se.get(this,t)}getAllSymbols(){return se.getAll(this)}getClass(t){return U.get(this,t)}getAllClasses(){return U.getAll(this)}getTypeElement(t){return Ee.get(this,t)}getAllTypeElements(){return Ee.getAll(this)}getImportStatements(){return me.getImportStatements(this)}getStVar(t){return se.get(this,t,"var")}getAllStVars(){return se.getAllByType(this,"var")}};var ns=class{constructor(t=new oe,r=Ve.defaultProcessNamespace,s={...Or}){this.diagnostics=t;this.resolveNamespace=r;this.flags=s}process(t){this.meta=new ss(t,this.diagnostics,this.flags),je.hooks.analyzeInit(this),me.hooks.analyzeInit(this),he.hooks.analyzeInit(this),this.handleAtRules(t),t.walkRules(s=>{et(s,"keyframes")||this.handleRule(s,{isScoped:et(s,"st-scope"),reportUnscoped:!0})});let r=this.meta.type==="stylable";return t.walkDecls(s=>{let n=s.parent;n.type==="rule"&&n.selector===":vars"&&r||(U.hooks.analyzeDeclaration({context:this,decl:s}),he.hooks.analyzeDeclaration({context:this,decl:s}),we.hooks.analyzeDeclaration({context:this,decl:s}),this.collectUrls(s))}),Ve.hooks.analyzeDone(this),be.hooks.analyzeDone(this),je.hooks.analyzeDone(this),Ve.setMetaNamespace(this,this.resolveNamespace),se.reportRedeclare(this),this.meta}handleAtRules(t){let r=(s,{isScoped:n,originalNode:o})=>this.handleRule(s,{isScoped:n,originalNode:o,reportUnscoped:!1});t.walkAtRules(s=>{switch(s.name){case"st-import":{me.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"namespace":case"st-namespace":{Ve.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"keyframes":Pe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"layer":xe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"import":me.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r}),xe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"custom-selector":{be.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"st-scope":Oe.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break;case"property":case"st-global-custom-property":{he.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"container":{we.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}case"st":{je.hooks.analyzeAtRule({context:this,atRule:s,analyzeRule:r});break}}})}collectUrls(t){rr(t,r=>{r.type==="url"&&this.meta.urls.push(r.url)},!1)}handleRule(t,{isScoped:r,reportUnscoped:s,originalNode:n=t}){let o=L(t.selector),i=r,a=-1;return ee(o,(l,...u)=>{let[c,f,p]=u;l.type==="selector"&&!hh(p)&&(i=r,a++);let m=Ge.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});if(m!==void 0)return m;if(l.type==="pseudo_class")if(l.value==="import")me.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});else{if(l.value==="vars")return Se.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u});if(l.value.startsWith("--"))i=i||be.isScoped(this.meta,l.value.slice(2))||!1;else if(!Yd.includes(l.value))return ee.skipNested}else l.type==="class"?(U.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u}),i=U.validateClassScoping({context:this,classSymbol:U.get(this.meta,l.value),locallyScoped:i,reportUnscoped:s,node:l,nodes:f,index:c,rule:t})):l.type==="type"?(Ee.hooks.analyzeSelectorNode({context:this,node:l,topSelectorIndex:a,rule:t,originalNode:n,walkContext:u}),i=Ee.validateTypeScoping({context:this,locallyScoped:i,reportUnscoped:s,node:l,nodes:f,index:c,rule:t})):l.type==="id"?l.nodes&&this.diagnostics.report(Fe.INVALID_FUNCTIONAL_SELECTOR("#"+l.value,"id"),{node:t,word:Y(l)}):l.type==="attribute"?l.nodes&&this.diagnostics.report(Fe.INVALID_FUNCTIONAL_SELECTOR(`[${l.value}]`,"attribute"),{node:t,word:Y(l)}):l.type==="nesting"&&l.nodes&&this.diagnostics.report(Fe.INVALID_FUNCTIONAL_SELECTOR(l.value,"nesting"),{node:t,word:Y(l)})}),Ge.hooks.analyzeSelectorDone({context:this,rule:t,originalNode:n}),i}},FS=Ve.defaultProcessNamespace;function VS({fileSystem:e,onProcess:t,resolveNamespace:r,cssParser:s=Es,cache:n,createDiagnostics:o,flags:i={...Or}}){return Lc((a,l)=>new ns(o?.(a),r,i).process(s(l,{from:a})),a=>e.readFileSync(a,"utf8"),t&&[t],n)}var $S=I(Ac());function $i(e,t){if(e===null||t===null)return e===t;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!$i(e[r],t[r]))return!1;return!0}if(typeof e=="object"&&typeof t=="object"){let r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let n of r)if(!$i(e[n],t[n]))return!1;return!0}return e===t}var fr=I(it());RS(cp.prototype,"stScopeSelector",{objectType:"SRule",valueOnThis:!0,pleaseUse:"getRuleScopeSelector(rule)"});function US(e){return NS(()=>e.stScopeSelector)}var KO={UNKNOWN_PSEUDO_ELEMENT:y("12001","error",e=>`unknown pseudo element "${e}"`)},qi=class{constructor(t){this.directiveNodes=[];this.containerInferredSelectorMap=new Map;this.diagnostics=t.diagnostics,this.keepValues=t.keepValues||!1,this.fileProcessor=t.fileProcessor,this.replaceValueHook=t.replaceValueHook,this.postProcessor=t.postProcessor,this.experimentalSelectorInference=t.experimentalSelectorInference===!0,this.resolver=new qr(t.fileProcessor,t.requireModule,t.moduleResolver,t.resolverCache||new Map),this.mode=t.mode||"production",this.defaultStVarOverride=t.stVarOverride||{},this.getResolvedSymbols=jr(this.resolver,this.diagnostics),this.evaluator=new sr({valueHook:this.replaceValueHook,getResolvedSymbols:this.getResolvedSymbols})}transform(t){t.exports={classes:{},vars:{},stVars:{},keyframes:{},layers:{},containers:{}},t.transformedScopes=null,t.targetAst=t.sourceAst.clone();let r={meta:t,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:this.evaluator,getResolvedSymbols:this.getResolvedSymbols};me.hooks.transformInit({context:r}),Ge.hooks.transformInit({context:r}),Se.hooks.transformInit({context:r}),this.experimentalSelectorInference||(t.transformedScopes=YO(this,t)),this.transformAst(t.targetAst,t,t.exports),t.transformDiagnostics=this.diagnostics;let s={meta:t,exports:t.exports};return this.postProcessor?this.postProcessor(s,this):s}transformAst(t,r,s,n=this.defaultStVarOverride,o=[],i=!1,a){if(r.type!=="stylable")return;let{evaluator:l}=this,u=l.stVarOverride;l.stVarOverride=n;let c={meta:r,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:l,getResolvedSymbols:this.getResolvedSymbols,passedThrough:o.slice(),inferredSelectorMixin:a},f={context:c};XO(c,t,this.experimentalSelectorInference);let p=U.hooks.transformResolve(f),d=Se.hooks.transformResolve(f),m=Pe.hooks.transformResolve(f),S=xe.hooks.transformResolve(f),h=we.hooks.transformResolve(f),v=he.hooks.transformResolve(f),T=C=>{let{name:N}=C;N==="media"?Li.hooks.transformAtRuleNode({context:c,atRule:C,resolved:{},transformer:this}):N==="property"?he.hooks.transformAtRuleNode({context:c,atRule:C,resolved:v,transformer:this}):N==="keyframes"?Pe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:m,transformer:this}):N==="layer"?xe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:S,transformer:this}):N==="import"?xe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:S,transformer:this}):N==="container"?we.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this}):N==="st-scope"?Oe.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this}):N==="custom-selector"&&be.hooks.transformAtRuleNode({context:c,atRule:C,resolved:h,transformer:this})},A=C=>{if(Ie(C.prop)?he.hooks.transformDeclaration({context:c,decl:C,resolved:v}):C.prop==="animation"||C.prop==="animation-name"?Pe.hooks.transformDeclaration({context:c,decl:C,resolved:m}):(C.prop==="container"||C.prop==="container-name")&&we.hooks.transformDeclaration({context:c,decl:C,resolved:h}),C.prop.startsWith("-st-")){this.mode==="production"&&this.directiveNodes.push(C);return}C.value=this.evaluator.evaluateValue(c,{value:C.value,meta:r,node:C,cssVarsMapping:v}).outputValue};t.walk(C=>{if(C.type==="rule"){if(et(C,"keyframes"))return;let N=C.parent;for(;N&&!this.containerInferredSelectorMap.has(N);)N=N.parent;let{selector:M,inferredSelector:Q}=this.scopeSelector(r,C.selector,C,N&&this.containerInferredSelectorMap.get(N),a);this.containerInferredSelectorMap.set(C,Q),C.selector=M}else C.type==="atrule"?T(C):C.type==="decl"&&A(C)}),!i&&r.targetAst&&this.mode==="development"&&U.addDevRules(c);let x={context:c,ast:t,transformer:this,cssVarsMapping:v,path:o};if(this.experimentalSelectorInference&&Oe.hooks.transformLastPass(x),vt.hooks.transformLastPass(x),!i){Ge.hooks.transformLastPass(x);for(let C of this.directiveNodes)C.remove()}s&&(U.hooks.transformJSExports({exports:s,resolved:p}),Se.hooks.transformJSExports({exports:s,resolved:d}),Pe.hooks.transformJSExports({exports:s,resolved:m}),xe.hooks.transformJSExports({exports:s,resolved:S}),we.hooks.transformJSExports({exports:s,resolved:h}),he.hooks.transformJSExports({exports:s,resolved:v})),this.evaluator.stVarOverride=u}resolveSelectorElements(t,r){return this.scopeSelector(t,r).elements}scopeSelector(t,r,s,n,o,i=!1){let a=this.createSelectorContext(t,L(r,{clone:!0}),s||ye({selector:r}),r,n,o),l=this.scopeSelectorAst(a);return i&&Ge.unwrapPseudoGlobals(l),{targetSelectorAst:l,selector:Y(l),elements:a.elements,inferredSelector:a.inferredMultipleSelectors}}createSelectorContext(t,r,s,n,o,i){return new kc(t,this.resolver,r,s,this.scopeSelectorAst.bind(this),this,o,i,void 0,n)}createInferredSelector(t,{name:r,type:s}){let o=this.getResolvedSymbols(t)[s][r];return new Ct(this,o)}scopeSelectorAst(t){let r=(0,fr.groupCompoundSelectors)(t.selectorAst);for(let n of r){t.elements.push([]),t.selectorIndex++,t.selector=n;for(let o of[...n.nodes]){if(o.type!=="compound_selector"){o.type==="combinator"&&(this.experimentalSelectorInference||t.isNested)&&t.setNextSelectorScope(t.inferredSelectorContext,o);continue}t.compoundSelector=o;for(let i of o.nodes)i.type==="universal"&&this.experimentalSelectorInference&&t.setNextSelectorScope([{_kind:"css",meta:t.originMeta,symbol:Ee.createSymbol({name:"*"})}],o),t.node=i,this.handleCompoundNode(t)}t.inferredMultipleSelectors.add(t.inferredSelector),r.length-1>t.selectorIndex&&(t.inferredSelector=new Ct(this,t.inferredSelectorStart))}r.length===0&&t.elements.push([]);let s=(0,fr.splitCompoundSelectors)(r);t.splitSelectors.duplicateSelectors(s);for(let n=0;n<s.length;n++)t.selectorAst[n]=s[n];return s}handleCompoundNode(t){let{inferredSelector:r,node:s,originMeta:n}=t,o={meta:n,diagnostics:this.diagnostics,resolver:this.resolver,evaluator:this.evaluator,getResolvedSymbols:this.getResolvedSymbols};if(s.type==="class")U.hooks.transformSelectorNode({context:o,selectorContext:t,node:s});else if(s.type==="type")Ee.hooks.transformSelectorNode({context:o,selectorContext:t,node:s});else if(s.type==="pseudo_element"){if(s.value==="")return;let i=r.getPseudoElements({isFirstInSelector:t.isFirstInSelector(s),name:s.value,experimentalSelectorInference:this.experimentalSelectorInference})[s.value];i?(t.setNextSelectorScope(i.inferred,s,s.value),t.transform&&t.transformIntoMultiSelector(s,i.selectors)):(t.setNextSelectorScope([],s,s.value),!Jd.includes(s.value)&&!(0,$S.default)(s.value)&&!t.isDuplicateStScopeDiagnostic()&&this.diagnostics.report(KO.UNKNOWN_PSEUDO_ELEMENT(s.value),{node:t.ruleOrAtRule,word:s.value}))}else s.type==="pseudo_class"?be.hooks.transformSelectorNode({context:o,selectorContext:t,node:s})||Xr.hooks.transformSelectorNode({context:o,selectorContext:t,node:s}):s.type==="nesting"?t.setNextSelectorScope(t.inferredSelectorNest,s,s.value):s.type==="attribute"&&vt.hooks.transformSelectorNode({context:o,selectorContext:t,node:s})}};function YO(e,t){let r={};for(let s of t.scopes){let n=e.diagnostics.reports.length,o=ye({selector:s.params}),i=e.createSelectorContext(t,L(o.selector,{clone:!0}),o,o.selector);r[o.selector]=(0,fr.groupCompoundSelectors)(e.scopeSelectorAst(i));let a=e.diagnostics.reports.splice(n);for(let{code:l,message:u,severity:c,word:f}of a)e.diagnostics.report({code:l,message:u,severity:c},{node:s,word:f||s.params})}return r}function JO(e,t,r){let s=!1,n=(0,fr.groupCompoundSelectors)(e),o=n.nodes.find(({type:i})=>i==="compound_selector");if(o){let i=r?a=>a.type==="nesting":a=>a.type==="class"&&a.value===t.root;for(let a=0;a<o.nodes.length;a++){let l=o.nodes[a];if(l.type!=="comment"){i(l)&&(s=!0,o.nodes.splice(a,1));break}}}return{selector:(0,fr.splitCompoundSelectors)(n),hadCompoundStart:s}}var Ct=class e{constructor(t,r){this.api=t;this.resolveSet=new Set;r&&this.add(r)}isEmpty(){return this.resolveSet.size===0}set(t){t!==this&&(this.resolveSet.clear(),this.add(t))}clone(){return new e(this.api,this)}add(t){t instanceof e?t.resolveSet.forEach(r=>this.add(r)):this.resolveSet.add(t)}addPartOverride(t){let r=new Set;for(let s of this.resolveSet)r.add([t,...s]);this.resolveSet.size||r.add([t]),this.resolveSet=r}getPseudoClasses({name:t}={}){let r={},s={},n=this.resolveSet.size,o=(i,a,l)=>{let u=r[i];u?$i(u.state,l)&&(u.meta===a||typeof l=="string"||l?.type==="template")&&s[i]++:(r[i]={meta:a,state:l},s[i]=1)};for(let i of this.resolveSet.values()){let a=new Set;e:for(let{symbol:l,meta:u}of i){let c=l["-st-states"];if(c)if(t){if(Object.hasOwnProperty.call(c,t)){o(t,u,c[t]);break e}}else for(let[f,p]of Object.entries(c))a.has(f)||(a.add(f),o(f,u,p))}}return n>1?Object.entries(r).reduce((i,[a,l])=>(s[a]>=n&&(i[a]=l),i),{}):r}getPseudoElements({isFirstInSelector:t,experimentalSelectorInference:r,name:s}){let n={},o={},i={},a=this.resolveSet.size,l=(u,c,f)=>{let p=n[u]||={inferred:new e(this.api),selectors:[]};p.inferred.matchedElement(c)&&(o[u]++,p.inferred.add(c),p.selectors.push(...f))};for(let u of this.resolveSet.values()){let c=u.length===1||u[0]&&(je.isStructureMode(u[0].meta)||u[0].symbol._kind==="part")?0:1;e:for(let f=c;f<u.length;f++){let{symbol:p,meta:d}=u[f],m=je.isStructureMode(d);if(!(p._kind!=="part"&&(p.alias||!m&&!p["-st-root"]))&&s){let S=p._kind==="part"?p.id:p.name,h=d.source+"::"+S;if(o[s]??=0,i[s]||=new Map,i[s].has(h)){i[s].get(h)&&o[s]++;continue}let v=je.getPart(p,s);if(i[s].set(h,!!v),!v)continue;if(Array.isArray(v.mapTo)){let T=fh(v.mapTo),A=Y(v.mapTo);T.forEach(M=>{let Q=JO(M,d,m);M.nodes=Q.selector.nodes,M.before="",!Q.hadCompoundStart&&!t&&M.nodes.unshift(Ql({combinator:"space"}))});let x=this.api.createSelectorContext(d,T,ye({selector:A}),A);x.isStandaloneSelector=t,!m&&r&&(x.inferredSelectorStart.set(this.api.createInferredSelector(d,{name:"root",type:"class"})),x.inferredSelector.set(x.inferredSelectorStart));let C=this.api.scopeSelectorAst(x),N=C.length===1||r?x.inferredMultipleSelectors:new e(this.api,[{_kind:"css",meta:d,symbol:Ee.createSymbol({name:"*"})}]);m&&N.addPartOverride({_kind:"css",meta:d,symbol:v}),l(s,N,C);break e}else{let T=this.api.getResolvedSymbols(d).class[s],A=Lt(T),x=[];!A.symbol["-st-root"]&&!t&&x.push(Ql({combinator:"space"}));let C={};U.namespaceClass(A.meta,A.symbol,C),x.push(C),l(s,new e(this.api,T),[{type:"selector",after:"",before:"",end:0,start:0,nodes:x}]);break e}}}}return a>1?Object.entries(n).reduce((u,[c,f])=>(o[c]>=a&&(u[c]=f),u),{}):n}matchedElement(t){for(let r of this.resolveSet){let s=Lt(r);for(let n of t.resolveSet){let o=Lt(n);if(s!==o)return!1}}return!0}getSingleResolve(){return this.resolveSet.size!==1?[]:this.resolveSet.values().next().value}},Dc=class{constructor(){this.dupIndicesPerSelector=[]}addSplitPoint(t,r,s){s.length&&(this.dupIndicesPerSelector[t]||=[],this.dupIndicesPerSelector[t].push([r,s]))}duplicateSelectors(t){for(let[r,s]of Object.entries(this.dupIndicesPerSelector)){let n=[t[Number(r)]];for(let[o,i]of s){let a=[];for(let l of i)for(let u of n){let c={...u,nodes:[...u.nodes]};c.nodes[o]=l,a.push(c)}for(let l of a)n.push(l),t.push(l)}}}},kc=class e{constructor(t,r,s,n,o,i,a,l,u,c){this.originMeta=t;this.resolver=r;this.selectorAst=s;this.ruleOrAtRule=n;this.scopeSelectorAst=o;this.transformer=i;this.inferredSelectorMixin=l;this.transform=!0;this.selectorStr="";this.selectorIndex=-1;this.elements=[];this.selectorAstResolveMap=new Map;this.splitSelectors=new Dc;this.isStandaloneSelector=!0;this.inferredMultipleSelectors=new Ct(this.transformer);this.isNested=!!(n.parent&&n.parent.type!=="root"&&!Oe.isStScopeStatement(n.parent));let f=u||(this.isNested||i.experimentalSelectorInference?new Ct(i,[{_kind:"css",meta:t,symbol:Ee.createSymbol({name:"*"})}]):i.createInferredSelector(t,{name:t.root,type:"class"}));this.selectorStr=c||Y(s),this.inferredSelectorContext=new Ct(this.transformer,f),this.inferredSelectorStart=new Ct(this.transformer,f),this.inferredSelectorNest=a||this.inferredSelectorContext.clone(),this.inferredSelector=new Ct(this.transformer,this.inferredSelectorContext)}get experimentalSelectorInference(){return this.transformer.experimentalSelectorInference}static{this.legacyElementsTypesMapping={pseudo_element:"pseudo-element",class:"class",type:"element"}}setNextSelectorScope(t,r,s){s&&this.selectorIndex!==void 0&&this.selectorIndex!==-1&&this.elements[this.selectorIndex].push({type:e.legacyElementsTypesMapping[r.type]||"unknown",name:s,resolved:Array.isArray(t)?t:t.getSingleResolve()}),this.inferredSelector.set(t),this.selectorAstResolveMap.set(r,this.inferredSelector.clone()),this.lastInferredSelectorNode=r}isFirstInSelector(t){let r=this.selectorAst[this.selectorIndex].nodes[0]===t;return r&&this.selectorIndex===0&&!this.isStandaloneSelector?!1:r}createNestedContext(t,r){let s=new e(this.originMeta,this.resolver,t,this.ruleOrAtRule,this.scopeSelectorAst,this.transformer,this.inferredSelectorNest,this.inferredSelectorMixin,r||this.inferredSelectorContext);return s.transform=this.transform,s.selectorAstResolveMap=this.selectorAstResolveMap,s}transformIntoMultiSelector(t,r){Object.assign(t,r[0]),r.shift();let n=this.selectorAst[this.selectorIndex].nodes.indexOf(t);this.splitSelectors.addSplitPoint(this.selectorIndex,n,r)}isDuplicateStScopeDiagnostic(){if(this.experimentalSelectorInference||this.ruleOrAtRule.type!=="rule")return!1;let t=this.originMeta.transformedScopes?.[US(this.ruleOrAtRule)||""];if(t&&this.selector&&this.compoundSelector){let r=Y(this.compoundSelector),s=this.selector.nodes.indexOf(this.compoundSelector);for(let n of t)if(s<=n.nodes.length){for(let o of n.nodes)if(Y(o)===r)return!0}}return!1}};function XO(e,t,r){let s=[];t.walk(n=>{let o={context:e,node:n,toRemove:s};Ve.hooks.prepareAST(o),me.hooks.prepareAST(o),r||Oe.hooks.prepareAST(o),Se.hooks.prepareAST(o),r||be.hooks.prepareAST(o),he.hooks.prepareAST(o)});for(let n of s)typeof n=="function"?n():n.remove()}var qS={createResolver:()=>{throw new Error("Stylable requires a custom resolver in lib bundles. please provide `resolveModule` options to the Stylable constructor.")}};function ZO(){let e;try{e=Object.keys(BS()._extensions)}catch{e=[]}return e.length?e:[".js",".json"]}var eP={};function ji(e,t){let r=t.extensions&&t.extensions.length?t.extensions:ZO(),s=qS.createResolver({...t,extensions:r,useSyncFileSystemCalls:!0,cache:!1,fileSystem:e});return(n,o)=>{let i=s.resolveSync(eP,n,o);if(i===!1)throw new Error(`Stylable does not support browser field 'false' values. ${o} resolved to 'false' from ${n}`);return i}}function*WS({meta:e,resolver:t}){let r=new Set([e.source]),s=[[...e.getImportStatements()]],n=-1;for(;++n<s.length;){let o=-1,i=s[n];for(i.length&&!s[n+1]&&(s[n+1]=[]);++o<i.length;){let a=i[o],l=t.resolveImported(a,"");if(l?._kind==="css"&&!r.has(l.meta.source))r.add(l.meta.source),yield{kind:"css",depth:n+1,meta:l.meta,resolvedPath:l.meta.source,imported:a},s[n+1].push(...l.meta.getImportStatements());else if(l?._kind==="js"){let u=t.resolvePath(a.context,a.request);r.has(u)||(r.add(u),yield{kind:"js",imported:a,resolvedPath:u})}}}}var Bi=class{constructor(t){this.stModule=new me.StylablePublicApi(this);this.stScope=new Oe.StylablePublicApi(this);this.stVar=new Se.StylablePublicApi(this);this.stMixin=new vt.StylablePublicApi(this);this.cssClass=new U.StylablePublicApi(this);this.diagnostics=new oe;this.experimentalSelectorInference=!!t.experimentalSelectorInference,this.projectRoot=t.projectRoot,this.fileSystem=t.fileSystem,this.requireModule=t.requireModule||(()=>{throw new Error("Javascript files are not supported without requireModule options")}),this.onProcess=t.onProcess,this.hooks=t.hooks||{},this.resolveOptions=t.resolveOptions||{},this.optimizer=t.optimizer,this.mode=t.mode||"production",this.resolveNamespace=t.resolveNamespace,this.moduleResolver=t.resolveModule||ji(this.fileSystem,this.resolveOptions),this.cssParser=t.cssParser||Es,this.resolverCache=t.resolverCache,this.fileProcessorCache=t.fileProcessorCache,this.flags={...Or,...t.flags},this.fileProcessor=VS({fileSystem:this.fileSystem,onProcess:this.onProcess,resolveNamespace:this.resolveNamespace,cssParser:this.cssParser,cache:this.fileProcessorCache,flags:this.flags}),this.resolver=this.createResolver()}getDependencies(t){let r=[];for(let s of WS({meta:t,resolver:this.resolver}))r.push(s);return r}initCache({filter:t}={}){if(t&&this.resolverCache)for(let[r,s]of this.resolverCache)t(r,s)||this.resolverCache.delete(r);else this.resolverCache=new Map,this.resolver=this.createResolver()}createResolver({requireModule:t=this.requireModule,resolverCache:r=this.resolverCache,resolvePath:s=this.moduleResolver}={}){return new qr(this.fileProcessor,t,s,r)}createProcessor({resolveNamespace:t=this.resolveNamespace}={}){return new ns(new oe,t,this.flags)}createTransformer(t={}){return new qi({moduleResolver:this.moduleResolver,diagnostics:new oe,fileProcessor:this.fileProcessor,requireModule:this.requireModule,postProcessor:this.hooks.postProcessor,replaceValueHook:this.hooks.replaceValueHook,resolverCache:this.resolverCache,mode:this.mode,experimentalSelectorInference:this.experimentalSelectorInference,...t})}transform(t,r={}){let s=typeof t=="string"?this.analyze(t):t;return this.createTransformer(r).transform(s)}transformSelector(t,r,s){let n=typeof t=="string"?this.analyze(t):t,i=this.createTransformer(s).scopeSelector(n,r,void 0,void 0,void 0,!0);return{selector:i.selector,resolved:i.elements}}transformCustomProperty(t,r){let s=typeof t=="string"?this.analyze(t):t;return he.scopeCSSVar(this.resolver,s,r)}transformDecl(t,r,s,n){let o=_e({prop:r,value:s});return this.transformAST(t,Sr({}).append(ye({selector:".x"}).append(o)),n),{prop:o.prop,value:o.value}}transformAST(t,r,s){let n=typeof t=="string"?this.analyze(t):t;return this.createTransformer(s).transformAst(r,n),r}analyze(t,r){return r?this.fileProcessor.processContent(r,t):this.fileProcessor.process(t)}resolvePath(t,r){return this.resolver.resolvePath(t,r)}};function zS({prefix:e="",used:t=new Map}={}){return(r,s)=>{let n=e+r,o=t.get(n);if(o){if(o.stylesheetPath!==s)throw new Error(`namespace (${n} of ${s}) is already in use`)}else t.set(n,{prefix:e,namespace:r,stylesheetPath:s});return n}}function GS(e,t){let{namespace:r,imports:s=[],jsExports:n,moduleType:o,runtimeRequest:i,varType:a="const",header:l="",footer:u=""}=e,{classes:c,keyframes:f,layers:p,containers:d,stVars:m,vars:S}=n,h=o==="esm"?`export ${a} `:"module.exports.";return`
${s.map(tP(o)).join(`
`)}
${rP(o,i,t)}

${l}

${a} _namespace_ = ${JSON.stringify(r)};
${a} _style_ = /*#__PURE__*/ classesRuntime.bind(null, _namespace_);

${h}cssStates = /*#__PURE__*/ statesRuntime.bind(null, _namespace_);
${h}style = /*#__PURE__*/ _style_;
${h}st = /*#__PURE__*/ _style_;

${h}namespace = _namespace_;
${h}classes = ${JSON.stringify(c)};
${h}keyframes = ${JSON.stringify(f)}; 
${h}layers = ${JSON.stringify(p)};
${h}containers = ${JSON.stringify(d)};
${h}stVars = ${JSON.stringify(m)}; 
${h}vars = ${JSON.stringify(S)}; 

${sP(o,t)}

${u}
`}function tP(e){return({from:t,defaultImport:r})=>{let s=JSON.stringify(t);return r?e==="esm"?`import ${r} from ${s};`:`const ${r} = require(${s});`:e==="esm"?`import ${s};`:`require(${s});`}}function rP(e,t,r){let s=r?.css?", injectCSS":"",n=JSON.stringify(t??(e==="esm"?"@stylable/runtime/esm/runtime.js":"@stylable/runtime/dist/runtime.js"));return e==="esm"?`import { classesRuntime, statesRuntime${s} } from ${n};`:`const { classesRuntime, statesRuntime${s} } = require(${n});`}function sP(e,t){if(!t?.css)return"";let{id:r,css:s,cssCode:n,depthCode:o,depth:i,runtimeId:a}=t,l="injectCSS(";return l+=r?JSON.stringify(r):e==="esm"?"import.meta.url":"module.id",l+=", ",l+=n||JSON.stringify(s),l+=", ",l+=o||JSON.stringify(i)||"-1",l+=", ",l+=JSON.stringify(a),l+=");",l}
/*! Bundled license information:

cssesc/cssesc.js:
  (*! https://mths.be/cssesc v3.0.0 by @mathias *)
*/
//# sourceMappingURL=lib.cjs.map
